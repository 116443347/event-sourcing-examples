{"version":3,"sources":["webpack:///./src/client.js?","webpack:///./src/app.js?","webpack:///./~/redux-router/server.js?","webpack:///./~/redux-router/lib/server.js?","webpack:///./~/redux-router/lib/matchMiddleware.js?","webpack:///./src/reducers/index.js?","webpack:///./src/reducers/auth/index.js?","webpack:///./src/reducers/auth/configure.js?","webpack:///./src/constants/ACTION_TYPES.js?","webpack:///./src/utils/defineActionTypes.js?","webpack:///./src/reducers/createDataReducer.js?","webpack:///./src/reducers/auth/authenticate.js?","webpack:///./src/reducers/auth/signin.js?","webpack:///./src/reducers/createFormReducer.js?","webpack:///./src/reducers/auth/signup.js?","webpack:///./src/reducers/auth/signout.js?","webpack:///./src/reducers/auth/user.js?","webpack:///./src/reducers/data/index.js?","webpack:///./src/reducers/data/accounts.js?","webpack:///./src/reducers/data/transfers.js?","webpack:///./src/reducers/data/entities.js?","webpack:///./src/reducers/data/bookmarkAccount.js?","webpack:///./src/reducers/ui/index.js?","webpack:///./src/reducers/ui/account.js?","webpack:///./src/reducers/ui/errors.js?","webpack:///./src/reducers/ui/bookmarkAccount.js?","webpack:///./src/reducers/ui/transfersMake.js?","webpack:///./src/actions/configure.js?","webpack:///./src/actions/authenticate.js?","webpack:///./src/utils/actions.js?","webpack:///./src/utils/sessionStorage.js?","webpack:///./src/utils/constants.js?","webpack:///./src/utils/root.js?","webpack:///./src/utils/api.js?","webpack:///./src/utils/fetch.js?","webpack:///./src/utils/handleFetchResponse.js?","webpack:///./src/actions/entities.js?","webpack:///./src/utils/clientSettings.js?","webpack:///./src/utils/parseEndpointConfig.js?","webpack:///./src/actions/navigate.js?","webpack:///./src/components/AuthComponent.js?","webpack:///./src/utils/readProp.js?","webpack:///./src/components/partials/Container.js?","webpack:///./src/components/HeaderLinks.js?","webpack:///./src/actions/signOut.js?","webpack:///./src/views/MyAccounts.js?","webpack:///./src/components/AccountInfo.js?","webpack:///./src/views/modals/index.js?","webpack:///./src/views/modals/Add3rdPartyAccountModal.js?","webpack:///./src/controls/bootstrap/ButtonLoader.js?","webpack:///./src/controls/bootstrap/Input.js?","webpack:///./src/controls/bootstrap/AuxErrorLabel.js?","webpack:///./src/views/modals/NewAccountModal.js?","webpack:///./src/views/modals/RemoveAccountModal.js?","webpack:///./src/components/partials/IndexPanel.js?","webpack:///./src/components/Money.js?","webpack:///./src/views/Account.js?","webpack:///./src/components/TransfersTable.js?","webpack:///./src/utils/blockedExecution.js?","webpack:///./src/views/SignIn.js?","webpack:///./src/controls/bootstrap/EmailSignInForm.js?","webpack:///./src/actions/signIn.js?","webpack:///./src/views/SignUp.js?","webpack:///./src/controls/bootstrap/EmailSignUpForm.js?","webpack:///./src/entities/formToPayloadMappers.js?","webpack:///./src/actions/signUp.js?"],"names":["reactRoot","window","document","getElementById","then","provider","render","process","env","NODE_ENV","firstChild","attributes","console","error","initialize","App","props","children","Component","cookies","isServer","currentLocation","userAgent","reducer","app","router","dispatch","onEnter","nextState","location","routes","reduxReactRouter","createHistoryMethod","store","createHistory","default","emailSignInPath","customersPath","currentUserPath","accountsPath","transfersPath","storage","tokenFormat","handleLoginResponse","resp","data","handleAccountUpdateResponse","handleTokenValidationResponse","redirectPath","blank","global","navigator","log","mainReducer","auth","ui","authStateReducer","configure","signIn","signUp","signOut","authentication","user","configReducer","AUTH","CONFIGURE_START","CONFIGURE_COMPLETE","CONFIGURE_ERROR","c","LOCATION","ENTER","AUTHENTICATE_START","AUTHENTICATE_COMPLETE","AUTHENTICATE_ERROR","SIGN_IN_START","SIGN_IN_COMPLETE","SIGN_IN_ERROR","SIGN_IN_FORM_UPDATE","SIGN_UP_START","SIGN_UP_COMPLETE","SIGN_UP_ERROR","SIGN_UP_FORM_UPDATE","SIGN_OUT_START","SIGN_OUT_COMPLETE","ENTITIES","REQUESTED","RECEIVED","RECEIVED_LIST","ACCOUNTS","LIST_START","LIST_COMPLETE","LIST_ERROR","LIST_REF_START","LIST_REF_COMPLETE","LIST_REF_ERROR","CREATE_START","CREATE_COMPLETE","CREATE_ERROR","CREATE_FORM_UPDATE","EDIT_START","EDIT_COMPLETE","EDIT_ERROR","EDIT_FORM_UPDATE","CREATE_REF_START","CREATE_REF_COMPLETE","CREATE_REF_ERROR","CREATE_REF_FORM_UPDATE","CREATE_REF_OWNER_LOOKUP_START","CREATE_REF_OWNER_LOOKUP_COMPLETE","CREATE_REF_ACCOUNT_LOOKUP_START","CREATE_REF_ACCOUNT_LOOKUP_COMPLETE","ACCOUNT","SINGLE_START","SINGLE_COMPLETE","SINGLE_ERROR","DELETE_START","DELETE_COMPLETE","DELETE_ERROR","TRANSFERS","MAKE_START","MAKE_COMPLETE","MAKE_ERROR","MAKE_FORM_UPDATE","ERROR","START","STOP","defineActionTypes","TODO_DEFINE","Symbol","defineActionType","obj","result","Object","keys","reduce","memo","namespace","value","types","namespaceTypes","trim","split","filter","key","test","Set","size","length","forEach","t","entries","type","createByIdDataReducer","next","KEY_REQUEST","KEY_SUCCESS","KEY_ERROR","state","action","id","errors","createDataReducer","payloadActionNameProp","payloadStateNameProp","payloadAssignFn","k","initialState","loading","formReducer","payload","isSealed","aggregate","valid","authReducer","internalSignInReducer","signInReducer","pathname","createFormReducer","KEY_UPDATE","form","internalSignUpReducer","signUpReducer","signOutInitialState","signOutReducer","initalState","isSignedIn","userReducer","dataReducer","transfers","entities","accounts","bookmarkAccount","ownAccountsReducer","otherAccountsReducer","toAccounts","map","createAccountReducer","editAccountReducer","own","other","create","edit","selectedEvents","nodeInitialState","entity","hashMap","item","accountId","optionsLoaderInitialState","options","accountsDisabled","ownersLookup","accountsLookup","optionsLoaderReducer","isOwnerSetBlank","isOwnerSelected","nextAccountsDisabled","nextForm","account","nextErrors","uiReducer","transfersMake","setEndpointKeys","storeCurrentEndpointKey","SET_ENDPOINT_KEYS","STORE_CURRENT_ENDPOINT_KEY","endpoints","currentEndpointKey","defaultEndpointKey","endpoint","settings","authenticate","U","authenticateStart","authenticateComplete","authenticateError","forceReread","savedUserPromise","Promise","rs","rj","currentHeaders","retrieveHeaders","accessToken","reason","savedUser","retrieveUserData","userData","persistUserData","err","catch","resolve","makeActionCreator","argNames","args","arg","index","setCurrentSettings","getCurrentSettings","setCurrentEndpoint","getCurrentEndpoint","setCurrentEndpointKey","getCurrentEndpointKey","setDefaultEndpointKey","getDefaultEndpointKey","resetConfig","destroySession","getInitialEndpointKey","isApiRequest","getSessionEndpointKey","getSessionEndpoint","getEmailSignInUrl","getEmailSignUpUrl","getCurrentUserUrl","getAccountsUrl","getCustomersUrl","getTransfersUrl","getApiUrl","getTokenFormat","persistData","retrieveData","C","authState","currentSettings","currentEndpoint","memoryStorage","clean","s","e","SAVED_CONFIG_KEY","DEFAULT_CONFIG_KEY","SAVED_CREDS_KEY","SAVED_USER_INFO","localStorage","removeItem","remove","path","cookiePath","unescapeQuotes","val","replace","get","getItem","url","configKey","rauthState","apiUrl","JSON","stringify","setItem","set","expires","cookieExpiry","parse","INITIAL_CONFIG_KEY","Function","eval","fetch","makeQuery","params","encodeURIComponent","join","JSON_HEADERS","headers","METHODS","DELETE","method","GET","POST","apiSignIn","body","apiSignUp","apiGetCurrentUser","apiCreateAccount","customerId","title","initialBalance","balance","description","apiCreateRefAccount","owner","apiMakeTransfer","fromAccountId","amount","apiRetrieveAccounts","apiRetrieveTransfers","apiRetrieveAccount","apiDeleteAccount","apiRetrieveUsers","email","getAuthHeaders","updateAuthCredentials","nextHeaders","newHeaders","blankHeaders","parseResponse","response","json","status","message","rest","jvmPattern","m","name","reject","accountsList","accountCreate","accountRefCreate","fetchOwnAccounts","fetchAccount","deleteAccount","errorMessageTimedOut","api","entityRequested","entityReceived","accountsListRequested","accountsListReceived","accountsListError","accountsRefListReceived","accountCreateStart","accountCreateComplete","accountCreateError","accountCreateFormUpdate","accountRefCreateStart","accountRefCreateComplete","accountRefCreateError","accountRefCreateFormUpdate","accountRequested","accountComplete","accountError","readUntilChanged","initialData","initialDataFlat","setTimeout","call","deleteAccountRequested","deleteAccountComplete","deleteAccountError","errorMessageStart","errorMessageStop","timeout","createRefOwnerLookupStart","createRefOwnerLookupComplete","createRefAccountLookupStart","createRefAccountLookupComplete","createRefOwnerLookup","lookup","customers","arr","fullName","firstName","lastName","i","label","createRefAccountLookup","makeTransferRequested","makeTransferComplete","makeTransferError","makeTransferFormUpdate","makeTransfer","moneyTransferId","getTransfersRequested","getTransfersComplete","getTransfersError","getTransfers","transactionsHistory","applyConfig","defaultSettings","forceHardRedirect","initialCredentials","passwordResetSuccessUrl","href","confirmationSuccessUrl","parseExpiry","parseInt","reset","match","parseEndpointConfig","defaultEndpoint","signOutPath","emailRegistrationPath","accountUpdatePath","accountDeletePath","passwordResetPath","passwordUpdatePath","tokenValidationPath","authProviderPaths","github","facebook","google","getFirstObjectKey","constructor","Array","defaultConfig","configName","visitLocation","requireAuthentication","AuthComponent","isAuthenticated","redirectAfterLogin","checkRedirect","nextProps","mapStateToProps","read","src","defaultVal","pathItem","Container","propTypes","node","BS","HeaderLinks","evt","buttonSet","isRegister","isLogin","condition","bind","signOutStart","signOutComplete","Modals","A","AU","resetModals","showAccountModal","show3rdPartyAccountModal","showDeleteAccountModal","MyAccounts","setState","close","all","accountToRemove","ssn","phoneNumber","address","city","street1","street2","zipCode","errorLine","ownAccountsData","ownAccounts","idx","remove3rdPartyAccountModal","refAccountsData","refAccounts","concat","createAccountModal","create3rdPartyAccountModal","createAccountModalConfirmed","create3rdPartyAccountModalConfirmed","remove3rdPartyAccountModalConfirmed","AccountInfo","ensureData","padding","formValidation","prop","push","hasErrors","Add3rdPartyAccountModal","preventDefault","validationErrors","onHide","input","disabled","ownersLoading","formErrors","show","display","getOwnersOptions","handleInput","handleSubmit","ButtonLoader","icon","spinColor","bsStyle","spinColorDark","spinColorLight","spinConfig","position","marginRight","width","height","top","onClick","className","style","bsSize","renderIcon","bool","object","string","func","isRequired","defaultProps","lines","radius","AuthInput","ev","onChange","target","paddingLeft","marginBottom","left","renderErrorList","array","AuxErrorLabel","NewAccountModal","event","actionLabel","RemoveAccountBookmarkModal","titleRaw","descriptionRaw","balanceRaw","entityId","isNaN","Number","toFixed","handleAction","IndexPanel","header","moneyText","absNum","Math","abs","Money","unsaved","Account","ensureTransfers","ensureAccounts","cb","forceFetch","transfer","spinnerResult","transferTo","itemAccountId","substr","transferDisabled","initiateTransfer","TransfersTable","currentAccountId","sort","a","b","date","entryType","toAccountId","v","items","isOriginating","forAccount","transfersMarkup","preprocessItems","transactionId","transferTimestamp","Date","timeAgoTitle","toLocaleDateString","toLocaleTimeString","directionMarkup","counterAccountMarkup","blocked","fn","useCb","isBlocked","SignIn","nextLocation","AS","EmailSignInForm","emailSignInFormUpdate","formData","emailSignInError","emailSignIn","inputProps","password","submit","ex","shape","emailSignInStart","emailSignInComplete","SignUp","EmailSignUpForm","emailSignUpFormUpdate","emailSignUpError","emailSignUp","customerInfoMap","address1","address2","fname","lname","zip","emailSignUpStart","emailSignUpComplete"],"mappings":";;;;;;;;;AAGA;;;;AACA;;;;AACA;;;;AACA;;;AAGA,KAAMA,YAAYC,OAAOC,QAAP,CAAgBC,cAAhB,CAA+B,MAA/B,CAAlB,C,CATA;;;;AAUA,wBAAaC,IAAb,CAAkB,gBAAkB;AAAA,OAAfC,QAAe,QAAfA,QAAe;;AAClC,sBAASC,MAAT,CAAgBD,QAAhB,EAA0BL,SAA1B;AACD,EAFD;;AAKA;;;AAGA,KAAIO,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC,OAAI,CAACT,UAAUU,UAAX,IAAyB,CAACV,UAAUU,UAAV,CAAqBC,UAA/C,IACF,CAACX,UAAUU,UAAV,CAAqBC,UAArB,CAAgC,qBAAhC,CADH,EAC2D;AACzDC,aAAQC,KAAR,CAAc,mHAAd;AACD;AACF,E;;;;;;;;;;;;;;;;;;;;SCaeC,U,GAAAA,U;;AAhChB;;;;AACA;;AACA;;AACA;;;;AACA;;;;AACA;;AAEA;;AACA;;AAEA;;AAEA;;;;AAEA;;AACA;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;gfAzBA;;;;KA2BMC,G;;;;;;;;;;;8BACK;AACP,cACE;AAAA;AAAA;AACG,cAAKC,KAAL,CAAWC;AADd,QADF;AAID;;;;GANe,gBAAMC,S;;AASjB,UAASJ,UAAT,GAA0E;AAAA,oEAAJ,EAAI;;AAAA,OAArDK,OAAqD,QAArDA,OAAqD;AAAA,OAA5CC,QAA4C,QAA5CA,QAA4C;AAAA,OAAlCC,eAAkC,QAAlCA,eAAkC;AAAA,OAAjBC,SAAiB,QAAjBA,SAAiB;;;AAE/E,OAAMC,UAAU,4BAAgB;AAC9BC,4BAD8B;AAE9BC;AAF8B,IAAhB,CAAhB;;AAKA,OAAIC,WAAW,IAAf;;AAEA,OAAMC,UAAU,SAAVA,OAAU,CAACC,SAAD,EAAe;AAAA,SACrBC,QADqB,GACRD,SADQ,CACrBC,QADqB;;AAE7BH,iBAAYA,SAAS,6BAAcG,QAAd,CAAT,CAAZ;AACD,IAHD;;AAKA,OAAMC,SACJ;AAAA;AAAA,OAAO,MAAK,GAAZ,EAAgB,WAAYf,GAA5B;AACE,8DAAY,WAAY,+DAAxB,GADF;AAEE,yDAAO,MAAK,QAAZ,EAAqB,2BAArB,EAA0C,SAAUY,OAApD,GAFF;AAGE,yDAAO,MAAK,UAAZ,EAAuB,2BAAvB,EAA4C,SAAUA,OAAtD,GAHF;AAIE,yDAAO,MAAK,oBAAZ,EAAiC,WAAY,4DAA7C;AAJF,IADF;;AASA;AACA,OAAMI,mBAAsBX,mEAA5B;AACA,OAAMY,sBAAsBZ,oEAA5B;;AAEA;AACA,OAAMa,QAAQ,oBACZ,kDAAuB,4BAAvB,CADY,EAEZF,iBAAiB;AACfD,mBADe;AAEfI,oBAAeF;AAFA,IAAjB,CAFY,sBAMCT,OAND,CAAd;;AAQAG,cAAWO,MAAMP,QAAjB;;AAEA;;;AAGA,UAAOO,MAAMP,QAAN,CAAe,0BAAgB,CACpC;AACES,cAAS;AACP;AACAC,wBAAiB,YAFV;AAGPC,sBAAe,gBAHR;AAIPC,wBAAiB,WAJV;AAKPC,qBAAc,eALP;AAMPC,sBAAe;AANR;AADX,IADoC,CAAhB,EAWnB;AACDrB,qBADC;AAEDC,uBAFC;AAGDC,qCAHC;AAIDoB,cAAS,cAJR;AAKDC,kBAAa;AACX,uBAAgB;AADL,MALZ;AAQDC,0BAAqB,6BAASC,IAAT,EAAe;AAClC;AACA,cAAOA,KAAKC,IAAZ;AACD,MAXA;;AAaDC,kCAA6B,qCAASF,IAAT,EAAe;AAC1C;AACA,cAAOA,KAAKC,IAAZ;AACD,MAhBA;;AAkBDE,oCAA+B,uCAASH,IAAT,EAAe;AAC5C;AACA,cAAOA,KAAKC,IAAZ;AACD;AArBA,IAXmB,CAAf,EAiCHzC,IAjCG,CAiCE,YAAkC;AAAA,uEAAP,EAAO;;AAAA,SAA/B4C,YAA+B,SAA/BA,YAA+B;AAAA,SAAjBC,KAAiB,SAAjBA,KAAiB;;AACzC;AACA;AACA,SAAI3B,SAAJ,EAAe;AACb4B,cAAOC,SAAP,GAAmB,EAAC7B,oBAAD,EAAnB;AACD;;AAED,SAAI2B,KAAJ,EAAW;AACT;AACA;AACA,cAAO,+CAAP;AACD;;AAEDrC,aAAQwC,GAAR,qBAA8BJ,YAA9B;;AAEA,YAAQ;AACNC,mBADM;AAENhB,mBAFM;AAGNe,iCAHM;AAIN3C,iBACE;AAAA;AAAA,WAAU,OAAO4B,KAAjB,EAAwB,KAAI,UAA5B;AACE,mEAAa,UAAUH,MAAvB;AADF;AALI,MAAR;AAUD,IA1DM,CAAP;AA2DD,E;;;;;;;;;;ACxID;AACA;;AAEA;;AAEA;;AAEA;AACA,kC;;;;;;;ACRA;;AAEA;AACA;;AAEA,uCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,4HAA2H;AAC3H;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6C;;;;;;;ACpEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA,qC;;;;;;;;;;;;;;;AC/BA;;AAEA;;;;AACA;;;;AACA;;;;;;AAPA;;;AASA,KAAMuB,cAAc,4BAAgB;AAClCC,uBADkC;AAElCT,uBAFkC;AAGlCU;AAHkC,EAAhB,CAApB;;mBAMeF,W;;;;;;;;;;;;;;;;;ACZf;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,KAAMG,mBAAmB,4BAAgB;AACvCC,sCADuC;AAEvCC,gCAFuC;AAGvCC,gCAHuC;AAIvCC,mCAJuC;AAKvCC,4CALuC;AAMvCC;AANuC,EAAhB,CAAzB,C,CAZA;;;mBAqBeN,gB;;;;;;;;;;;;;;;;;;mQCrBf;;;;;AAGA;;;;AACA;;;;;;AAEO,KAAMO,wCAAgB,iCAAkB,CAC3C,uBAAEC,IAAF,CAAOC,eADoC,EAE3C,uBAAED,IAAF,CAAOE,kBAFoC,EAG3C,uBAAEF,IAAF,CAAOG,eAHoC,CAAlB,EAK3B,QAL2B,EAM3B,QAN2B,EAO3B;AAAA,OAACC,CAAD,yDAAK,EAAL;AAAA,uBAAkBA,CAAlB;AAAA,EAP2B,CAAtB;AASP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,M;;;;;;;;;;;;;;;;;ACvDA;;mBAEe,yCAAiB;;AAE9BC,aAAU;AACRC;AADQ,IAFoB;AAK9B;;;AAGAN,SAAM;AACJC,oDADI;AAEJC,uDAFI;AAGJC,oDAHI;AAIJI,uDAJI;AAKJC,0DALI;AAMJC,uDANI;AAOJC,kDAPI;AAQJC,qDARI;AASJC,kDATI;AAUJC,wDAVI;AAWJC,kDAXI;AAYJC,qDAZI;AAaJC,kDAbI;AAcJC,wDAdI;AAeJC,mDAfI;AAgBJC;AAhBI,IARwB;;AA2B9BC,aAAU;AACRC,8CADQ;AAERC,6CAFQ;AAGRC;AAHQ,IA3BoB;;AAiC9BC,aAAU;AACRC,+CADQ;AAERC,kDAFQ;AAGRC,+CAHQ;AAIRC,mDAJQ;AAKRC,sDALQ;AAMRC,mDANQ;AAORC,iDAPQ;AAQRC,oDARQ;AASRC,iDATQ;AAURC,uDAVQ;AAWRC,+CAXQ;AAYRC,kDAZQ;AAaRC,+CAbQ;AAcRC,qDAdQ;AAeRC,qDAfQ;AAgBRC,wDAhBQ;AAiBRC,qDAjBQ;AAkBRC,2DAlBQ;AAmBRC,kEAnBQ;AAoBRC,qEApBQ;AAqBRC,oEArBQ;AAsBRC;AAtBQ,IAjCoB;;AA0D9BC,YAAS;AACPC,iDADO;AAEPC,oDAFO;AAGPC,iDAHO;AAIPC,iDAJO;AAKPC,oDALO;AAMPC;AANO,IA1DqB;;AAmE9BC,cAAW;AACTC,+CADS;AAETC,kDAFS;AAGTC,+CAHS;AAITC,qDAJS;AAKTjC,+CALS;AAMTC,kDANS;AAOTC;AAPS,IAnEmB;;AA6E9BgC,UAAO;AACLC,0CADK;AAELC;AAFK;;AA7EuB,EAAjB,C;;;;;;;;;;;;;;;;;;;;mBC0CSC,iB;;AA5CxB;;;;;;AAEO,KAAMC,oCAAcC,OAAO,iBAAP,CAApB;;AAEA,KAAMC,8CAAmB,SAAnBA,gBAAmB,CAACC,GAAD,EAAS;AACvC,OAAMC,SAASC,OAAOC,IAAP,CAAYH,GAAZ,EAAiBI,MAAjB,CAAwB,UAACC,IAAD,EAAOC,SAAP,EAAqB;AAC1D,SAAMC,QAAQP,IAAIM,SAAJ,CAAd;AACA,SAAIE,QAAQ,EAAZ;AACA,SAAMC,iBAAiB,EAAvB;;AAEA,SAAI,OAAOF,KAAP,IAAgB,QAApB,EAA8B;AAC5BC,eAAQD,MAAMG,IAAN,GAAaC,KAAb,CAAmB,KAAnB,CAAR;AACD,MAFD,MAEO;AACLH,eAAQN,OAAOC,IAAP,CAAYI,KAAZ,EACLK,MADK,CACE,UAACC,GAAD;AAAA,gBAASN,MAAMM,GAAN,MAAehB,WAAxB;AAAA,QADF,CAAR;AAED;;AAED,8BACE,oBAAoBiB,IAApB,CAAyBR,SAAzB,CADF,EAEE,uIAFF;;AAKA,8BACG,IAAIS,GAAJ,CAAQP,KAAR,CAAD,CAAiBQ,IAAjB,IAAyBR,MAAMS,MADjC,EAEE,oEAFF;;AAKAT,WAAMU,OAAN,CAAc,aAAK;AACjB,gCACE,oBAAoBJ,IAApB,CAAyBK,CAAzB,CADF,EAEE,6HAFF;AAIAV,sBAAeU,CAAf,eAA6Bb,SAA7B,SAA0Ca,CAA1C;AACD,MAND;;AAQAd,UAAKC,SAAL,IAAkBG,cAAlB;;AAEA,YAAOJ,IAAP;AACD,IAjCc,EAiCZ,EAjCY,CAAf;;AAmCA,UAAOJ,MAAP;AAED,EAtCM;;AAwCQ,UAASL,iBAAT,CAA2BI,GAA3B,EAAgC;AAC7C,OAAMC,SAAS,EAAf;;AAD6C;AAAA;AAAA;;AAAA;AAG7C,0BAA+BC,OAAOkB,OAAP,CAAepB,GAAf,CAA/B,8HAAoD;AAAA;;AAAA,WAA1CM,SAA0C;AAAA,WAA/BC,KAA+B;;AAClD,WAAIC,QAAQD,MAAMG,IAAN,GAAaC,KAAb,CAAmB,KAAnB,CAAZ;AACA,WAAMF,iBAAiB,EAAvB;;AAEA,gCACE,oBAAoBK,IAApB,CAAyBR,SAAzB,CADF,EAEE,uIAFF;AAIA,gCACG,IAAIS,GAAJ,CAAQP,KAAR,CAAD,CAAiBQ,IAAjB,IAAyBR,MAAMS,MADjC,EAEE,oEAFF;;AARkD;AAAA;AAAA;;AAAA;AAalD,+BAAiBT,KAAjB,mIAAwB;AAAA,eAAfa,IAAe;;AACtB,oCACE,oBAAoBP,IAApB,CAAyBO,IAAzB,CADF,EAEE,6HAFF;;AAKAZ,0BAAeY,IAAf,eAAgCf,SAAhC,SAA6Ce,IAA7C;AACD;AApBiD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAsBlDpB,cAAOK,SAAP,IAAoBG,cAApB;AACD;AA1B4C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AA4B7C,UAAOR,MAAP;AACD,E;;;;;;;;;;;;;;;;;;;;;;;;;ACzED;;;;AAIO,KAAMqB,wDAAwB,SAAxBA,qBAAwB,OAAwCC,IAAxC;AAAA;;AAAA,OAAEC,WAAF;AAAA,OAAeC,WAAf;AAAA,OAA4BC,SAA5B;AAAA,UAAiD,YAAwB;AAAA,SAAvBC,KAAuB,yDAAf,EAAe;AAAA,SAAXC,MAAW;;AAC5G,aAAQA,OAAOP,IAAf;AACE,YAAKG,WAAL;AACA,YAAKC,WAAL;AACA,YAAKC,SAAL;AAAgB;AACd,eAAI,CAACE,OAAOC,EAAZ,EAAgB;AACd;AACD;AACD,eAAIF,MAAMG,MAAV,EAAkB;AAChB;AACD;AACD,+BACKH,KADL,sBAEGC,OAAOC,EAFV,EAEeN,KAAKI,KAAL,EAAYC,MAAZ,CAFf;AAID;AACD;AACE,gBAAOD,KAAP;AAhBJ;AAkBD,IAnBoC;AAAA,EAA9B;;AAqBP,KAAMI,oBAAoB,SAApBA,iBAAoB,QAAmJ;AAAA;;AAAA,OAAjJP,WAAiJ;AAAA,OAApIC,WAAoI;AAAA,OAAvHC,SAAuH;AAAA,OAA3GM,qBAA2G,yDAAnF,SAAmF;AAAA,OAAxEC,oBAAwE,yDAAjD,MAAiD;AAAA,OAAzCC,eAAyC,yDAAvB;AAAA,SAACC,CAAD,yDAAK,EAAL;AAAA,yCAAgBA,CAAhB;AAAA,IAAuB;;;AAE3K,OAAMC;AACJC,cAAS,KADL;AAEJP,aAAQ;AAFJ,MAGHG,oBAHG,EAGoBC,iBAHpB,CAAN;;AAMA,UAAO,SAASI,WAAT,GAAwD;AAAA,SAAnCX,KAAmC,sEAAvBS,YAAuB;AAAA,SAARR,MAAQ;;AAC7D,aAAOA,OAAOP,IAAd;AACE,YAAKG,WAAL;AAAkB;AAChB,+BACKG,KADL;AAEEU,sBAAS;AAFX;AAID;AACD,YAAKZ,WAAL;AAAkB;AAChB,eAAMc,UAAUX,OAAOI,qBAAP,CAAhB;AACA,+BACKI,YADL,sBAEGH,oBAFH,EAE0BC,gBAAgBK,OAAhB,CAF1B;AAID;AACD,YAAKb,SAAL;AACA;AAAA,eACS/I,KADT,GACkBiJ,MADlB,CACSjJ,KADT;;AAEE,+BACKgJ,KADL;AAEEU,sBAAS,KAFX;AAGEP,qBAAQ5B,OAAOsC,QAAP,CAAgB7J,KAAhB,IAAyB,EAAC8J,WAAW9J,KAAZ,EAAzB,gBAAkDA,KAAlD;AAHV;AAKD;;AAED;AACE,gBAAOgJ,KAAP;AAzBJ;AA2BD,IA5BD;AA6BD,EArCD;;mBAuCeI,iB;;;;;;;;;;;;;;;;;;mQChEf;;;;;AAGA;;;;;;AAEA,KAAMK,eAAe;AACnBC,YAAS,KADU;AAEnBK,UAAO,KAFY;AAGnBZ,WAAQ;AAHW,EAArB;;AAMO,KAAMa,oCAAc,SAAdA,WAAc,GAAuC;AAAA,OAAtChB,KAAsC,sEAA1BS,YAA0B;AAAA,OAAXR,MAAW;;AAChE,WAAOA,OAAOP,IAAd;AACE,UAAK,uBAAEvF,IAAF,CAAOO,kBAAZ;AACE,2BACKsF,KADL;AAEEU,kBAAS;AAFX;;AAKF,UAAK,uBAAEvG,IAAF,CAAOQ,qBAAZ;AACE,2BACKqF,KADL;AAEEU,kBAAS,KAFX;AAGEP,iBAAQ,IAHV;AAIEY,gBAAO;AAJT;;AAOF,UAAK,uBAAE5G,IAAF,CAAOS,kBAAZ;AACE,2BACKoF,KADL;AAEEU,kBAAS,KAFX;AAGEP,iBAAQ,eAHV;AAIEY,gBAAO;AAJT;;AAOF;AAAS,cAAOf,KAAP;AAvBX;AAyBD,EA1BM,C;;;;;;;;;;;;;;;;;;ACRP;;;;AACA;;;;;;AAJA;;;AAMA,KAAMiB,wBAAwB,iCAAkB,CAC9C,uBAAE9G,IAAF,CAAOU,aADuC,EAE9C,uBAAEV,IAAF,CAAOW,gBAFuC,EAG9C,uBAAEX,IAAF,CAAOY,aAHuC,EAI9C,uBAAEZ,IAAF,CAAOa,mBAJuC,CAAlB,CAA9B;;AAOO,KAAMkG,wCAAgB,SAAhBA,aAAgB,CAAClB,KAAD,EAAQC,MAAR,EAAmB;AAC9C,WAAQA,OAAOP,IAAf;AACE,UAAK,uBAAElF,QAAF,CAAWC,KAAhB;AAAuB;AAAA,aACbzC,QADa,GACAiI,MADA,CACbjI,QADa;AAAA,aAEbmJ,QAFa,GAEAnJ,QAFA,CAEbmJ,QAFa;;AAGrB,aAAIA,YAAY,SAAhB,EAA2B;AACzB,kBAAOF,sBAAsBjB,KAAtB,EAA6B;AAClCN,mBAAM,uBAAEvF,IAAF,CAAOY,aADqB;AAElC/D,oBAAO;AAF2B,YAA7B,CAAP;AAID;AACD,gBAAOgJ,KAAP;AACD;;AAED;AAAS;AACP,gBAAOiB,sBAAsBjB,KAAtB,EAA6BC,MAA7B,CAAP;AACD;AAfH;AAiBD,EAlBM,C;;;;;;;;;;;;;;;;;;;;;;;ACbP;;;;AAIA,KAAMmB,oBAAoB,SAApBA,iBAAoB,OAAuD;AAAA;;AAAA,OAArDvB,WAAqD;AAAA,OAAxCC,WAAwC;AAAA,OAA3BC,SAA2B;AAAA,OAAhBsB,UAAgB;;;AAE/E,OAAMZ,eAAe;AACnBC,cAAS,KADU;AAEnBY,WAAM,EAFa;AAGnBnB,aAAQ;AAHW,IAArB;;AAMA,UAAO,SAASQ,WAAT,GAAwD;AAAA,SAAnCX,KAAmC,sEAAvBS,YAAuB;AAAA,SAARR,MAAQ;;AAC7D,aAAOA,OAAOP,IAAd;AACE,YAAKG,WAAL;AAAkB;AAChB,+BACKG,KADL;AAEEU,sBAAS;AAFX;AAID;AACD,YAAKX,SAAL;AAAgB;AAAA,eACN/I,KADM,GACIiJ,MADJ,CACNjJ,KADM;;AAEd,+BACKgJ,KADL;AAEEU,sBAAS,KAFX;AAGEP,qBAAQnJ;AAHV;AAKD;AACD,YAAK8I,WAAL;AAAkB;AAChB,+BACKW,YADL;AAGD;AACD,YAAKY,UAAL;AAAiB;AAAA,eACPnC,GADO,GACQe,MADR,CACPf,GADO;AAAA,eACFN,KADE,GACQqB,MADR,CACFrB,KADE;;AAEf,+BACKoB,KADL;AAEEsB,gCACKtB,MAAMsB,IADX,sBAEGpC,GAFH,EAESN,KAFT,EAFF;AAMEuB,kCACKH,MAAMG,MADX;AAEEW,0BAAW;AAFb,gBAGG5B,GAHH,EAGS,IAHT;AANF;AAYD;;AAED;AACE,gBAAOc,KAAP;AArCJ;AAuCD,IAxCD;AAyCD,EAjDD;;mBAmDeoB,iB;;;;;;;;;;;;;;;;;;ACpDf;;;;AACA;;;;;;AAJA;;;AAMO,KAAMG,wDAAwB,iCAAkB,CACrD,uBAAEpH,IAAF,CAAOc,aAD8C,EAErD,uBAAEd,IAAF,CAAOe,gBAF8C,EAGrD,uBAAEf,IAAF,CAAOgB,aAH8C,EAIrD,uBAAEhB,IAAF,CAAOiB,mBAJ8C,CAAlB,CAA9B;;AAQA,KAAMoG,wCAAgB,SAAhBA,aAAgB,CAACxB,KAAD,EAAQC,MAAR,EAAmB;AAC9C,WAAQA,OAAOP,IAAf;AACE,UAAK,uBAAElF,QAAF,CAAWC,KAAhB;AAAuB;AAAA,aACbzC,QADa,GACAiI,MADA,CACbjI,QADa;AAAA,aAEbmJ,QAFa,GAEAnJ,QAFA,CAEbmJ,QAFa;;AAGrB,aAAIA,YAAY,WAAhB,EAA6B;AAC3B,kBAAOI,sBAAsBvB,KAAtB,EAA6B;AAClCN,mBAAM,uBAAEvF,IAAF,CAAOgB,aADqB;AAElCnE,oBAAO;AAF2B,YAA7B,CAAP;AAID;AACD,gBAAOgJ,KAAP;AACD;;AAED;AAAS;AACP,gBAAOuB,sBAAsBvB,KAAtB,EAA6BC,MAA7B,CAAP;AACD;AAfH;AAiBD,EAlBM,C;;;;;;;;;;;;;;;;;;mQCdP;;;;;AAGA;;;;;;AAEA,KAAMwB,sBAAsB;AAC1Bf,YAAS,KADiB;AAE1BP,WAAQ;AAFkB,EAA5B;;AAKO,KAAMuB,0CAAiB,SAAjBA,cAAiB,GAA8C;AAAA,OAA7C1B,KAA6C,sEAAjCyB,mBAAiC;AAAA,OAAXxB,MAAW;;AAC1E,WAAOA,OAAOP,IAAd;AACE,UAAK,uBAAEvF,IAAF,CAAOkB,cAAZ;AACE,2BACK2E,KADL;AAEEU,kBAAS;AAFX;AAIF,UAAK,uBAAEvG,IAAF,CAAOmB,iBAAZ;AACE,2BACK0E,KADL;AAEEU,kBAAS,KAFX;AAGEP,iBAAQ;AAHV;AAKF;AAAS,cAAOH,KAAP;AAZX;AAcD,EAfM,C;;;;;;;;;;;;;;;;;;mQCVP;;;;;AAGA;;;;;;AAEA,KAAM2B,cAAc;AAClB7K,eAAY,IADM;AAElB8K,eAAY;AAFM,EAApB;;AAKO,KAAMC,oCAAc,SAAdA,WAAc,GAAsC;AAAA,OAArC7B,KAAqC,sEAAzB2B,WAAyB;AAAA,OAAX1B,MAAW;;AAC/D,WAAOA,OAAOP,IAAd;AACE,UAAK,uBAAEvF,IAAF,CAAOQ,qBAAZ;AACA,UAAK,uBAAER,IAAF,CAAOW,gBAAZ;AAA8B;AAAA,aACpBb,IADoB,GACXgG,MADW,CACpBhG,IADoB;;AAE5B,6BAAW+F,KAAX;AACElJ,uBAAYmD,IADd;AAEE2H,uBAAY,CAAC,CAAC3H;AAFhB;AAID;AACD,UAAK,uBAAEE,IAAF,CAAOmB,iBAAZ;AACA,UAAK,uBAAEnB,IAAF,CAAOS,kBAAZ;AACE,2BACK+G,WADL;AAGF;AAAS,cAAO3B,KAAP;AAdX;AAgBD,EAjBM,C;;;;;;;;;;;;;;;;;ACPP;;AAEA;;AACA;;AACA;;AACA;;AAEA,KAAM8B,cAAc,4BAAgB;AAClCC,kCADkC;AAElCC,+BAFkC;AAGlCC,+BAHkC;AAIlCC;AAJkC,EAAhB,CAApB,C,CAVA;;;mBAiBeJ,W;;;;;;;;;;;;;;;;;;;;ACXf;;;;AACA;;AACA;;;;;;qMARA;;;AAGA;;;;;AAOA,KAAMK,qBAAqB,SAArBA,kBAAqB,GAAyB;AAAA,OAAxBnC,KAAwB,yDAAhB,EAAgB;AAAA,OAAZC,MAAY;;AAClD,WAAQA,OAAOP,IAAf;AACE,UAAK,uBAAE/D,QAAF,CAAWE,aAAhB;AAA+B;AAAA,+BACJoE,MADI,CACrBW,OADqB;AAAA,aACrBA,OADqB,mCACX,EADW;AAE7B;;AACA,6CACKA,OADL;AAGD;AACD;AAAS,cAAOZ,KAAP;AARX;AAUD,EAXD;;AAaA,KAAMoC,uBAAuB,SAAvBA,oBAAuB,GAAyB;AAAA,OAAxBpC,KAAwB,yDAAhB,EAAgB;AAAA,OAAZC,MAAY;;AACpD,WAAQA,OAAOP,IAAf;AACE,UAAK,uBAAEvF,IAAF,CAAOQ,qBAAZ;AACA,UAAK,uBAAER,IAAF,CAAOW,gBAAZ;AAA8B;AAAA,aACpBb,IADoB,GACXgG,MADW,CACpBhG,IADoB;AAAA,gCAEAA,IAFA,CAEpBoI,UAFoB;AAAA,aAEpBA,UAFoB,oCAEP,EAFO;;AAG5B,gBAAOD,qBAAqBpC,KAArB,EAA4B;AACjCN,iBAAM,uBAAE/D,QAAF,CAAWK,iBADgB;AAEjC4E,oBAASyB;AAFwB,UAA5B,CAAP;AAID;;AAED,UAAK,uBAAE1G,QAAF,CAAWK,iBAAhB;AAAmC;AAAA;AAAA,kCACRiE,MADQ,CACzBW,OADyB;AAAA,eACzBA,OADyB,oCACf,EADe;;AAEjC,eAAMqB,WAAW1D,OAAOC,IAAP,CAAYoC,OAAZ,EAAqB0B,GAArB,CAAyB;AAAA,oBAAO1B,QAAQ1B,GAAR,CAAP;AAAA,YAAzB,CAAjB;AACA;AAAA,6CACK+C,QADL;AAAA;AAHiC;;AAAA;AAMlC;;AAED;AAAS,cAAOjC,KAAP;AAnBX;AAqBD,EAtBD;;AAyBA,KAAMuC,uBAAuB,iCAAkB,CAC7C,uBAAE5G,QAAF,CAAWO,YADkC,EAE7C,uBAAEP,QAAF,CAAWQ,eAFkC,EAG7C,uBAAER,QAAF,CAAWS,YAHkC,EAI7C,uBAAET,QAAF,CAAWU,kBAJkC,CAAlB,CAA7B;;AAOA,KAAMmG,qBAAqB,iCAAkB,CAC3C,uBAAE7G,QAAF,CAAWW,UADgC,EAE3C,uBAAEX,QAAF,CAAWY,aAFgC,EAG3C,uBAAEZ,QAAF,CAAWa,UAHgC,EAI3C,uBAAEb,QAAF,CAAWc,gBAJgC,CAAlB,CAA3B;;AAOO,KAAMwF,8BAAW,4BAAgB;AACtCQ,QAAKN,kBADiC;AAEtCO,UAAON,oBAF+B;AAGtCO,WAAQJ,oBAH8B;AAItCK,SAAMJ;AAJgC,EAAhB,CAAjB,C;;;;;;;;;;;;;;;;;;ACxDP;;;;AACA;;;;;;AAGA,KAAMK,iBAAiB,CACrB,uBAAEpF,SAAF,CAAY7B,UADS,EAErB,uBAAE6B,SAAF,CAAY5B,aAFS,EAGrB,uBAAE4B,SAAF,CAAY3B,UAHS,CAAvB,C,CAVA;;;AAGA;;;AAaO,KAAMiG,gCAAY,8CAAsBc,cAAtB,EAAsC,iCAAkBA,cAAlB,CAAtC,CAAlB,C;;;;;;;;;;;;;;;;;;mQChBP;;;;;AAGA;;;;;;;;AAEA,KAAMpC,eAAe,EAArB;;AAGA,KAAMqC,mBAAmB;AACvBpC,YAAS,KADc;AAEvB1H,SAAM;AAFiB,EAAzB;;AAKO,KAAMgJ,8BAAW,SAAXA,QAAW,GAAuC;AAAA,OAAtChC,KAAsC,sEAA1BS,YAA0B;AAAA,OAAXR,MAAW;;AAC7D,OAAI,OAAOA,OAAOX,MAAd,KAAyB,WAA7B,EAA0C;AACxC;AACD;AACD,WAAOW,OAAOP,IAAd;AACE,UAAK,uBAAEnE,QAAF,CAAWC,SAAhB;AAA2B;AAAA,aACjB0E,EADiB,GACVD,MADU,CACjBC,EADiB;;AAEzB,6BACKF,KADL,sBAEGE,EAFH,EAEQ,IAFR;AAID;AACD,UAAK,uBAAE3E,QAAF,CAAWE,QAAhB;AAA0B;AAAA,aAChByE,GADgB,GACID,MADJ,CAChBC,EADgB;AAAA,8BACID,MADJ,CACZ8C,MADY;AAAA,aACZA,MADY,kCACH,EADG;;AAExB,6BACK/C,KADL,sBAEGE,GAFH,eAGO6C,MAHP;AAMD;;AAED,UAAK,uBAAE5I,IAAF,CAAOQ,qBAAZ;AACA,UAAK,uBAAER,IAAF,CAAOW,gBAAZ;AACA;AAAA,aACUb,IADV,GACmBgG,MADnB,CACUhG,IADV;AAAA,gCAE8BA,IAF9B,CAEUoI,UAFV;AAAA,aAEUA,UAFV,oCAEuB,EAFvB;;AAGE,6BACKrC,KADL,EAEKqC,UAFL;AAKD;AACD,UAAK,uBAAE1G,QAAF,CAAWE,aAAhB;AAA+B;AAAA,aACrB+E,OADqB,GACTX,MADS,CACrBW,OADqB;;AAE7B,aAAMoC,UAAUpC,QAAQnC,MAAR,CAAe,UAACC,IAAD,EAAOuE,IAAP,EAAgB;AAC7CvE,gBAAKuE,KAAKC,SAAV,IAAuBD,IAAvB;AACA,kBAAOvE,IAAP;AACD,UAHe,EAGb,EAHa,CAAhB;AAIA,6BACKsB,KADL,EAEKgD,OAFL;AAID;;AAED,UAAK,uBAAE9F,OAAF,CAAUE,eAAf;AAAgC;AAAA,+BACL6C,MADK,CACtBW,OADsB;;AAAA,aACtBA,QADsB,mCACZ,EADY;;AAAA,aAEtBsC,SAFsB,GAERtC,QAFQ,CAEtBsC,SAFsB;;AAG9B,aAAI,CAACA,SAAL,EAAgB;AACd,kBAAOlD,KAAP;AACD;AACD,6BACKA,KADL,sBAEGkD,SAFH,EAEetC,QAFf;AAID;AACD,UAAK,uBAAErF,QAAF,CAAWG,aAAhB;AACA;AACE,cAAOsE,KAAP;AAtDJ;AAwDD,EA5DM,C;;;;;;;;;;;;;;;;;;mQCbP;;;;;AAGA;;;;;;;;AAEA,KAAMmD,4BAA4B;AAChCzC,YAAS,KADuB;AAEhC0C,YAAS,EAFuB;AAGhCxE,UAAO;AAHyB,EAAlC;;AAMA,KAAM6B,eAAe;AACnBC,YAAS,KADU;AAEnBY,SAAM,EAFa;AAGnBnB,WAAQ,EAHW;AAInBkD,qBAAkB,IAJC;;AAMnBC,8BACKH,yBADL,CANmB;AASnBI,gCACKJ,yBADL;AATmB,EAArB;;AAcA,KAAMK,uBAAuB,SAAvBA,oBAAuB,GAAoD;AAAA,OAAnDxD,KAAmD,sEAAvCmD,yBAAuC;AAAA,OAAXlD,MAAW;;AAC/E,WAAQA,OAAOP,IAAf;AACE,UAAK,uBAAE/D,QAAF,CAAWmB,6BAAhB;AACA,UAAK,uBAAEnB,QAAF,CAAWqB,+BAAhB;AAAiD;AAC/C,aAAM4B,QAAQqB,OAAOW,OAArB;AACA,6BACKZ,KADL;AAEEU,oBAAS,IAFX;AAGE9B;AAHF;AAKD;;AAED,UAAK,uBAAEjD,QAAF,CAAWoB,gCAAhB;AACA,UAAK,uBAAEpB,QAAF,CAAWsB,kCAAhB;AAAoD;AAAA,aAC1C2D,OAD0C,GAC9BX,MAD8B,CAC1CW,OAD0C;;AAElD,6BACKZ,KADL;AAEEU,oBAAS,KAFX;AAGE0C,oBAASxC,YAAY,IAAZ,GAAmBZ,MAAMoD,OAAzB,GAAmCxC;AAH9C;AAKD;;AAED;AACE,cAAOZ,KAAP;AAtBJ;AAwBD,EAzBD;;AA2BO,KAAMkC,4CAAkB,SAAlBA,eAAkB,GAAuC;AAAA,OAAtClC,KAAsC,sEAA1BS,YAA0B;AAAA,OAAXR,MAAW;;AACpE,WAAQA,OAAOP,IAAf;AACE,UAAK,uBAAE/D,QAAF,CAAWe,gBAAhB;AAAkC;AAChC,6BACKsD,KADL;AAEEU,oBAAS;AAFX;AAID;AACD,UAAK,uBAAE/E,QAAF,CAAWgB,mBAAhB;AAAoC;AAClC,6BACK8D,YADL;AAGD;AACD,UAAK,uBAAE9E,QAAF,CAAWiB,gBAAhB;AAAkC;AAAA,aACxB5F,KADwB,GACdiJ,MADc,CACxBjJ,KADwB;;AAEhC,6BACKgJ,KADL;AAEEU,oBAAS,KAFX;AAGEP,mBAAQnJ;AAHV;AAKD;AACD,UAAK,uBAAE2E,QAAF,CAAWkB,sBAAhB;AAAuC;AAAA,aAC7BqC,GAD6B,GACde,MADc,CAC7Bf,GAD6B;AAAA,aACxBN,KADwB,GACdqB,MADc,CACxBrB,KADwB;;AAErC,aAAM6E,kBAAoBvE,OAAO,OAAR,IAAoB,CAACN,KAA9C;AACA,aAAM8E,kBAAoBxE,OAAO,OAAR,IAAoBN,KAA7C;AACA,aAAM+E,uBAAuBD,kBAAkB,KAAlB,GAA0B1D,MAAMqD,gBAA7D;;AAEA,aAAMO,WAAWH,+BACZzD,MAAMsB,IADM;AAEfuC,oBAAS;AAFM,YAGd3E,GAHc,EAGRN,KAHQ,kBAKZoB,MAAMsB,IALM,sBAMdpC,GANc,EAMRN,KANQ,EAAjB;;AASA,aAAMkF,0BACD9D,MAAMG,MADL,sBAEHjB,GAFG,EAEG,IAFH,EAAN;AAIA,6BACKc,KADL;AAEEqD,6BAAkBM,oBAFpB;AAGErC,iBAAMsC,QAHR;AAIEzD,mBAAQ2D;AAJV;AAMD;AACD,UAAK,uBAAEnI,QAAF,CAAWmB,6BAAhB;AACA,UAAK,uBAAEnB,QAAF,CAAWoB,gCAAhB;AAAkD;AAChD,6BACKiD,KADL;AAEEsD,yBACEE,qBAAqBxD,MAAMsD,YAA3B,EAAyCrD,MAAzC;AAHJ;AAKD;AACD,UAAK,uBAAEtE,QAAF,CAAWqB,+BAAhB;AACA,UAAK,uBAAErB,QAAF,CAAWsB,kCAAhB;AAAoD;AAClD,6BACK+C,KADL;AAEEuD,2BACEC,qBAAqBxD,MAAMuD,cAA3B,EAA2CtD,MAA3C;AAHJ;AAKD;AACD;AACE,cAAOD,KAAP;AA/DJ;AAiED,EAlEM,C;;;;;;;;;;;;;;;;;AC9CP;;AAEA;;AACA;;AACA;;AACA;;AAGA,KAAM+D,YAAY,4BAAgB;AAChCF,4BADgC;AAEhC7M,uBAFgC;AAGhCkL,oDAHgC;AAIhC8B;AAJgC,EAAhB,CAAlB,C,CAdA;;;AAGA;;;mBAkBeD,S;;;;;;;;;;;;;;;;;;mQCrBf;;;AAGA;;;;;AAGA;;;;AACA;;;;AAGA,KAAMtD,eAAe;AACnBC,YAAS,KADU;AAEnBP,WAAQ;AAFW,EAArB;;AAKO,KAAM0D,4BAAU,SAAVA,OAAU,GAA0C;AAAA,OAAzC7D,KAAyC,sEAA5BS,YAA4B;AAAA,OAAZR,MAAY;;AAC/D,WAAOA,OAAOP,IAAd;AACE,UAAK,uBAAExC,OAAF,CAAUC,YAAf;AAA6B;AAC3B,6BACK6C,KADL;AAEEU,oBAAS;AAFX;AAID;AACD,UAAK,uBAAExD,OAAF,CAAUE,eAAf;AAAgC;AAC9B,6BACKqD,YADL;AAGD;AACD,UAAK,uBAAEvD,OAAF,CAAUG,YAAf;AAA6B;AAAA,aACnBrG,KADmB,GACTiJ,MADS,CACnBjJ,KADmB;;AAE3B,6BACKgJ,KADL;AAEEU,oBAAS,KAFX;AAGEP,mBAAQ,CAAEnJ,KAAF;AAHV;AAMD;;AAED;AACE,cAAOgJ,KAAP;AAvBJ;AAyBD,EA1BM,C;;;;;;;;;;;;;;;;;;ACXP;;;;;;AAEO,KAAMhJ,wBAAQ,SAARA,KAAQ,GAA2B;AAAA,OAA1BgJ,KAA0B,yDAAlB,IAAkB;AAAA,OAAZC,MAAY;;AAC9C,WAAQA,OAAOP,IAAf;AACE,UAAK,uBAAE5B,KAAF,CAAQE,IAAb;AAAmB;AACjB,gBAAO,IAAP;AACD;AACD,UAAK,uBAAEF,KAAF,CAAQC,KAAb;AACE,cAAOkC,OAAOW,OAAd;;AAEF;AACE,cAAOZ,KAAP;AARJ;AAUD,EAXM,C,CANP;;;;;;;;;;;;;;;;;;ACAA;;;AAGO,KAAMkC,4CAAkB,SAAlBA,eAAkB,GAAwB;AAAA,OAAvBlC,KAAuB,yDAAf,EAAe;AAAA,OAAXC,MAAW;;AACrD,WAAQA,OAAOP,IAAf;AACE;AACE,cAAOM,KAAP;AAFJ;AAID,EALM,C;;;;;;;;;;;;;;;;;;ACGP;;;;AACA;;;;;;AAPA;;;AAGA;;;AAMO,KAAMgE,wCAAgB,iCAAkB,CAC7C,uBAAEvG,SAAF,CAAYC,UADiC,EAE7C,uBAAED,SAAF,CAAYE,aAFiC,EAG7C,uBAAEF,SAAF,CAAYG,UAHiC,EAI7C,uBAAEH,SAAF,CAAYI,gBAJiC,CAAlB,CAAtB,C;;;;;;;;;;;;;;;;;SCGSoG,e,GAAAA,e;SAIAC,uB,GAAAA,uB;SAIAtK,S,GAAAA,S;;AAjBhB;;AAIA;;AAPA;;;AASO,KAAMuK,gDAAoB,mBAA1B;AACA,KAAMC,kEAA6B,4BAAnC;;AAEA,UAASH,eAAT,CAAyBI,SAAzB,EAAoCC,kBAApC,EAAwDC,kBAAxD,EAA4E;AACjF,UAAO,EAAE7E,MAAMyE,iBAAR,EAA2BE,oBAA3B,EAAsCC,sCAAtC,EAA0DC,sCAA1D,EAAP;AACD;;AAEM,UAASL,uBAAT,CAAiCI,kBAAjC,EAAqD;AAC1D,UAAO,EAAE5E,MAAM0E,0BAAR,EAAoCE,sCAApC,EAAP;AACD;;AAEM,UAAS1K,SAAT,GAA6C;AAAA,OAA1B4K,QAA0B,yDAAjB,EAAiB;AAAA,OAAbC,QAAa,yDAAJ,EAAI;;;AAElD,UAAO,oBAAY;;AAGjB,YAAO,iCAAY,EAAE5M,kBAAF,EAAY2M,kBAAZ,EAAsBC,kBAAtB,EAAZ,EACJlO,IADI,CACC,YAAM;AACV,cAAOsB,SAAS,iCAAT,CAAP;AACD,MAHI,CAAP;AAKD,IARD;AASD,E;;;;;;;;;;;;;;;;;SCjBe6M,Y,GAAAA,Y;;AAXhB;;;;AACA;;AACA;;KAAYC,C;;AAEZ;;AACA;;;;;;AAEO,KAAMC,gDAAoB,gCAAkB,uBAAEzK,IAAF,CAAOO,kBAAzB,CAA1B,C,CAVP;;;AAWO,KAAMmK,sDAAuB,gCAAkB,uBAAE1K,IAAF,CAAOQ,qBAAzB,EAAgD,MAAhD,CAA7B;AACA,KAAMmK,gDAAoB,gCAAkB,uBAAE3K,IAAF,CAAOS,kBAAzB,EAA6C,QAA7C,CAA1B;;AAEA,UAAS8J,YAAT,CAAsBK,WAAtB,EAAmC;AACxC,UAAO,UAAClN,QAAD,EAAc;;AAEnBA,cAAS+M,mBAAT;;AAEA,SAAMI,mBAAmB,IAAIC,OAAJ,CAAY,UAACC,EAAD,EAAKC,EAAL,EAAY;;AAE/C,WAAMC,iBAAiBT,EAAEU,eAAF,EAAvB;AACA,WAAMC,cAAcF,eAAe,cAAf,CAApB;;AAEA,WAAI,CAACE,WAAL,EAAkB;AAChB,gBAAOH,GAAG,EAAEI,QAAQ,UAAV,EAAH,CAAP;AACD;;AAED,WAAMC,YAAYb,EAAEc,gBAAF,EAAlB;;AAEA,WAAID,aAAa,CAACT,WAAlB,EAA+B;AAC7B,gBAAOG,GAAGM,SAAH,CAAP;AACD;;AAED,cAAO,8BAAoBjP,IAApB,CAAyB,UAACmP,QAAD,EAAc;AAC5Cf,WAAEgB,eAAF,CAAkBD,QAAlB;AACA7N,kBAAS,8BAAe6N,SAASxF,EAAxB,EAA4BwF,QAA5B,CAAT;AACAR,YAAGQ,QAAH;AACD,QAJM,EAIJ,UAACE,GAAD,EAAS;AACVT,YAAGS,GAAH;AACD,QANM,CAAP;AAQD,MAvBwB,CAAzB;;AA0BA,YAAOZ,iBACJzO,IADI,CACC,gBAAQ;;AAEZsB,gBAASgN,qBAAqB5K,IAArB,CAAT;;AAEA,cAAOA,IAAP;AACD,MANI,EAOJ4L,KAPI,CAOE,YAAmB;AAAA,wEAAP,EAAO;;AAAA,WAAjBN,MAAiB,QAAjBA,MAAiB;;;AAExB1N,gBAASiN,kBAAkB,CAACS,MAAD,CAAlB,CAAT;;AAEA,cAAON,QAAQa,OAAR,CAAgB,EAACP,cAAD,EAAhB,CAAP;AACD,MAZI,CAAP;AAeD,IA7CD;AA8CD,E;;;;;;;;;;;;;;;;SC1DeQ,iB,GAAAA,iB;AAHhB;;;AAGO,UAASA,iBAAT,CAA2BrG,IAA3B,EAA8C;AAAA,qCAAVsG,QAAU;AAAVA,aAAU;AAAA;;AACnD,UAAO,YAAkB;AAAA,wCAANC,IAAM;AAANA,WAAM;AAAA;;AACvB,YAAOD,SAASvH,MAAT,CAAgB,UAACwB,MAAD,EAASiG,GAAT,EAAcC,KAAd,EAAwB;AAC7ClG,cAAOiG,GAAP,IAAcD,KAAKE,KAAL,CAAd;AACA,cAAOlG,MAAP;AACD,MAHM,EAGJ,EAAEP,UAAF,EAHI,CAAP;AAID,IALD;AAMD,E;;;;;;;;;;;;;;;;;SCae0G,kB,GAAAA,kB;SAIAC,kB,GAAAA,kB;SAIAC,kB,GAAAA,kB;SAIAC,kB,GAAAA,kB;SAQAC,qB,GAAAA,qB;SAIAC,qB,GAAAA,qB;SAQAC,qB,GAAAA,qB;SAIAC,qB,GAAAA,qB;SAKAC,W,GAAAA,W;SAQAC,c,GAAAA,c;SAyBAC,qB,GAAAA,qB;SAOAC,Y,GAAAA,Y;SAIAC,qB,GAAAA,qB;SAIAC,kB,GAAAA,kB;SAUAC,iB,GAAAA,iB;SAIAC,iB,GAAAA,iB;SAIAC,iB,GAAAA,iB;SAIAC,c,GAAAA,c;SAIAC,e,GAAAA,e;SAIAC,e,GAAAA,e;SASAC,S,GAAAA,S;SAKAC,c,GAAAA,c;SAYApC,e,GAAAA,e;SAIAqC,W,GAAAA,W;SAiBAC,Y,GAAAA,Y;;AA1LhB;;;;AACA;;KAAYC,C;;AACZ;;;;;;;;AAEA;AACA,KAAMC,YAAY;AAChBC,oBAAoB,EADJ;AAEhBC,oBAAoB,EAFJ;AAGhBxD,uBAAoB;AAHJ,EAAlB,C,CARA;;;;;AAcA,KAAMyD,gBAAgB,EAAtB;;AAEA,UAASC,KAAT,CAAe5J,GAAf,EAAoB;AAClBE,UAAOC,IAAP,CAAYH,GAAZ,EAAiBkB,OAAjB,CAAyB,aAAK;AAC5B,YAAOlB,IAAImC,CAAJ,CAAP;AACD,IAFD;AAGA,UAAOnC,GAAP;AACD;;AAEM,UAAS+H,kBAAT,CAA6B8B,CAA7B,EAAgC;AACrCL,aAAUC,eAAV,GAA4BI,CAA5B;AACD;;AAEM,UAAS7B,kBAAT,GAA+B;AACpC,UAAOwB,UAAUC,eAAjB;AACD;;AAEM,UAASxB,kBAAT,CAA6B6B,CAA7B,EAAgC;AACrCN,aAAUE,eAAV,GAA4BI,CAA5B;AACD;;AAEM,UAAS5B,kBAAT,GAA+B;AACpC,UAAOsB,UAAUE,eAAjB;AACD;;AAED;;;;AAIO,UAASvB,qBAAT,CAAgChG,CAAhC,EAAmC;AACxCkH,eAAYE,EAAEQ,gBAAd,EAAgC5H,KAAKmG,uBAArC;AACD;;AAEM,UAASF,qBAAT,GAAkC;AACvC,UAAOE,uBAAP;AACD;;AAED;;;;AAIO,UAASD,qBAAT,CAAgClG,CAAhC,EAAmC;AACxCkH,eAAYE,EAAES,kBAAd,EAAkC7H,CAAlC;AACD;;AAEM,UAASmG,qBAAT,GAAkC;AACvC,UAAOgB,aAAaC,EAAES,kBAAf,CAAP;AACD;;AAED;AACO,UAASzB,WAAT,GAAwB;AAC7BqB,SAAMJ,SAAN;AACAA,aAAUC,eAAV,GAA+B,EAA/B;AACAD,aAAUE,eAAV,GAA+B,EAA/B;AACAlB;AACD;;AAGM,UAASA,cAAT,GAA2B;;AAE/B,IACCe,EAAEU,eADH,EAECV,EAAEQ,gBAFH,EAGCR,EAAEW,eAHH,CAAD,CAIGhJ,OAJH,CAIW,eAAO;AAChB;AACA,SAAI,eAAKiJ,YAAT,EAAuB;AACrB,sBAAKA,YAAL,CAAkBC,UAAlB,CAA6BvJ,GAA7B;AACD;;AAED;AACA,wBAAQwJ,MAAR,CAAexJ,GAAf,EAAoB;AAClByJ,aAAMd,UAAUC,eAAV,CAA0Bc,UAA1B,IAAwC;AAD5B,MAApB;AAGD,IAdD;;AAgBAX,SAAMD,aAAN;AACD;;AAED,UAASa,cAAT,CAAyBC,GAAzB,EAA8B;AAC5B,UAAOA,OAAOA,IAAIC,OAAJ,CAAY,QAAZ,EAAsB,EAAtB,CAAd;AACD;;AAEM,UAASjC,qBAAT,GAAkC;AACvC,UAAO+B,eACL,mBAAQG,GAAR,CAAYpB,EAAEQ,gBAAd,KACC,eAAKI,YAAL,IAAqB,eAAKA,YAAL,CAAkBS,OAAlB,CAA0BrB,EAAEQ,gBAA5B,CAFjB,CAAP;AAID;;AAEM,UAASrB,YAAT,CAAsBmC,GAAtB,EAA2B;AAChC,UAAO,IAAP;AACD;;AAEM,UAASlC,qBAAT,GAAkC;AACvC,UAAOP,uBAAP;AACD;;AAEM,UAASQ,kBAAT,CAA6BzG,CAA7B,EAAgC;AACrC,UAAO+F,qBAAqBS,uBAArB,CAAP;AACD;;AAGD;AACA;AACA;AACA;;AAEO,UAASE,iBAAT,GAA8B;AACnC,eAAUD,qBAAqB1O,eAA/B;AACD;;AAEM,UAAS4O,iBAAT,GAA8B;AACnC,UAAOG,iBAAP;AACD;;AAEM,UAASF,iBAAT,GAA8B;AACnC,eAAUH,qBAAqBxO,eAA/B;AACD;;AAEM,UAAS4O,cAAT,GAA2B;AAChC,eAAUJ,qBAAqBvO,YAA/B;AACD;;AAEM,UAAS4O,eAAT,GAA4B;AACjC,eAAUL,qBAAqBzO,aAA/B;AACD;;AAEM,UAAS+O,eAAT,GAA4B;AACjC,eAAUN,qBAAqBtO,aAA/B;AACD;;AAED;;;;;AAKO,UAAS6O,SAAT,CAAmBtI,GAAnB,EAAwB;AAC7B,OAAIiK,YAAYnC,sBAAsB9H,GAAtB,CAAhB;AACA,UAAOkK,WAAWrB,eAAX,CAA2BoB,SAA3B,EAAsCE,MAA7C;AACD;;AAEM,UAAS5B,cAAT,GAA0B;AAC/B,UAAOI,UAAUC,eAAV,CAA0BjP,WAAjC;AACD;;AAEM,KAAM8M,4CAAkB,SAAlBA,eAAkB,CAAC1L,IAAD,EAAU;AACvC+N,iBAAcJ,EAAEW,eAAhB,IAAmCtO,IAAnC;AACD,EAFM;;AAIA,KAAMwL,8CAAmB,SAAnBA,gBAAmB,GAAK;AACnC,UAAOuC,cAAcJ,EAAEW,eAAhB,CAAP;AACD,EAFM;;AAIA,UAASlD,eAAT,GAA2B;AAChC,UAAOsC,aAAaC,EAAEU,eAAf,KAAmC,EAA1C;AACD;;AAEM,UAASZ,WAAT,CAAsBxI,GAAtB,EAA2B4J,GAA3B,EAAgC;AACrCA,SAAM,eAAKQ,IAAL,CAAUC,SAAV,CAAoBT,GAApB,CAAN;;AAEA,WAAQjB,UAAUC,eAAV,CAA0BlP,OAAlC;AACE,UAAK,cAAL;AACE,sBAAK4P,YAAL,CAAkBgB,OAAlB,CAA0BtK,GAA1B,EAA+B4J,GAA/B;AACA;;AAEF;AACE,0BAAQW,GAAR,CAAYvK,GAAZ,EAAiB4J,GAAjB,EAAsB;AACpBY,kBAAS7B,UAAUC,eAAV,CAA0B6B,YADf;AAEpBhB,eAASd,UAAUC,eAAV,CAA0Bc;AAFf,QAAtB;AAIA;AAVJ;AAYD;;AAEM,UAASjB,YAAT,CAAuBzI,GAAvB,EAA4B;AACjC,OAAI4J,MAAM,IAAV;;AAEA,WAAQjB,UAAUC,eAAV,CAA0BlP,OAAlC;;AAEE,UAAK,cAAL;AACEkQ,aAAM,eAAKN,YAAL,IAAqB,eAAKA,YAAL,CAAkBS,OAAlB,CAA0B/J,GAA1B,CAA3B;AACA;;AAEF;AACE4J,aAAM,mBAAQE,GAAR,CAAY9J,GAAZ,CAAN;AACA;AARJ;;AAWA;AACA;AACA,OAAI;AACF;AACA,YAAOoK,KAAKM,KAAL,CAAWd,GAAX,CAAP;AACD,IAHD,CAGE,OAAOlD,GAAP,EAAY;AACZ;AACA,YAAOiD,eAAeC,GAAf,CAAP;AACD;AACF,E;;;;;;;;;;;;;;;;ACpND;;;AAGO,KAAMe,kDAAqB,SAA3B;AACA,KAAMxB,kDAAqB,kBAA3B;AACA,KAAMD,8CAAqB,mBAA3B;AACA,KAAME,4CAAqB,aAA3B;AACA,KAAMC,4CAAqB,WAA3B,C;;;;;;;;;;;;;;;;ACPP;;;AAGA;AACA;mBACeuB,SAAS,aAAT,OAA6B,CAAC,IAAIC,IAAL,EAAW,MAAX,C;;;;;;;;;;;;;;;;;;mQCL5C;;;;;AAGA;;;;AACA;;AAQA;;;;AACA;;;;AAEA,KAAMC,QAAQ,SAARA,KAAQ;AAAA,UAAa,4CAAqBzT,IAArB,oCAAb;AAAA,EAAd;;AAEA,UAAS0T,SAAT,CAAmBC,MAAnB,EAA2B;AACzB,UAAO3L,OAAOC,IAAP,CAAY0L,MAAZ,EAAoB5H,GAApB,CAAwB;AAAA,YAAO,CAAC6H,mBAAmBjL,GAAnB,CAAD,EAA0BiL,mBAAmBD,OAAOhL,GAAP,CAAnB,CAA1B,EAA2DkL,IAA3D,CAAgE,GAAhE,CAAP;AAAA,IAAxB,EAAqGA,IAArG,CAA0G,GAA1G,CAAP;AACD;;AAED,KAAMC,eAAe;AACnBC,YAAS;AACP,eAAU,kBADH;AAEL,qBAAgB;AAFX;AADU,EAArB;;AAOA,KAAMC,UAAU;AACdC,wBACKH,YADL;AAEEI,aAAQ;AAFV,KADc;AAKdC,qBACKL,YADL;AAEEI,aAAQ;AAFV,KALc;AASdE,sBACKN,YADL;AAEEI,aAAQ;AAFV;AATc,EAAhB;;AAeO,KAAMG,gCAAY,SAAZA,SAAY,CAACC,IAAD;AAAA,UAAUb,MAAM,wCAAN,eAC9BO,QAAQI,IADsB;AAEjCE,WAAM,eAAKvB,IAAL,CAAUC,SAAV,CAAoBsB,IAApB;AAF2B,MAAV;AAAA,EAAlB;;AAKA,KAAMC,gCAAY,SAAZA,SAAY,CAACD,IAAD;AAAA,UAAUb,MAAM,wCAAN,eAC9BO,QAAQI,IADsB;AAEjCE,WAAM,eAAKvB,IAAL,CAAUC,SAAV,CAAoBsB,IAApB;AAF2B,MAAV;AAAA,EAAlB;;AAKA,KAAME,gDAAoB,SAApBA,iBAAoB;AAAA,UAAMf,MAAM,wCAAN,eAAgCO,QAAQG,GAAxC,EAAN;AAAA,EAA1B;;AAEA,KAAMM,8CAAmB,SAAnBA,gBAAmB,CAACC,UAAD;AAAA,OAC9BC,KAD8B,QAC9BA,KAD8B;AAAA,OAErBC,cAFqB,QAE9BC,OAF8B;AAAA,OAG9BC,WAH8B,QAG9BA,WAH8B;AAAA,UAGZrB,MAAM,qCAAN,eACfO,QAAQI,IADO;AAElBE,WAAM,eAAKvB,IAAL,CAAUC,SAAV,CAAoB;AACxB0B,6BADwB;AAExBC,mBAFwB;AAGxBC,qCAHwB;AAIxBE,+BAJwB,EAApB;AAFY,MAHY;AAAA,EAAzB;;AAYA,KAAMC,oDAAsB,SAAtBA,mBAAsB,CAACL,UAAD;AAAA,OACjCM,KADiC,SACjCA,KADiC;AAAA,OACjBrI,SADiB,SAC1BW,OAD0B;AAAA,OACNqH,KADM,SACNA,KADM;AAAA,OACCG,WADD,SACCA,WADD;AAAA,UACmBrB,MAAS,sCAAT,SAA8BiB,UAA9B,+BACjDV,QAAQI,IADyC;AAEpDE,WAAM,eAAKvB,IAAL,CAAUC,SAAV,CAAoB;AACxBgC,mBADwB;AAExBrL,WAAIgD,SAFoB;AAGxBgI,mBAHwB;AAIxBG,+BAJwB,EAApB;AAF8C,MADnB;AAAA,EAA5B;;AAUA,KAAMG,4CAAkB,SAAlBA,eAAkB,CAACC,aAAD;AAAA,OAC7B5H,OAD6B,SAC7BA,OAD6B;AAAA,OACpB6H,MADoB,SACpBA,MADoB;AAAA,OACZL,WADY,SACZA,WADY;AAAA,UACMrB,MAAM,sCAAN,eAChCO,QAAQI,IADwB;AAEnCE,WAAM,eAAKvB,IAAL,CAAUC,SAAV,CAAoB;AACxB,iBAAUmC,MADc;AAExB,wBAAiBD,aAFO;AAGxB,sBAAe5H,OAHS;AAIxBwH;AAJwB,MAApB;AAF6B,MADN;AAAA,EAAxB;;AAWA,KAAMM,oDAAsB,SAAtBA,mBAAsB,CAACV,UAAD;AAAA,UAAgBjB,MAAS,sCAAT,SAA8BiB,UAA9B,6BAC9CV,QAAQG,GADsC,EAAhB;AAAA,EAA5B;;AAIA,KAAMkB,sDAAuB,SAAvBA,oBAAuB,CAAC1I,SAAD;AAAA,UAAe8G,MAAS,qCAAT,SAA6B9G,SAA7B,4BAC9CqH,QAAQG,GADsC,EAAf;AAAA,EAA7B;;AAIA,KAAMmB,kDAAqB,SAArBA,kBAAqB,CAAC3I,SAAD;AAAA,UAAe8G,MAAS,qCAAT,SAA6B9G,SAA7B,eAC5CqH,QAAQG,GADoC,EAAf;AAAA,EAA3B;;AAIA,KAAMoB,8CAAmB,SAAnBA,gBAAmB,CAACb,UAAD,EAAa/H,SAAb;AAAA,UAA2B8G,MAAS,sCAAT,SAA8BiB,UAA9B,kBAAqD/H,SAArD,eACtDqH,QAAQC,MAD8C,EAA3B;AAAA,EAAzB;;AAIA,KAAMuB,8CAAmB,SAAnBA,gBAAmB,CAACC,KAAD;AAAA,UAAWhC,MAAS,sCAAT,SAA8BC,UAAU,EAAE+B,YAAF,EAAV,CAA9B,eACtCzB,QAAQG,GAD8B,EAAX;AAAA,EAAzB,C;;;;;;;;;;;;;;;;;mQCxGP;;;;;mBAoEe,UAAUxB,GAAV,EAA6B;AAAA,OAAd9F,OAAc,yDAAJ,EAAI;;;AAE1C,OAAI,CAACA,QAAQkH,OAAb,EAAsB;AACpBlH,aAAQkH,OAAR,GAAkB,EAAlB;AACD;;AAEDlH,WAAQkH,OAAR,gBACKlH,QAAQkH,OADb,EAEK2B,eAAe/C,GAAf,CAFL;;AAKA;AACA,UAAO,+BAAcA,GAAd,EAAmB9F,OAAnB,EACJ7M,IADI,CACC;AAAA,YAAQ2V,sBAAsBnT,IAAtB,CAAR;AAAA,IADD,CAAP;AAED,E;;AA/ED;;;;AACA;;KAAY6O,C;;AAEZ;;;;;;AAQA,UAASqE,cAAT,CAAwB/C,GAAxB,EAA6B;AAC3B,OAAI,kCAAaA,GAAb,CAAJ,EAAuB;AACrB;AACA,SAAI9D,iBAAiB,kCAAawC,EAAEU,eAAf,KAAmC,EAAxD;AAAA,SACE6D,cAAc,EADhB;;AAGA,SAAI/G,mBAAmB,WAAvB,EAAoC;AAClCA,wBAAiB,EAAjB;AACD;AACD;AACA+G,iBAAY,mBAAZ,IAAmC,+BAAnC;;AAEA;AACA,UAAK,IAAIjN,GAAT,IAAgB,qCAAhB,EAAkC;AAChC,WAAIA,OAAOkG,cAAX,EAA2B;AACzB+G,qBAAYjN,GAAZ,IAAmBkG,eAAelG,GAAf,CAAnB;AACD;AACF;;AAED,YAAOiN,WAAP;AACD,IAnBD,MAmBO;AACL,YAAO,EAAP;AACD;AACF;;AAED,UAASD,qBAAT,CAA+BnT,IAA/B,EAAqC;;AAEnC;AACA,OAAI,kCAAaA,KAAKmQ,GAAlB,CAAJ,EAA4B;AAC1B;AACA,SAAIkD,aAAa,EAAjB;;AAEA;AACA;AACA,SAAIC,eAAe,IAAnB;;AAEA;AACA,UAAK,IAAInN,GAAT,IAAgB,qCAAhB,EAAkC;AAChCkN,kBAAWlN,GAAX,IAAkBnG,KAAKuR,OAAL,CAAatB,GAAb,CAAiB9J,GAAjB,CAAlB;;AAEA,WAAIkN,WAAWlN,GAAX,CAAJ,EAAqB;AACnBmN,wBAAe,KAAf;AACD;AACF;;AAED;AACA,SAAI,CAACA,YAAL,EAAmB;AACjB,wCAAYzE,EAAEU,eAAd,EAA+B8D,UAA/B;AACD;AACF;;AAED,UAAOrT,IAAP;AACD,E;;;;;;;;;;;;;;;;SC/DeuT,a,GAAAA,a;;;;AAHhB;;;AAGO,UAASA,aAAT,CAAwBC,QAAxB,EAAkC;AACvC,OAAIC,OAAOD,SAASC,IAAT,EAAX;AACA,OAAID,SAASE,MAAT,IAAmB,GAAnB,IAA0BF,SAASE,MAAT,GAAkB,GAAhD,EAAqD;AACnD,YAAOD,IAAP;AACD,IAFD,MAEO;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAOA,KAAKjW,IAAL,CAAU,gBAA0B;AAAA,WAAvBmW,OAAuB,QAAvBA,OAAuB;;AAAA,WAAXC,IAAW;;AACzC,WAAI,CAACD,OAAL,EAAc;AACZ,gBAAOC,IAAP;AACD;AACD,WAAMC,aAAa,kDAAnB;AACA,WAAIzM,SAAS,EAAb;AACAuM,eAAQ3D,OAAR,CAAgB6D,UAAhB,EAA4B,UAACC,CAAD,EAAIC,IAAJ,EAAa;AACvC3M,gBAAO2M,IAAP,IAAe,CAAC,UAAD,CAAf;AACD,QAFD;;AAIA,WAAIvO,OAAOC,IAAP,CAAY2B,MAAZ,EAAoBb,MAAxB,EAAgC;AAC9B,gBAAO,EAAEa,cAAF,EAAP;AACD;AACD,cAAO,EAAEA,QAAQuM,OAAV,EAAP;AACD,MAdM,EAcJnW,IAdI,CAcC;AAAA,cAAO0O,QAAQ8H,MAAR,CAAenH,GAAf,CAAP;AAAA,MAdD,CAAP;AAeD;AACF,E;;;;;;;;;;;;;;;;;;mQChCD;;;;;SAiCgBoH,Y,GAAAA,Y;SAgCAC,a,GAAAA,a;SAgCAC,gB,GAAAA,gB;SAuBAC,gB,GAAAA,gB;SAUAC,Y,GAAAA,Y;SAiBAC,a,GAAAA,a;SAkBAC,oB,GAAAA,oB;;AAlKhB;;;;AACA;;AACA;;KAAYC,G;;AACZ;;AACA;;;;;;;;AAEO,KAAMC,4CAAkB,gCAAkB,uBAAEjS,QAAF,CAAWC,SAA7B,EAAwC,IAAxC,CAAxB;AACA,KAAMiS,0CAAiB,gCAAkB,uBAAElS,QAAF,CAAWE,QAA7B,EAAuC,IAAvC,EAA6C,QAA7C,CAAvB;;AAEA,KAAMiS,wDAAwB,gCAAkB,uBAAE/R,QAAF,CAAWC,UAA7B,CAA9B;AACA,KAAM+R,sDAAuB,gCAAkB,uBAAEhS,QAAF,CAAWE,aAA7B,EAA4C,SAA5C,CAA7B;AACA,KAAM+R,gDAAoB,gCAAkB,uBAAEjS,QAAF,CAAWG,UAA7B,EAAyC,OAAzC,CAA1B;;AAEA,KAAM+R,4DAA0B,gCAAkB,uBAAElS,QAAF,CAAWK,iBAA7B,EAAgD,SAAhD,CAAhC;;AAEA,KAAM8R,kDAAqB,gCAAkB,uBAAEnS,QAAF,CAAWO,YAA7B,CAA3B;AACA,KAAM6R,wDAAwB,gCAAkB,uBAAEpS,QAAF,CAAWQ,eAA7B,EAA8C,SAA9C,CAA9B;AACA,KAAM6R,kDAAqB,gCAAkB,uBAAErS,QAAF,CAAWS,YAA7B,EAA2C,OAA3C,CAA3B;AACA,KAAM6R,4DAA0B,gCAAkB,uBAAEtS,QAAF,CAAWU,kBAA7B,EAAiD,KAAjD,EAAwD,OAAxD,CAAhC;;AAEA,KAAM6R,wDAAwB,gCAAkB,uBAAEvS,QAAF,CAAWe,gBAA7B,CAA9B;AACA,KAAMyR,8DAA2B,gCAAkB,uBAAExS,QAAF,CAAWgB,mBAA7B,EAAkD,SAAlD,CAAjC;AACA,KAAMyR,wDAAwB,gCAAkB,uBAAEzS,QAAF,CAAWiB,gBAA7B,EAA+C,OAA/C,CAA9B;AACA,KAAMyR,kEAA6B,gCAAkB,uBAAE1S,QAAF,CAAWkB,sBAA7B,EAAsD,KAAtD,EAA6D,OAA7D,CAAnC;;AAEA,KAAMyR,8CAAmB,gCAAkB,uBAAEpR,OAAF,CAAUC,YAA5B,CAAzB;AACA,KAAMoR,4CAAkB,gCAAkB,uBAAErR,OAAF,CAAUE,eAA5B,EAA6C,SAA7C,CAAxB;AACA,KAAMoR,sCAAe,gCAAkB,uBAAEtR,OAAF,CAAUG,YAA5B,EAA0C,OAA1C,CAArB;;AAGA,UAAS2P,YAAT,CAAsB/B,UAAtB,EAAkC;AACvC,UAAO,oBAAY;AACjBpT,cAAS6V,uBAAT;AACA,YAAOH,IAAI5B,mBAAJ,CAAwBV,UAAxB,EACJ1U,IADI,CACC,gBAAsB;AAAA,gCAAnB0L,QAAmB;AAAA,WAAnBA,QAAmB,iCAAR,EAAQ;;AAC1BpK,gBAAS8V,qBAAqB1L,QAArB,CAAT;AACD,MAHI,EAIJ4D,KAJI,CAIE,eAAO;AACZhO,gBAAS+V,kBAAkBhI,GAAlB,CAAT;AACA,cAAOX,QAAQa,OAAR,CAAgB,EAAE9O,OAAO4O,GAAT,EAAhB,CAAP;AACD,MAPI,CAAP;AAQD,IAVD;AAWD;;AAED,UAAS6I,gBAAT,CAA0BC,WAA1B,EAAuCzD,UAAvC,EAAmD;AAAA;;AACjD,OAAM0D,kBAAkB,eAAK,MAAL,EAAapF,SAAb,CAAuBmF,WAAvB,CAAxB;AACA;AACA,UAAO,IAAIzJ,OAAJ,CAAY,UAACC,EAAD,EAAKC,EAAL,EAAY;AAC7ByJ,gBAAW,YAAM;AACfrB,WAAI5B,mBAAJ,CAAwBV,UAAxB,EACG1U,IADH,CACQ,gBAAQ;AACZ;AACA,aAAIoY,mBAAmB,eAAK,MAAL,EAAapF,SAAb,CAAuBvQ,IAAvB,CAAvB,EAAqD;AACnD,kBAAOyV,iBAAiBI,IAAjB,QAA4B7V,IAA5B,EAAkCiS,UAAlC,EAA8C1U,IAA9C,CAAmD2O,EAAnD,EAAuDC,EAAvD,CAAP,CADmD,CACgB;AACpE;AACDD,YAAGlM,IAAH;AACD,QAPH,EAQG6M,KARH,CAQSV,EART;AASD,MAVD,EAUG,GAVH;AAWD,IAZM,CAAP;AAaD;;AAEM,UAAS8H,aAAT,CAAuBhC,UAAvB,EAAmCrK,OAAnC,EAA4C;AACjD,UAAO,oBAAY;AACjB/I,cAASiW,oBAAT;AACA,YAAOP,IAAIvC,gBAAJ,CAAqBC,UAArB,EAAiCrK,OAAjC,EACJrK,IADI,CACC,gBAAQ;AACZ,WAAIyC,KAAKkK,SAAT,EAAoB;AAAA,aACVA,SADU,GACIlK,IADJ,CACVkK,SADU;;AAElBrL,kBAASkW;AACP7N,eAAIgD;AADG,YAEJtC,OAFI,EAAT;AAIA;AACA/I,kBAAS,gCAAa,IAAb,CAAT;AACA,gBAAOqL,SAAP;AACD,QATD,MASO;AACL,gBAAOuL,iBAAiBzV,IAAjB,EAAuBiS,UAAvB,EACJ1U,IADI,CACC,YAAM;AACVsB,oBAASkW,sBAAsB;AAC7B7N,iBAAI;AADyB,YAAtB,CAAT;AAGArI,oBAAS,gCAAa,IAAb,CAAT;AACD,UANI,CAAP;AAOD;AACF,MApBI,EAqBJgO,KArBI,CAqBE,eAAO;AACZ;AACAhO,gBAASmW,mBAAmBpI,GAAnB,CAAT;AACA;AACD,MAzBI,CAAP;AA0BD,IA5BD;AA6BD;;AAEM,UAASsH,gBAAT,CAA0BjC,UAA1B,EAAsCrK,OAAtC,EAA+C;AACpD,UAAO,oBAAY;AACjB/I,cAASqW,uBAAT;AACA,YAAOX,IAAIjC,mBAAJ,CAAwBL,UAAxB,EAAoCrK,OAApC,EACJrK,IADI,CACC,iBAAY;AAAA,WAAT2J,EAAS,SAATA,EAAS;;AAChBrI,gBAASsW,sCACJvN,OADI;AAEPV;AAFO,UAAT;AAIArI,gBAAS4V,eAAevN,EAAf,EAAmBU,OAAnB,CAAT;AACA,cAAO/I,SAAS,gCAAa,IAAb,CAAT,CAAP;AACD,MARI,EASJgO,KATI,CASE,eAAO;AACZ;AACAhO,gBAASuW,sBAAsBxI,GAAtB,CAAT;AACA,cAAOX,QAAQa,OAAR,CAAgB,EAAE9O,OAAO4O,GAAT,EAAhB,CAAP;AACD,MAbI,CAAP;AAcD,IAhBD;AAiBD;;AAKM,UAASuH,gBAAT,CAA0BlC,UAA1B,EAAsC;AAC3C,UAAO,oBAAY;AACjB;AACA,YAAOsC,IAAI5B,mBAAJ,CAAwBV,UAAxB,EACJ1U,IADI,CACC,gBAAQ;AACZsB,gBAAS8V,qBAAqB3U,KAAKiJ,QAA1B,CAAT;AACD,MAHI,CAAP;AAID,IAND;AAOD;;AAEM,UAASmL,YAAT,CAAsBlK,SAAtB,EAAiC;AACtC,UAAO,oBAAY;AACjBrL,cAASyW,kBAAT;AACA,YAAOf,IAAI1B,kBAAJ,CAAuB3I,SAAvB,EACJ3M,IADI,CACC,gBAAQ;AACZsB,gBAAS0W,gBAAgBvV,IAAhB,CAAT;AACD,MAHI,EAIJ6M,KAJI,CAIE,eAAO;AACZhO,gBAAS2W,aAAa5I,GAAb,CAAT;AACD,MANI,CAAP;AAOD,IATD;AAUD;;AAEM,KAAMkJ,0DAAyB,gCAAkB,uBAAE5R,OAAF,CAAUI,YAA5B,CAA/B;AACA,KAAMyR,wDAAwB,gCAAkB,uBAAE7R,OAAF,CAAUK,eAA5B,CAA9B;AACA,KAAMyR,kDAAqB,gCAAkB,uBAAE9R,OAAF,CAAUM,YAA5B,CAA3B;;AAEA,UAAS6P,aAAT,CAAuBpC,UAAvB,EAAmC/H,SAAnC,EAA8C;AACnD,UAAO,oBAAY;AACjBrL,cAASiX,wBAAT;AACA,YAAOvB,IAAIzB,gBAAJ,CAAqBb,UAArB,EAAiC/H,SAAjC,EACJ3M,IADI,CACC,gBAAQ;AACZsB,gBAASkX,sBAAsB/V,IAAtB,CAAT;AACA,cAAOiM,QAAQa,OAAR,CAAgB9M,IAAhB,CAAP;AACD,MAJI,EAKJ6M,KALI,CAKE,eAAO;AACZhO,gBAASmX,oBAAT;AACA,cAAO/J,QAAQ8H,MAAR,CAAenH,GAAf,CAAP;AACD,MARI,CAAP;AASD,IAXD;AAYD;;AAEM,KAAMqJ,gDAAoB,gCAAkB,uBAAEnR,KAAF,CAAQC,KAA1B,EAAiC,SAAjC,CAA1B;AACA,KAAMmR,8CAAmB,gCAAkB,uBAAEpR,KAAF,CAAQE,IAA1B,CAAzB;;AAEA,UAASsP,oBAAT,CAA8BtW,KAA9B,EAAqCmY,OAArC,EAA8C;AACnD,UAAO,oBAAY;AACjBtX,cAASoX,kBAAkBjY,KAAlB,CAAT;AACA4X,gBAAW,YAAM;AACf/W,gBAASqX,kBAAT;AACD,MAFD,EAEGC,WAAW,IAFd;AAGD,IALD;AAMD;;AAEM,KAAMC,gEAA4B,gCAAkB,uBAAEzT,QAAF,CAAWmB,6BAA7B,EAA4D,SAA5D,CAAlC;AACA,KAAMuS,sEAA+B,gCAAkB,uBAAE1T,QAAF,CAAWoB,gCAA7B,EAA+D,SAA/D,CAArC;;AAEA,KAAMuS,oEAA8B,gCAAkB,uBAAE3T,QAAF,CAAWqB,+BAA7B,EAA8D,SAA9D,CAApC;AACA,KAAMuS,0EAAiC,gCAAkB,uBAAE5T,QAAF,CAAWsB,kCAA7B,EAAiE,SAAjE,CAAvC;;AAEA,KAAMuS,sDAAuB,SAAvBA,oBAAuB,SAAU;AAC5C,UAAO,oBAAY;AACjB3X,cAASuX,0BAA0BK,MAA1B,CAAT;AACA,YAAOlC,IAAIxB,gBAAJ,CAAqB0D,MAArB,EACJlZ,IADI,CACC,gBAAQ;AAAA,mBAEeyC,QAAQ,EAFvB;;AAAA,mCAEJ0W,SAFI;AAAA,WAEJA,SAFI,mCAEQ,EAFR;;;AAIZ,WAAMC,MAAMD,UAAUpN,GAAV,CAAc,aAAK;AAAA,aACrBpC,EADqB,GACD3F,CADC,CACrB2F,EADqB;AAAA,aACjB4M,IADiB,GACDvS,CADC,CACjBuS,IADiB;AAAA,aACXd,KADW,GACDzR,CADC,CACXyR,KADW;;AAE7B,aAAM4D,WAAY,CAAC9C,KAAK+C,SAAN,EAAiB/C,KAAKgD,QAAtB,CAAD,CAAkC7Q,MAAlC,CAAyC;AAAA,kBAAK8Q,CAAL;AAAA,UAAzC,EAAiD3F,IAAjD,CAAsD,GAAtD,CAAjB;AACA,aAAM4F,QAAQhE,QAAY4D,QAAZ,UAA2B5D,KAA3B,SAAuC4D,QAArD;AACA,gBAAO;AACLhR,kBAAOsB,EADF;AAEL8P;AAFK,UAAP;AAID,QARW,CAAZ;AASAnY,gBAASwX,6BAA6BM,GAA7B,CAAT;AACA,cAAO,EAAEvM,SAASuM,GAAX,EAAP;AACD,MAhBI,EAiBJ9J,KAjBI,CAiBE,eAAO;AACZhO,gBAASwX,6BAA6B,EAA7B,CAAT;AACA,cAAO,EAAEjM,SAAS,EAAX,EAAP;AACD,MApBI,CAAP;AAqBD,IAvBD;AAwBD,EAzBM;;AA2BA,KAAM6M,0DAAyB,SAAzBA,sBAAyB,aAAc;AAClD,UAAO,oBAAY;AACjBpY,cAASyX,4BAA4BrE,UAA5B,CAAT;AACA,YAAOsC,IAAI5B,mBAAJ,CAAwBV,UAAxB,EACJ1U,IADI,CACC,iBAAkB;AAAA,WAAf0L,QAAe,SAAfA,QAAe;;AACtB,WAAM0N,MAAM1N,SAASK,GAAT,CAAa;AAAA,aAAGY,SAAH,SAAGA,SAAH;AAAA,aAAcgI,KAAd,SAAcA,KAAd;AAAA,gBAA2B;AAClDtM,kBAAOsE,SAD2C;AAElD8M,kBAAO9E;AAF2C,UAA3B;AAAA,QAAb,CAAZ;AAIArT,gBAAS0X,+BAA+BI,GAA/B,CAAT;AACA,cAAO,EAAEvM,SAASuM,GAAX,EAAP;AACD,MARI,EASJ9J,KATI,CASE,eAAO;AACZhO,gBAAS0X,+BAA+B,EAA/B,CAAT;AACA,cAAO,EAAEnM,SAAS,EAAX,EAAP;AACD,MAZI,CAAP;AAaD,IAfD;AAgBD,EAjBM;;AAoBA,KAAM8M,wDAAwB,gCAAkB,uBAAEzS,SAAF,CAAYC,UAA9B,CAA9B;AACA,KAAMyS,sDAAuB,gCAAkB,uBAAE1S,SAAF,CAAYE,aAA9B,EAA6C,SAA7C,CAA7B;AACA,KAAMyS,gDAAoB,gCAAkB,uBAAE3S,SAAF,CAAYG,UAA9B,EAA0C,OAA1C,CAA1B;AACA,KAAMyS,0DAAyB,gCAAkB,uBAAE5S,SAAF,CAAYI,gBAA9B,EAAgD,KAAhD,EAAuD,OAAvD,CAA/B;;AAEA,KAAMyS,sCAAe,SAAfA,YAAe,CAACpN,SAAD,EAAYtC,OAAZ,EAAwB;AAClD,UAAO,oBAAY;AACjB/I,cAASqY,uBAAT;AACA,YAAO3C,IAAI/B,eAAJ,CAAoBtI,SAApB,EAA+BtC,OAA/B,EACJrK,IADI,CACC,gBAAQ;AAAA,WACJga,eADI,GACgBvX,IADhB,CACJuX,eADI;;AAEZ1Y,gBAASsY,qBAAqBnX,IAArB,CAAT;AACA,cAAOuX,eAAP;AACD,MALI,EAMJ1K,KANI,CAME,eAAO;AACZhO,gBAASuY,kBAAkBxK,GAAlB,CAAT;AACA,cAAOA,GAAP;AACD,MATI,CAAP;AAUD,IAZD;AAaD,EAdM;;AAgBA,KAAM4K,wDAAwB,gCAAkB,uBAAE/S,SAAF,CAAY7B,UAA9B,EAA0C,IAA1C,CAA9B;AACA,KAAM6U,sDAAuB,gCAAkB,uBAAEhT,SAAF,CAAY5B,aAA9B,EAA6C,IAA7C,EAAmD,SAAnD,CAA7B;AACA,KAAM6U,gDAAoB,gCAAkB,uBAAEjT,SAAF,CAAY3B,UAA9B,EAA0C,IAA1C,EAAgD,OAAhD,CAA1B;;AAEA,KAAM6U,sCAAe,SAAfA,YAAe,CAACzN,SAAD,EAAe;AACzC,UAAO,oBAAY;AACjBrL,cAAS2Y,sBAAsBtN,SAAtB,CAAT;AACA,YAAOqK,IAAI3B,oBAAJ,CAAyB1I,SAAzB,EACJ3M,IADI,CACC,gBAAQ;AACZsB,gBAAS4Y,qBAAqBvN,SAArB,EAAgClK,KAAK4X,mBAArC,CAAT;AACA,cAAO5X,IAAP;AACD,MAJI,EAKJ6M,KALI,CAKE,eAAO;AACZhO,gBAAS6Y,kBAAkBxN,SAAlB,EAA6B0C,GAA7B,CAAT;AACA,cAAOA,GAAP;AACD,MARI,CAAP;AASD,IAXD;AAYD,EAbM,C;;;;;;;;;;;;;;;;;mQC5PP;;;;SAqEgBiL,W,GAAAA,W;;AAjEhB;;KAAYjJ,C;;AACZ;;;;AAEA;;;;AAEA;;;;AACA;;AAEA;;;;;;AAYA,KAAMkJ,kBAAkB;AACtB;AACA;AACAC,sBAAoB,KAHE;AAItBnY,YAAoB,SAJE;AAKtB+Q,iBAAoB,EALE;AAMtBf,eAAoB,GANE;AAOtBoI,uBAAoB,IAPE;;AAStBC,4BAAyB,mCAAW;AAClC,YAAO,eAAKjZ,QAAL,CAAckZ,IAArB;AACD,IAXqB;;AAatBC,2BAAyB,kCAAW;AAClC,YAAO,eAAKnZ,QAAL,CAAckZ,IAArB;AACD,IAfqB;;AAiBtBrY,gBAAa;AACX,qBAAgB;AAChB;AACA;AACA;AACA;AALW,IAjBS;;AAyBtBuY,gBAAa,qBAAS9G,OAAT,EAAiB;AAC5B;AACA,YAAQ+G,SAAS/G,QAAQ,QAAR,CAAT,EAA4B,EAA5B,IAAkC,IAAnC,IAA4C,IAAnD;AACD,IA5BqB;;AA8BtBxR,wBAAqB,6BAASC,IAAT,EAAe;AAClC,YAAOA,KAAKC,IAAZ;AACD,IAhCqB;;AAkCtBC,gCAA6B,qCAASF,IAAT,EAAe;AAC1C,YAAOA,KAAKC,IAAZ;AACD,IApCqB;;AAsCtBE,kCAA+B,uCAASH,IAAT,EAAe;AAC5C,YAAOA,KAAKC,IAAZ;AACD;AAxCqB,EAAxB;;AA4CA;AACO,UAAS6X,WAAT,GAA+E;AAAA,oEAAJ,EAAI;;AAAA,OAAxDhZ,QAAwD,QAAxDA,QAAwD;AAAA,4BAA9C2M,QAA8C;AAAA,OAA9CA,QAA8C,iCAArC,EAAqC;AAAA,4BAAjCC,QAAiC;AAAA,OAAjCA,QAAiC,iCAAxB,EAAwB;AAAA,yBAApB6M,KAAoB;AAAA,OAApBA,KAAoB,8BAAd,KAAc;;;AAEpF,OAAI7M,SAASjN,eAAT,IAA4BiN,SAASjN,eAAT,CAAyB+Z,KAAzB,CAA+B,YAA/B,CAAhC,EAA8E;AAC5E,YAAOtM,QAAQa,OAAR,CAAgB,EAAC1M,OAAO,IAAR,EAAhB,CAAP;AACD;;AAED,OAAIkL,2BAAJ;;AAEA,OAAIgN,KAAJ,EAAW;AACT1K;AACD;;AAED,OAAInC,SAASuM,kBAAb,EAAiC;AAC/B1M,0BAAqBG,SAASuM,kBAAT,CAA4B1M,kBAAjD;AACD;;AAED,wDAAwBwM,eAAxB,EAA4CrM,QAA5C;;AAEA,OAAMW,iBAAiB,kCAAawC,EAAEU,eAAf,KAAmC,EAA1D;;AAEA,OAAMhD,cAAcF,eAAe,cAAf,CAApB;;AAEA;AACA,OAAI,CAACE,WAAL,EAAkB;AAChB;AACD;;AAzBmF,8BA4BtC,mCAC5Cd,QAD4C,EAClC,4CADkC,CA5BsC;;AAAA,OA4B9ED,kBA5B8E,wBA4B9EA,kBA5B8E;AAAA,OA4B1DwD,eA5B0D,wBA4B1DA,eA5B0D;;;AAgCpF,OAAI,CAACzD,kBAAL,EAAyB;AACvBA,0BAAqBC,kBAArB;AACD;;AAED;AACA,8CAAsBA,kBAAtB;AACA,2CAAmBwD,eAAnB;;AAEAlQ,YAAS,gCACP0G,OAAOC,IAAP,CAAYuJ,eAAZ,CADO,EAEPzD,kBAFO,EAGPC,kBAHO,CAAT;;AAKA,8CAAsBD,kBAAtB;;AAIA,UAAOW,QAAQa,OAAR,EAAP;AAED,E;;;;;;;;;;;;;;;;;mQCxHD;;;;;mBA8BwB0L,mB;;AA3BxB;;KAAY5J,C;;;;AAEZ;AACA,KAAM6J,kBAAkB;AACtBpI,WAAuB,MADD;AAEtBqI,gBAAuB,gBAFD;AAGtBnZ,oBAAuB,eAHD;AAItBoZ,0BAAuB,OAJD;AAKtBC,sBAAuB,OALD;AAMtBC,sBAAuB,OAND;AAOtBC,sBAAuB,gBAPD;AAQtBC,uBAAuB,gBARD;AAStBC,wBAAuB,sBATD;;AAWtBC,sBAAmB;AACjBC,aAAW,cADM;AAEjBC,eAAW,gBAFM;AAGjBC,aAAW;AAHM;AAXG,EAAxB;;AAkBA,UAASC,iBAAT,CAA4BhU,GAA5B,EAAiC;AAC/B,QAAK,IAAIa,GAAT,IAAgBb,GAAhB,EAAqB;AACnB,YAAOa,GAAP;AACD;AACF;;AAEc,UAASsS,mBAAT,CAA6BhN,QAA7B,EAAkE;AAAA,OAA3BD,kBAA2B,yDAAN,IAAM;;AAC/E;AACA,OAAIC,SAAS8N,WAAT,KAAyBC,KAA7B,EAAoC;AAClC;AACA;AACAhO,0BAAqBqD,EAAEiC,kBAAvB;;AAEA;AACA,SAAI2I,gBAAgB,EAApB;AACAA,mBAAcjO,kBAAd,IAAoCC,QAApC;;AAEA;AACAA,gBAAW,CAACgO,aAAD,CAAX;AACD;;AAED,OAAIzK,kBAAkB,EAAtB;;AAEA;AACA,QAAK,IAAIgI,IAAI,CAAb,EAAgBA,IAAIvL,SAASlF,MAA7B,EAAqCyQ,GAArC,EAA0C;AACxC,SAAI0C,aAAaJ,kBAAkB7N,SAASuL,CAAT,CAAlB,CAAjB;;AAEA;AACA,SAAI,CAACxL,kBAAL,EAAyB;AACvBA,4BAAqBkO,UAArB;AACD;;AAED;AACA1K,qBAAgB0K,UAAhB,iBACKhB,eADL,EAEKjN,SAASuL,CAAT,EAAY0C,UAAZ,CAFL;AAID;;AAED,UAAO,EAAElO,sCAAF,EAAsBwD,gCAAtB,EAAP;AACD,E;;;;;;;;;;;;;;;;;;AC7DD;;;;AACA;;;;AAJA;;;AAMO,KAAM2K,wCAAgB,gCAAkB,uBAAElY,QAAF,CAAWC,KAA7B,EAAoC,UAApC,CAAtB,C;;;;;;;;;;;;;;;;;;;SCGSkY,qB,GAAAA,qB;;AANhB;;;;AACA;;AACA;;AAEA;;;;;;;;;;gfAPA;;;;;AASO,UAASA,qBAAT,CAA+Btb,SAA/B,EAA0C;AAAA,OAEzCub,aAFyC;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,qCAI/Bzb,KAJ+B,EAIxB;AACnB,aAAI,CAACA,MAAM0b,eAAX,EAA4B;AACxB;AACF,eAAMC,qBAAqB3b,MAAMa,QAAN,CAAemJ,QAA1C;AACAhK,iBAAMU,QAAN,CAAe,4BAAU,IAAV,oBAAgCib,kBAAhC,CAAf;AACD;AACF;AAV4C;AAAA;AAAA,4CAYxB;AACnB,cAAKC,aAAL,CAAmB,KAAK5b,KAAxB;AACD;AAd4C;AAAA;AAAA,iDAgBnB6b,SAhBmB,EAgBR;AACnC,cAAKD,aAAL,CAAmBC,SAAnB;AACD;AAlB4C;AAAA;AAAA,gCAoBpC;AAAA,qCAE6B,KAAK7b,KAFlC,CAEC0b,eAFD;AAAA,aAECA,eAFD,yCAEmB,KAFnB;;;AAIP,aAAIA,eAAJ,EAAqB;AACnB;AACA,kBACE,8BAAC,SAAD,EAAgB,KAAK1b,KAArB,CADF;AAGD;;AAED,gBAAQ;AAAA;AAAA,aAAK,WAAU,OAAf;AACN;AAAA;AAAA,eAAI,WAAU,aAAd;AAAA;AAAA;AADM,UAAR;AAID;AAnC4C;;AAAA;AAAA,KAEnB,gBAAME,SAFa;;AAsC/C,OAAM4b,kBACJ,SADIA,eACJ,CAACjT,KAAD,EAAW;AACT,YAAQ;AACN6S,wBAAiB,wBAAK7S,KAAL,EAAY,0BAAZ,EAAwC,KAAxC;AADX,MAAR;AAGD,IALH;;AAOA,UAAO,yBAAQiT,eAAR,EAAyBL,aAAzB,CAAP;AAED,E;;;;;;;;;;;;;;;;mBCrDuBM,I;;;;AAHxB;;;AAGe,UAASA,IAAT,CAAcC,GAAd,EAAiD;AAAA,OAA9BxK,IAA8B,yDAAvB,EAAuB;AAAA,OAAnByK,UAAmB,yDAAN,IAAM;;AAAA,qBAC3BzK,KAAK3J,KAAL,CAAW,GAAX,CAD2B;;AAAA;;AAAA;AAAA,OACvDqU,QADuD,iCAC5C,IAD4C;;AAAA,OACnC1G,IADmC;;AAG9D,OAAI0G,aAAa,IAAjB,EAAwB;AACtB,YAAOF,OAAOC,UAAd;AACD,IAFD,MAEO,IAAIzG,KAAKrN,MAAL,KAAgB,CAApB,EAAuB;AAC5B,SAAI,CAAC6T,GAAL,EAAU;AAAE,cAAOC,UAAP;AAAoB;AAChC,YAAOD,IAAIE,QAAJ,KAAiBD,UAAxB;AACD;;AAED,OAAI,CAACD,GAAL,EAAU;AAAE,YAAOC,UAAP;AAAoB;AAChC,UAAOF,KAAKC,IAAIE,QAAJ,CAAL,EAAoB1G,KAAKvC,IAAL,CAAU,GAAV,CAApB,EAAoCgJ,UAApC,CAAP;AACD,E;;;;;;;;;;;;;;;;;;;ACZD;;;;AACA;;AACA;;AAEA;;;;;;;;;;gfAPA;;;;;AASA;;AAEA;;KAEME,S;;;;;;;;;;;8BAKM;AACR,cACE;AAAA;AAAA,WAAK,WAAU,SAAf;AACE;AAAA;AAAA,aAAQ,WAAU,UAAlB;AACE;AAAA;AAAA,eAAe,IAAG,GAAlB;AACE;AAAA;AAAA;AAAA;AAAA;AADF,YADF;AAIE;AAAA;AAAA;AACE;AAAA;AAAA,iBAAe,IAAG,GAAlB,EAAsB,mBAAmB,IAAzC;AACE;AAAA;AAAA,mBAAS,UAAU,CAAnB;AAAA;AAAA;AADF;AADF,YAJF;AASE;AAAA;AAAA;AACE;AADF;AATF,UADF;AAeE;AAAA;AAAA,aAAM,WAAU,SAAhB;AACG,gBAAKnc,KAAL,CAAWC;AADd,UAfF;AAmBE;AAAA;AAAA,aAAQ,aAAa,IAArB,EAA2B,WAAU,mBAArC;AACE;AAAA;AAAA,eAAK,IAAI,EAAT,EAAa,IAAI,CAAjB;AAAA;AAAA,YADF;AAEE;AAAA;AAAA,eAAK,IAAI,EAAT,EAAa,IAAI,CAAjB,EAAoB,WAAU,YAA9B;AACE;AAAA;AAAA,iBAAG,MAAK,GAAR;AAAA;AAAA,cADF;AAAA;AAEE;AAAA;AAAA,iBAAG,MAAK,GAAR;AAAA;AAAA,cAFF;AAAA;AAGE;AAAA;AAAA,iBAAG,MAAK,GAAR;AAAA;AAAA,cAHF;AAAA;AAIE;AAAA;AAAA,iBAAG,MAAK,GAAR;AAAA;AAAA;AAJF;AAFF;AAnBF,QADF;AA+BD;;;;GArCqB,gBAAMC,S;AAuC9B;;;;;;;;;AAvCMic,U,CACGC,S,GAAY;AACjBnc,aAAU,iBAAUoc;AADH,E;mBA6CNF,S;;;;;;;;;;;;;;;;;;;;ACxDf;;;;AACA;;AACA;;AAEA;;;;AAGA;;KAAYG,E;;AACZ;;AAEA;;;;;;;;;;gfAbA;;;;;AASA;;;KAOaC,W,WAAAA,W;;;;;;;;;;;6BAEHC,G,EAAKzU,G,EAAK;AAChB,YAAK/H,KAAL,CAAWU,QAAX,CAAoB,wBAApB;AACD;;;8BAEQ;;AAEP,WAAI+b,YAAY,IAAhB;AACA,WAAMhS,aAAa,wBAAK,KAAKzK,KAAL,CAAWsC,IAAhB,EAAsB,iBAAtB,EAAyC,KAAzC,CAAnB;AAHO,WAICzB,QAJD,GAIc,KAAKb,KAAL,CAAWS,MAJzB,CAICI,QAJD;;AAKP,WAAM6b,aAAa7b,SAASmJ,QAAT,IAAqB,WAAxC;AACA,WAAM2S,UAAU9b,SAASmJ,QAAT,IAAqB,SAArC;;AAEA,WAAM4S,YAAYnS,aAAa,CAAb,GAAkBiS,aAAa,CAAb,GAAiB,CAArD;;AAEA,eAAQE,SAAR;AACE,cAAK,CAAL;AACEH,uBAAa;AAAA;AAAA,eAAe,IAAG,WAAlB;AACX;AAAC,iBAAD,CAAI,OAAJ;AAAA;AAAA;AAAA;AADW,YAAb;AAGA;AACF,cAAK,CAAL;AACEA,uBAAa;AAAA;AAAA,eAAe,IAAG,SAAlB;AACX;AAAC,iBAAD,CAAI,OAAJ;AAAA;AAAA;AAAA;AADW,YAAb;AAGA;AACF,cAAK,CAAL;AACEA,uBAAa;AAAC,eAAD,CAAI,OAAJ;AAAA,eAAY,SAAS,KAAK7Z,OAAL,CAAaia,IAAb,CAAkB,IAAlB,CAArB,EAA8C,UAAS,GAAvD;AAAA;AAAA,YAAb;AACA;AAbJ;;AAgBA,cACE;AAAC,WAAD,CAAI,GAAJ;AAAA,WAAQ,WAAW,IAAnB;AACIJ;AADJ,QADF;AAKD;;;;GArC8B,gBAAMvc,S;;mBAwCxB,yBAAQ;AAAA,OAErBO,MAFqB,QAErBA,MAFqB;AAAA,OAGrBD,GAHqB,QAGrBA,GAHqB;AAAA,UAId;AACP;AACAC,mBAFO;AAGP6B,WAAM9B,IAAI8B;AAHH,IAJc;AAAA,EAAR,EAQXia,WARW,C;;;;;;;;;;;;;;;;SCnCCO,Y,GAAAA,Y;SAIAC,e,GAAAA,e;SAIAna,O,GAAAA,O;;AA1BhB;;AASA;;AACA;;AACA;;AACA;;;;AAEA;;;;AAEA;;;;;;AAnBA;;;AAqBO,UAASka,YAAT,GAAwB;AAC7B,UAAO,EAAEvU,MAAM,uBAAEvF,IAAF,CAAOkB,cAAf,EAAP;AACD;;AAEM,UAAS6Y,eAAT,GAA2B;AAChC,UAAO,EAAExU,MAAM,uBAAEvF,IAAF,CAAOmB,iBAAf,EAAP;AACD;;AAEM,UAASvB,OAAT,GAAmB;AACxB,UAAO,oBAAY;;AAEjBlC,cAASoc,cAAT;;AAEA;;AAEApc,cAASqc,iBAAT;AAED,IARD;AASD,E;;;;;;;;;;;;;;;;;;;;;ACpCD;;;;AACA;;KACYT,E;;AACZ;;AACA;;;;AACA;;KAAYU,M;;AACZ;;;;AACA;;KAAYC,C;;AACZ;;KAAYC,E;;AACZ;;;;AACA;;;;;;;;;;gfAbA;;;;;AAiBA,KAAMC,cAAc;AAClBC,qBAAkB,KADA;AAElBC,6BAA0B,KAFR;AAGlBC,2BAAwB;AAHN,EAApB;;KAMMC,U;;;AAEJ,yBAAqB;AAAA;;AAAA;;AAAA,uCAANzO,IAAM;AAANA,WAAM;AAAA;;AAAA,oJACVA,IADU;;AAEnB,WAAKjG,KAAL,gBAAkBsU,WAAlB;AAFmB;AAGpB;;;;0CAEoB;AAAA,WAEbrJ,UAFa,GAGb,KAAK9T,KAAL,CAAWsC,IAAX,CAAgBQ,IAAhB,CAAqBnD,UAHR,CAEjBoJ,EAFiB;;AAInB,YAAK/I,KAAL,CAAWU,QAAX,CAAoBuc,EAAEjH,gBAAF,CAAmBlC,UAAnB,CAApB;AACD;;;0CAEoB;AACnB,YAAK0J,QAAL,CAAc;AACZJ,2BAAkB;AADN,QAAd;AAGD;;;iDAE2B3T,O,EAAS;AAAA;;AAAA,WAG7BqK,UAH6B,GAI7B,KAAK9T,KAAL,CAAWsC,IAAX,CAAgBQ,IAAhB,CAAqBnD,UAJQ,CAGjCoJ,EAHiC;;;AAMnC,YAAK/I,KAAL,CAAWU,QAAX,CAAoBuc,EAAEnH,aAAF,CAAgBhC,UAAhB,EAA4BrK,OAA5B,CAApB,EACGrK,IADH,CACQ,UAAC2M,SAAD,EAAe;AACnB,gBAAK0R,KAAL;AACA;AACEhG,oBAAW,YAAM;AACf,kBAAKzX,KAAL,CAAWU,QAAX,CAAoBuc,EAAEjH,gBAAF,CAAmBlC,UAAnB,CAApB,EADe,CACsC;AACtD,UAFD,EAEG,IAFH;AAGF;AACD,QARH,EASGpF,KATH,CASS,eAAO;AACZ;AACA,gBAAK1O,KAAL,CAAWU,QAAX,CAAoBuc,EAAEpG,kBAAF,CAAqBpI,GAArB,CAApB;AACD,QAZH;AAaD;;;kDAE4B;AAC3B,YAAK+O,QAAL,CAAc;AACZH,mCAA0B;AADd,QAAd;AAGD;;;yDAEmC5T,O,EAAS;AAAA;;AAAA,mCAIvC,KAAKzJ,KAAL,CAAWsC,IAAX,CAAgBQ,IAAhB,CAAqBnD,UAJkB;AAAA,WAErCmU,UAFqC,yBAEzC/K,EAFyC;AAAA,WAGzCrI,QAHyC,yBAGzCA,QAHyC;;;AAM3CA,gBAASuc,EAAElH,gBAAF,CAAmBjC,UAAnB,EAA+BrK,OAA/B,CAAT,EACGrK,IADH,CACQ,YAAM;AACV,gBAAKqe,KAAL;AACA,gBAAO,IAAI3P,OAAJ,CAAY,UAACC,EAAD,EAAKC,EAAL,EAAY;AAC7ByJ,sBAAW,YAAM;AACf3J,qBAAQ4P,GAAR,CAAY,CACVhd,SAASwc,GAAG3P,YAAH,CAAgB,IAAhB,CAAT,CADU,EAEV7M,SAASuc,EAAEjH,gBAAF,CAAmBlC,UAAnB,CAAT,CAFU,CAAZ,EAGG1U,IAHH,CAGQ2O,EAHR,EAGYC,EAHZ;AAID,YALD,EAKG,IALH;AAMD,UAPM,CAAP;AAQD,QAXH,EAYGU,KAZH,CAYS,eAAO;AACZ;AACA,gBAAK1O,KAAL,CAAWU,QAAX,CAAoBuc,EAAEhG,qBAAF,CAAwBxI,GAAxB,CAApB;AACD,QAfH;AAgBD;;;gDAE0B1C,S,EAAWyQ,G,EAAK;AACzC,WAAM9P,UAAU,KAAK1M,KAAL,CAAWQ,GAAX,CAAeqK,QAAf,CAAwBkB,SAAxB,CAAhB;AACA,YAAKyR,QAAL,CAAc;AACZG,0BAAiBjR,OADL;AAEZ4Q,iCAAwB;AAFZ,QAAd;AAID;;;yDAEmCvR,S,EAAW;AAAA;;AAAA,oBACZ,KAAK/L,KADO;AAAA,WACrC8T,UADqC,UACrCA,UADqC;AAAA,WACzBpT,QADyB,UACzBA,QADyB;;AAE7CA,gBAASuc,EAAE/G,aAAF,CAAgBpC,UAAhB,EAA4B/H,SAA5B,CAAT,EACC3M,IADD,CACM,YAAM;AACR,gBAAKqe,KAAL;AACAhG,oBAAW,YAAM;AACf,kBAAO3J,QAAQ4P,GAAR,CAAY,CACjBhd,SAASwc,GAAG3P,YAAH,CAAgB,IAAhB,CAAT,CADiB,EAEjB7M,SAASuc,EAAEjH,gBAAF,CAAmBlC,UAAnB,CAAT,CAFiB,CAAZ,CAAP;AAID,UALD,EAKG,IALH;AAMH,QATD,EAUA,eAAO;AACLpT,kBAASuc,EAAE9G,oBAAF,CAAuB1H,OAAOA,IAAI8G,OAAX,IAAsB9G,GAA7C,CAAT;AACA,gBAAKgP,KAAL;AACD,QAbD;AAcD;;;6BAEO;AACN,YAAKD,QAAL,cACKL,WADL;AAGD;;;8BAES;AAAA;;AAER;AACA;AACA;AACA,WAAMra,OAAO,KAAK9C,KAAL,CAAWsC,IAAX,CAAgBQ,IAAhB,CAAqBnD,UAAlC;AALQ,WAOFmU,UAPE,GAcFhR,IAdE,CAONiG,EAPM;AAAA,yBAcFjG,IAdE,CAQN+R,KARM;AAAA,WAQNA,KARM,+BAQE,EARF;AAAA,uBAcF/R,IAdE,CASN8a,GATM;AAAA,WASNA,GATM,6BASA,EATA;AAAA,wBAcF9a,IAdE,CAUN6S,IAVM;AAAA,WAUNA,IAVM,8BAUC,EAVD;AAAA,+BAcF7S,IAdE,CAWN+a,WAXM;AAAA,WAWNA,WAXM,qCAWQ,EAXR;AAAA,WAYNC,OAZM,GAcFhb,IAdE,CAYNgb,OAZM;AAAA,WAaN5S,UAbM,GAcFpI,IAdE,CAaNoI,UAbM;;;AAgBR,WAAMwN,YAAY/C,KAAK+C,SAAL,IAAkB,EAApC;AACA,WAAMC,WAAWhD,KAAKgD,QAAL,IAAiB,EAAlC;;AAjBQ,WAoBNoF,IApBM,GAyBFD,OAzBE,CAoBNC,IApBM;AAAA,WAqBNlV,KArBM,GAyBFiV,OAzBE,CAqBNjV,KArBM;AAAA,WAsBNmV,OAtBM,GAyBFF,OAzBE,CAsBNE,OAtBM;AAAA,WAuBNC,OAvBM,GAyBFH,OAzBE,CAuBNG,OAvBM;AAAA,WAwBNC,OAxBM,GAyBFJ,OAzBE,CAwBNI,OAxBM;AAAA,oBA8BqB,KAAKrV,KA9B1B;AAAA,WA4BNuU,gBA5BM,UA4BNA,gBA5BM;AAAA,WA6BNC,wBA7BM,UA6BNA,wBA7BM;AAAA,WA8BNC,sBA9BM,UA8BNA,sBA9BM;AAAA,mCAgC0B,KAAKzU,KAhC/B,CAgCA8U,eAhCA;AAAA,WAgCAA,eAhCA,yCAgCkB,IAhClB;AAAA,WAkCA9d,KAlCA,GAkCU,KAAKG,KAlCf,CAkCAH,KAlCA;;AAmCR,WAAMse,YAAYte,QAAS;AAAC,WAAD,CAAI,KAAJ;AAAA,WAAU,SAAQ,QAAlB;AAA2B;AAAA;AAAA;AAAUA;AAAV;AAA3B,QAAT,GAA6E,EAA/F;;AAEA,WAAMue,kBAAkB,KAAKpe,KAAL,CAAWQ,GAAX,CAAesK,QAAf,CAAwBQ,GAAxB,IAA+B,EAAvD;;AAEA;AACA;AACA;AACA;;AAEA,WAAM+S,cAAcD,gBAAgBjT,GAAhB,CAAoB,iBAEnCmT,GAFmC;AAAA,aACtCvS,SADsC,SACtCA,SADsC;AAAA,aAC3BkI,OAD2B,SAC3BA,OAD2B;AAAA,uCAClBC,WADkB;AAAA,aAClBA,WADkB,qCACJ,EADI;AAAA,aACAH,KADA,SACAA,KADA;AAAA,gBAGtC;AAAA;AAAA,aAAI,cAAYuK,GAAhB;AACE;AAAA;AAAA,eAAI,KAAK,CAAT;AAAY,oEAAa,WAAWvS,SAAxB,GAAZ;AACGmI,wBAAD,GAAgB,CACb,yCADa,EAEd;AAAA;AAAA;AAAQA;AAAR,cAFc,CAAhB,GAGG;AAJL,YADF;AAOE;AAAA;AAAA,eAAI,KAAK,CAAT;AAAY,2DAAO,QAAQD,OAAf;AAAZ,YAPF;AAQE;AAAA;AAAA,eAAI,KAAK,CAAT;AAAY;AAAC,iBAAD,CAAI,MAAJ;AAAA,iBAAW,SAAS,MAApB,EAA4B,SAAS,OAAKsK,0BAAL,CAAgC1B,IAAhC,SAA2C9Q,SAA3C,CAArC;AAA4F,6CAAC,EAAD,CAAI,SAAJ,IAAc,OAAM,QAApB;AAA5F;AAAZ;AARF,UAHsC;AAAA,QAApB,CAApB;;AAeA,WAAMyS,kBAAkB,KAAKxe,KAAL,CAAWQ,GAAX,CAAesK,QAAf,CAAwBS,KAAxB,IAAiC,EAAzD;AACA,WAAMkT,cAAcD,gBAAgBrT,GAAhB,CAAoB,iBAInCmT,GAJmC;AAAA,aACtCvK,KADsC,SACtCA,KADsC;AAAA,uCAEtCG,WAFsC;AAAA,aAEtCA,WAFsC,qCAExB,EAFwB;AAAA,aAGtCnL,EAHsC,SAGtCA,EAHsC;AAAA,gBAKtC;AAAA;AAAA,aAAI,cAAYuV,GAAhB;AACE;AAAA;AAAA,eAAI,KAAK,CAAT;AAAY,oEAAa,WAAWvV,EAAxB,GAAZ;AACGmL,wBAAD,GAAgB,CACb,yCADa,EAEd;AAAA;AAAA;AAAQA;AAAR,cAFc,CAAhB,GAGG;AAJL,YADF;AAQE,iDAAI,KAAK,CAAT,GARF;AASE;AAAA;AAAA,eAAI,KAAK,CAAT;AAAY;AAAA;AAAA,iBAAQ,WAAW,IAAnB,EAAyB,SAAS,MAAlC,EAA0C,SAAS,OAAKqK,0BAAL,CAAgC1B,IAAhC,SAA2C9T,EAA3C,CAAnD;AAAmG,6CAAC,EAAD,CAAI,SAAJ,IAAc,OAAM,QAApB;AAAnG;AAAZ;AATF,UALsC;AAAA,QAApB,CAApB;;AAmBA,WAAM+B,WAAY,CAAC,EAAEuT,YAAYlW,MAAZ,GAAqBsW,YAAYtW,MAAnC,CAAF,GAAgD,GAAGuW,MAAH,CAAUL,WAAV,EAAuBI,WAAvB,CAAhD,GAAuF;AAAA;AAAA;AACtG;AAAA;AAAA,aAAI,SAAS,CAAb;AAAA;AAAmC;AAAA;AAAA,eAAQ,SAAS,MAAjB,EAAyB,SAAS,KAAKE,kBAAL,CAAwB9B,IAAxB,CAA6B,IAA7B,CAAlC;AAAA;AAAA,YAAnC;AAAA;AAAsI;AAAA;AAAA,eAAQ,SAAS,MAAjB,EAAyB,SAAS,KAAK+B,0BAAL,CAAgC/B,IAAhC,CAAqC,IAArC,CAAlC;AAAA;AAAA;AAAtI;AADsG,QAAxG;;AAIA,cACE;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;AAEE;AAAA;AAAA,eAAK,WAAW,IAAhB;AACE;AAAA;AAAA;AACE;AAAA;AAAA,mBAAQ,SAAS,MAAjB,EAAyB,SAAS,KAAK8B,kBAAL,CAAwB9B,IAAxB,CAA6B,IAA7B,CAAlC;AAAA;AAAA,gBADF;AAEE;AAAA;AAAA,mBAAQ,SAAS,MAAjB,EAAyB,SAAS,KAAK+B,0BAAL,CAAgC/B,IAAhC,CAAqC,IAArC,CAAlC;AAAA;AAAA;AAFF;AADF;AAFF,UADF;AAWIsB,kBAXJ;AAaE;AAAA;AAAA;AACE;AAAA;AAAA,eAAY,QAAO,gBAAnB;AAEE;AAAA;AAAA;AACE;AAAA;AAAA,mBAAK,IAAI,CAAT;AAAA;AAAA,gBADF;AAEE;AAAA;AAAA,mBAAK,IAAI,CAAT;AAAY;AAAA;AAAA;AAAazF,4BAAb,SAA0BC;AAA1B;AAAZ;AAFF,cAFF;AAOE;AAAA;AAAA;AACE;AAAA;AAAA,mBAAK,IAAI,CAAT;AAAA;AAAA,gBADF;AAEE;AAAA;AAAA,mBAAK,IAAI,CAAT;AAAY;AAAA;AAAA;AAAU9D;AAAV;AAAZ;AAFF,cAPF;AAYE;AAAA;AAAA;AACE;AAAA;AAAA,mBAAK,IAAI,CAAT;AAAA;AAAA,gBADF;AAEE;AAAA;AAAA,mBAAK,IAAI,CAAT;AAAY;AAAA;AAAA;AAAUgJ;AAAV;AAAZ;AAFF,cAZF;AAiBE;AAAA;AAAA;AACE;AAAA;AAAA,mBAAK,IAAI,CAAT;AAAA;AAAA,gBADF;AAEE;AAAA;AAAA,mBAAK,IAAI,CAAT;AAAY;AAAA;AAAA;AAAUD;AAAV;AAAZ;AAFF;AAjBF;AADF,UAbF;AAyCE;AAAA;AAAA;AACE;AAAA;AAAA;AACA;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;AAAA,gBADF;AAEE;AAAA;AAAA;AAAA;AAAA,gBAFF;AAGE;AAHF;AADA,YADF;AAQE;AAAA;AAAA;AACE9S;AADF;AARF,UAzCF;AAuDE,uCAAC,MAAD,CAAQ,eAAR,IAAwB,MAAMsS,gBAA9B;AACwB,mBAAQ,KAAKyB,2BAAL,CAAiChC,IAAjC,CAAsC,IAAtC,CADhC;AAEwB,oBAAU,KAAK7c,KAAL,CAAWQ,GAAX,CAAesK,QAAf,CAAwBU,MAF1D;AAGwB,mBAAQ,KAAKiS,KAAL,CAAWZ,IAAX,CAAgB,IAAhB,CAHhC;AAIwB,gBAAK,CAJ7B,GAvDF;AA6DE,uCAAC,MAAD,CAAQ,uBAAR,IAAgC,MAAMQ,wBAAtC;AACgC,mBAAQ,KAAKyB,mCAAL,CAAyCjC,IAAzC,CAA8C,IAA9C,CADxC;AAEgC,mBAAQ,KAAKY,KAAL,CAAWZ,IAAX,CAAgB,IAAhB,CAFxC;AAGgC,gBAAK,CAHrC,GA7DF;AAkEE,uCAAC,MAAD,CAAQ,0BAAR,IAAmC,MAAMS,sBAAzC;AACmC,oBAASK,eAD5C;AAEmC,mBAAQ,KAAKoB,mCAAL,CAAyClC,IAAzC,CAA8C,IAA9C,CAF3C;AAGmC,mBAAQ,KAAKY,KAAL,CAAWZ,IAAX,CAAgB,IAAhB,CAH3C;AAImC,gBAAK,CAJxC;AAlEF,QADF;AA2ED;;;;GArQsB,gBAAM3c,S;;mBAwQhB,yBAAQ,iBAAa;AAAA,OAAVM,GAAU,SAAVA,GAAU;;AAClC,UAAQ;AACN8B,WAAM9B,IAAI8B,IADJ;AAEN9B,UAAKA,IAAIqB,IAFH;AAGNiS,iBAAY,wBAAKtT,GAAL,EAAU,sBAAV,EAAkC,KAAlC,IAA2C,wBAAKA,GAAL,EAAU,yBAAV,EAAqC,IAArC,CAA3C,GAAuF,IAH7F;AAINX,YAAOW,IAAI+B,EAAJ,CAAO1C;AAJR,IAAR;AAMD,EAPc,EAOZ0d,UAPY,C;;;;;;;;;;;;;;;;;;;;AC5Rf;;;;AACA;;AACA;;;;AACA;;KAAYjB,E;;AACZ;;KAAYW,C;;AACZ;;;;AACA;;;;;;;;;;gfATA;;;;;KAWa+B,W,WAAAA,W;;;;;;;;;;;0CACU;AACnB,YAAKC,UAAL,CAAgB,KAAKjf,KAArB;AACD;;;+CAEyB6b,S,EAAW;AACnC,YAAKoD,UAAL,CAAgBpD,SAAhB;AACD;;;sCAE6C;AAAA,WAAjCnb,QAAiC,QAAjCA,QAAiC;AAAA,WAAvBmK,QAAuB,QAAvBA,QAAuB;AAAA,WAAbkB,SAAa,QAAbA,SAAa;;AAC5C,WAAIlB,SAASkB,SAAT,CAAJ,EAAyB;AACvB;AACD;AACDrL,gBAASuc,EAAEhH,YAAF,CAAelK,SAAf,CAAT;AACD;;;8BAEQ;AAAA,oBACqC,KAAK/L,KAD1C;AAAA,WACC6K,QADD,UACCA,QADD;AAAA,WACWkB,SADX,UACWA,SADX;AAAA,WACsB+H,UADtB,UACsBA,UADtB;;;AAGP,WAAMpH,UAAU7B,SAASkB,SAAT,CAAhB;;AAEA,WAAI,CAACW,OAAD,IAAY,CAACX,SAAjB,EAA4B;AAC1B,gBAAQ;AAAA;AAAA,aAAK,YAAWA,SAAhB;AAAgCA,oBAAhC;AAAA;AAA4C,kEAAS,QAAQ,KAAjB;AAA5C,UAAR;AACA;AACD;;AARM,WAUCgI,KAVD,GAUkBrH,OAVlB,CAUCqH,KAVD;AAAA,WAUQK,KAVR,GAUkB1H,OAVlB,CAUQ0H,KAVR;;;AAYP,WAAK,OAAOA,KAAP,KAAiB,WAAlB,IAAmCN,eAAeM,KAAtD,EAA8D;AAC5D,gBAAQ;AAAC,aAAD,CAAI,MAAJ;AAAA,aAAW,SAAQ,MAAnB,EAA0B,cAA1B,EAAmC,YAAWrI,SAA9C,EAA4D,OAAO,EAAEmT,SAAS,KAAX,EAAnE;AAAyFnL;AAAzF,UAAR;AACD,QAFD,MAEO;AACL,gBAAQ;AAAA;AAAA,aAAM,kBAAiBhI,SAAvB;AAAuCgI;AAAvC,UAAR;AACD;AACF;;;;GAjC8B,gBAAM7T,S;;mBAoCxB,yBAAQ;AAAA,OAAGM,GAAH,SAAGA,GAAH;AAAA,UAAc;AACnCqK,eAAUrK,IAAIqB,IAAJ,CAASgJ,QADgB;AAEnCiJ,iBAAY,wBAAKtT,GAAL,EAAU,sBAAV,EAAkC,KAAlC,IAA2C,wBAAKA,GAAL,EAAU,yBAAV,EAAqC,IAArC,CAA3C,GAAuF;AAFhE,IAAd;AAAA,EAAR,EAGXwe,WAHW,C;;;;;;;;;;;;;;;;;;;;;;6DC5CN7d,O;;;;;;;;;qDACAA,O;;;;;;;;;wDACAA,O;;;;;;;;;;;;;;;;;;;;;;;;;;ACFT;;;;AAEA;;KAAYmb,E;;AACZ;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;AACA;;AACA;;;;AAEA;;KAAYW,C;;;;;;;;;;gfAfZ;;;;AAIA;;;AAaA,KAAMkC,iBAAiB,SAAjBA,cAAiB,CAAC1V,OAAD;AAAA,UAAa,CAAC,OAAD,EAAU,SAAV,EAAqB,OAArB,EAA8B,aAA9B,EAA6CnC,MAA7C,CAAoD,UAACC,IAAD,EAAO6X,IAAP,EAAgB;AACtG,SAAIjY,SAAS,EAAb;AACA,SAAMM,QAAQ,CAACgC,QAAQ2V,IAAR,KAAiB,EAAlB,EAAsBxN,OAAtB,CAA8B,gBAA9B,EAAgD,EAAhD,CAAd;;AAEA,aAAQwN,IAAR;AACE,YAAK,OAAL;AACA,YAAK,SAAL;AACA,YAAK,OAAL;AACE,aAAI,KAAKpX,IAAL,CAAUP,KAAV,CAAJ,EAAsB;AACpBN,kBAAOkY,IAAP,CAAY,UAAZ;AACD;AANL;;AASA,aAAQD,IAAR;AACE,YAAK,aAAL;AACE,aAAI3X,MAAMU,MAAN,GAAe,GAAnB,EAAwB;AACtBhB,kBAAOkY,IAAP,CAAY,oCAAZ;AACD;AAJL;;AAOA,SAAIlY,OAAOgB,MAAX,EAAmB;AACjBZ,YAAK6X,IAAL,IAAajY,MAAb;AACAI,YAAK+X,SAAL,GAAiB,IAAjB;AACD;AACD,YAAO/X,IAAP;AACD,IAzBmC,EAyBjC,EAzBiC,CAAb;AAAA,EAAvB;;KA4BagY,uB,WAAAA,uB;;;;;;;;;;;iCAECxX,G,EAAKN,K,EAAO;AACtB,YAAKzH,KAAL,CAAWU,QAAX,CAAoBuc,EAAE/F,0BAAF,CAA6BnP,GAA7B,EAAkCN,KAAlC,CAApB;AACA,eAAOM,GAAP;AACE,cAAK,OAAL;AACE,eAAIN,KAAJ,EAAW;AACT,kBAAKzH,KAAL,CAAWU,QAAX,CAAoBuc,EAAEnE,sBAAF,CAAyBrR,KAAzB,CAApB;AACD,YAFD,MAEO;AACL,kBAAKzH,KAAL,CAAWU,QAAX,CAAoBuc,EAAE7E,8BAAF,CAAiC,EAAjC,CAApB;AACD;AANL;AAQD;;;kCAEYoE,G,EAAK;AAChBA,WAAIgD,cAAJ;;AAEA,WAAM/V,uBAAe,KAAKzJ,KAAL,CAAW6B,IAAX,CAAgBsI,IAA/B,CAAN;;AAEA,WAAMsV,mBAAmBN,eAAe1V,OAAf,CAAzB;AACA,WAAIgW,iBAAiBH,SAArB,EAAgC;AAC9B,cAAKtf,KAAL,CAAWU,QAAX,CAAoBuc,EAAEhG,qBAAF,CAAwBwI,gBAAxB,CAApB;AACA;AACD;;AATe,WAWR3W,MAXQ,GAWG,KAAK9I,KAXR,CAWR8I,MAXQ;;;AAahB,WAAIA,MAAJ,EAAY;AACVA,gBAAOW,OAAP;AACD;AACF;;;8BAEQ;AACP,YAAKzJ,KAAL,CAAWU,QAAX,CAAoBuc,EAAEjG,wBAAF,CAA2B,EAA3B,CAApB;AACA,WAAI,KAAKhX,KAAL,CAAW0f,MAAf,EAAuB;AACrB,cAAK1f,KAAL,CAAW0f,MAAX;AACD;AACF;;;sCAEgBC,K,EAAO;AACtB,WAAI,CAACA,KAAL,EAAY;AACV,gBAAO7R,QAAQa,OAAR,CAAgB,EAAE1C,SAAS,EAAX,EAAhB,CAAP;AACD;AACD,cAAO,KAAKjM,KAAL,CAAWU,QAAX,CAAoBuc,EAAE5E,oBAAF,CAAuBsH,KAAvB,CAApB,CAAP;AACD;;;8BAEQ;AACP,WAAMC,WAAW,wBAAK,KAAK5f,KAAL,CAAW6B,IAAhB,EAAsB,SAAtB,EAAiC,KAAjC,CAAjB;;AAEA,WAAMge,gBAAgB,wBAAK,KAAK7f,KAAL,CAAW6B,IAAhB,EAAsB,sBAAtB,EAA8C,KAA9C,CAAtB;;AAEA,WAAMie,aAAa,wBAAK,KAAK9f,KAAL,CAAW6B,IAAhB,EAAsB,eAAtB,EAAuC,EAAvC,CAAnB;;AAEA,cACE;AAAC,WAAD,CAAI,KAAJ;AAAA,WAAU,MAAM,KAAK7B,KAAL,CAAW+f,IAA3B,EAAiC,QAAQ,KAAKL,MAAL,CAAY7C,IAAZ,CAAiB,IAAjB,CAAzC,EAAiE,KAAK,CAAtE;AACE;AAAC,aAAD,CAAI,KAAJ,CAAU,MAAV;AAAA,aAAiB,iBAAjB;AACE;AAAC,eAAD,CAAI,KAAJ,CAAU,KAAV;AAAA;AAAA;AAAA;AADF,UADF;AAIE;AAAC,aAAD,CAAI,KAAJ,CAAU,IAAV;AAAA;AACE;AAAA;AAAA;AACE;AAAA;AAAA,iBAAK,WAAU,YAAf,EAA4B,OAAO;AACnCmD,4BAASF,aAAa,OAAb,GAAuB;AADG,kBAAnC;AAGE;AACE,wBAAM,OADR;AAEE,yBAAQA,WAAW3X,MAAX,GAAoB,CAAC2X,UAAD,CAApB,GAAmC;AAF7C;AAHF,cADF;AAUE;AAAA;AAAA;AAAA;AAAA,cAVF;AAWE;AAAA;AAAA,iBAAK,WAAU,YAAf;AACE;AACE,uBAAK,OADP;AAEE,oCAAmB,KAFrB;AAGE,+BAAc,KAAKG,gBAAL,CAAsBpD,IAAtB,CAA2B,IAA3B,CAHhB;AAIE,4BAAU,OAJZ;AAKE,2BAAU,KAAKqD,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,OAA5B,CALZ;AAME,wBAAO,wBAAK,KAAK7c,KAAL,CAAW6B,IAAhB,EAAsB,YAAtB,EAAoC,EAApC,CANT;AAOE,2BAAU+d;AAPZ,iBADF;AAUE;AACE,wBAAM,QADR;AAEE,yBAAQ,wBAAK,KAAK5f,KAAL,CAAW6B,IAAhB,EAAsB,cAAtB,EAAsC,EAAtC;AAFV;AAVF,cAXF;AA2BE;AAAA;AAAA;AAAA;AAAA,cA3BF;AA4BE;AAAA;AAAA,iBAAK,WAAU,YAAf;AACE;AACE,uBAAK,SADP;AAEE,wBAAO,wBAAK,KAAK7B,KAAL,CAAW6B,IAAhB,EAAsB,cAAtB,EAAsC,EAAtC,CAFT;AAGE,2BAAUge,iBAAiBD,QAH7B;AAIE,4BAAW,KAJb;AAKE,6BAAY,KALd;AAME,0BAAS,wBAAK,KAAK5f,KAAL,CAAW6B,IAAhB,EAAsB,wBAAtB,EAAgD,EAAhD,CANX;AAOE,2BAAU,KAAKqe,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,SAA5B,CAPZ,GADF;AASE;AACE,wBAAM,UADR;AAEE,yBAAQ,wBAAK,KAAK7c,KAAL,CAAW6B,IAAhB,EAAsB,gBAAtB,EAAwC,EAAxC;AAFV;AATF,cA5BF;AA2CE,8DAAO,MAAK,MAAZ;AACO,0BAAU,4BADjB;AAEO,sBAAM,QAFb;AAGO,4BAAY,OAHnB;AAIO,qBAAK,OAJZ;AAKO,yBAAU+d,QALjB;AAMO,sBAAO,wBAAK,KAAK5f,KAAL,CAAW6B,IAAhB,EAAsB,YAAtB,EAAoC,EAApC,CANd;AAOO,uBAAQ,wBAAK,KAAK7B,KAAL,CAAW6B,IAAhB,EAAsB,cAAtB,EAAsC,EAAtC,CAPf;AAQO,yBAAU,KAAKqe,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,OAA5B,CARjB,GA3CF;AAqDE,8DAAO,MAAK,UAAZ;AACO,0BAAU,4BADjB;AAEO,sBAAM,cAFb;AAGO,4BAAY,aAHnB;AAIO,qBAAK,aAJZ;AAKO,yBAAU+C,QALjB;AAMO,sBAAO,wBAAK,KAAK5f,KAAL,CAAW6B,IAAhB,EAAsB,kBAAtB,EAA0C,EAA1C,CANd;AAOO,uBAAQ,wBAAK,KAAK7B,KAAL,CAAW6B,IAAhB,EAAsB,oBAAtB,EAA4C,EAA5C,CAPf;AAQO,yBAAU,KAAKqe,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,aAA5B,CARjB;AArDF;AADF,UAJF;AAqEE;AAAC,aAAD,CAAI,KAAJ,CAAU,MAAV;AAAA;AACE;AAAC,eAAD,CAAI,MAAJ;AAAA,eAAW,SAAS,KAAK6C,MAAL,CAAY7C,IAAZ,CAAiB,IAAjB,CAApB;AAAA;AAAA,YADF;AAEE;AAAA;AAAA,eAAc,SAAS,wBAAK,KAAK7c,KAAL,CAAW6B,IAAhB,EAAsB,SAAtB,EAAiC,KAAjC,CAAvB;AACc,qBAAK,QADnB;AAEc,wBAAQ,SAFtB;AAGc,qBAAM,8BAAC,EAAD,CAAI,SAAJ,IAAc,OAAM,MAApB,GAHpB;AAIc,yBAAU+d,QAJxB;AAKc,wBAAS,KAAKO,YAAL,CAAkBtD,IAAlB,CAAuB,IAAvB,CALvB;AAAA;AAAA;AAFF;AArEF,QADF;AAmFD;;;;GAxI0C,gBAAM3c,S;;AA2InD,KAAM4b,kBAAkB,SAAlBA,eAAkB;AAAA,OAAGtb,GAAH,QAAGA,GAAH;AAAA,UAAc;AACpC+B,SAAI/B,IAAI+B,EAAJ,CAAOwI,eADyB;AAEpClJ,WAAMrB,IAAIqB,IAAJ,CAASkJ;AAFqB,IAAd;AAAA,EAAxB;;mBAKe,yBAAQ+Q,eAAR,EAAyByD,uBAAzB,C;;;;;;;;;;;;;;;;;;;;;AC1Lf;;;;AACA;;AACA;;;;;;;;;;gfALA;;;;;KAOMa,Y;;;;;;;;;;;kCA2BU;AACZ,WAAIC,aAAJ;;AAEA,WAAI,KAAKrgB,KAAL,CAAWuJ,OAAf,EAAwB;AACtB,aAAI+W,YAAa,CAAC,KAAKtgB,KAAL,CAAWugB,OAAZ,IAAuB,KAAKvgB,KAAL,CAAWugB,OAAX,KAAuB,SAA/C,GACZ,KAAKvgB,KAAL,CAAWwgB,aADC,GAEZ,KAAKxgB,KAAL,CAAWygB,cAFf;;AAIAJ,gBAAO,kEAAa,KAAKrgB,KAAL,CAAW0gB,UAAxB,IAAoC,OAAOJ,SAA3C,EAAsD,QAAQ,KAA9D,IAAP;AACD,QAND,MAMO;AACLD,gBAAO,KAAKrgB,KAAL,CAAWqgB,IAAlB;AACD;;AAED,cACE;AAAA;AAAA,WAAK,OAAO;AACVM,uBAAU,UADA;AAEVX,sBAAS,cAFC;AAGVY,0BAAa,KAHH;AAIVC,oBAAO,MAJG;AAKVC,qBAAQ,MALE;AAMVC,kBAAK;AANK,YAAZ;AAQGV;AARH,QADF;AAYD;;;8BAES;AACR,cACE;AAAA;AAAA;AACE,oBAAS,KAAKrgB,KAAL,CAAWghB,OADtB;AAEE,qBAAU,KAAKhhB,KAAL,CAAW4f,QAAX,IAAuB,KAAK5f,KAAL,CAAWuJ,OAF9C;AAGE,oBAAS,KAAKvJ,KAAL,CAAWugB,OAHtB;AAIE,sBAAW,KAAKvgB,KAAL,CAAWihB,SAJxB;AAKE,iBAAM,KAAKjhB,KAAL,CAAWuI,IALnB;AAME,kBAAO,KAAKvI,KAAL,CAAWkhB,KANpB;AAOE,mBAAQ,KAAKlhB,KAAL,CAAWmhB,MAPrB;AAQG,cAAKC,UAAL,EARH;AAAA;AAQuB,cAAKphB,KAAL,CAAWC;AARlC,QADF;AAYD;;;;GAnEwB,gBAAMC,S;;AAA3BkgB,a,CACGhE,S,GAAY;AACjBiE,SAAM,iBAAUhE,IADC;AAEjB9S,YAAS,iBAAU8X,IAFF;AAGjBX,eAAY,iBAAUY,MAHL;AAIjBd,kBAAe,iBAAUe,MAJR;AAKjBd,mBAAgB,iBAAUc,MALT;AAMjBthB,aAAU,iBAAUoc,IANH;AAOjB2E,YAAS,iBAAUQ,IAAV,CAAeC,UAPP;AAQjBP,UAAO,iBAAUI;AARA,E;AADflB,a,CAYGsB,Y,GAAe;AACpBrB,SAAM,2DAAW,OAAM,OAAjB,GADc;AAEpB9W,YAAS,KAFW;AAGpBmX,eAAY;AACViB,YAAO,EADG;AAEVxZ,aAAQ,CAFE;AAGV0Y,YAAO,CAHG;AAIVe,aAAQ;AAJE,IAHQ;AASpBpB,kBAAe,MATK;AAUpBC,mBAAgB,MAVI;AAWpBxgB,aAAU;AAAA;AAAA;AAAA;AAAA,IAXU;AAYpBihB,UAAO;AAZa,E;mBA0DTd,Y;;;;;;;;;;;;;;;;;;;;;AC1Ef;;;;AACA;;;;;;;;gfAJA;;;;;KAMMyB,S;;;;;;;;;;;iCAaSC,E,EAAI;AACf,YAAK9hB,KAAL,CAAW+hB,QAAX,CAAoBD,GAAGE,MAAH,CAAUva,KAA9B;AACD;;;uCAEkB;AAAA;;AAEjB,WAAI,KAAKzH,KAAL,CAAWgJ,MAAX,CAAkBb,MAAtB,EAA8B;AAC5B,gBACE;AAAA;AAAA,aAAK,WAAU,8BAAf;AACG,gBAAKnI,KAAL,CAAWgJ,MAAX,CAAkBmC,GAAlB,CAAsB,UAACsD,GAAD,EAAMmK,CAAN,EAAY;AACjC,oBACE;AAAA;AAAA,iBAAG,WAAU,iCAAb;AACG,wBAAO,EAACqJ,aAAa,MAAd,EAAsBtB,UAAU,UAAhC,EAA4CuB,cAAc,MAA1D,EADV;AAEG,sBAAKtJ,CAFR;AAIE,0EAAW,OAAM,kBAAjB;AACW,wBAAO;AACL+H,6BAAU,UADL;AAELwB,yBAAM,CAFD;AAGLpB,wBAAK;AAHA;AADlB,iBAJF;AAAA;AAUM,sBAAK/gB,KAAL,CAAW6Y,KAVjB;AAAA;AAUyBpK;AAVzB,cADF;AAcD,YAfA;AADH,UADF;AAoBD,QArBD,MAqBO;AACL,gBAAO,2CAAP;AACD;AACF;;;8BAES;AACR,cACE;AAAA;AAAA;AACE,2EAAW,KAAKzO,KAAhB;AACE,oBAAU,KAAKA,KAAL,CAAWgJ,MAAX,CAAkBb,MAAnB,GAA6B,OAA7B,GAAuC,IADlD;AAEE,qBAAU,KAAK+X,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,CAFZ,IADF;AAIG,cAAKuF,eAAL;AAJH,QADF;AAQD;;;;GAtDqB,gBAAMliB,S;;AAAxB2hB,U,CACGzF,S,GAAY;AACjBvD,UAAO,iBAAU0I,MADA;AAEjB9Z,UAAO,iBAAU8Z,MAFA;AAGjBvY,WAAQ,iBAAUqZ;AAHD,E;AADfR,U,CAOGH,Y,GAAe;AACpB7I,UAAO,EADa;AAEpBpR,UAAO,IAFa;AAGpBuB,WAAQ;AAHY,E;mBAkDT6Y,S;;;;;;;;;;;;;;;;;;;AC5Df;;;;AACA;;;;;;;;gfAJA;;;;;KAOMS,a;;;;;;;;;;;;;AAYN;AACA;AACA;8BACY;AAAA;;AAAA,WACAtZ,MADA,GACW,KAAKhJ,KADhB,CACAgJ,MADA;;;AAGR,WAAIA,OAAOb,MAAX,EAAmB;AACjB,gBACE;AAAA;AAAA,aAAK,WAAU,WAAf;AACIa,kBAAOmC,GAAP,CAAW,UAACsD,GAAD,EAAMmK,CAAN,EAAY;AACvB,oBACE;AAAA;AAAA,iBAAG,WAAU,iCAAb;AACG,wBAAO,EAACqJ,aAAa,MAAd,EAAsBtB,UAAU,UAAhC,EAA4CuB,cAAc,MAA1D,EADV;AAEG,sBAAKtJ,CAFR;AAIE,0EAAW,OAAM,kBAAjB;AACW,wBAAO;AACL+H,6BAAU,UADL;AAELwB,yBAAM,CAFD;AAGLpB,wBAAK;AAHA;AADlB,iBAJF;AAAA;AAUM,sBAAK/gB,KAAL,CAAW6Y,KAVjB;AAAA;AAUyBpK;AAVzB,cADF;AAcD,YAfC;AADJ,UADF;AAoBD,QArBD,MAqBO;AACL,gBAAO,2CAAP;AACD;AACF;;;;GA1CyB,gBAAMvO,S;;AAA5BoiB,c,CAEGlG,S,GAAY;AACjBvD,UAAO,iBAAU0I,MADA;AAEjBvY,WAAQ,iBAAUqZ;AAFD,E;AAFfC,c,CAOGZ,Y,GAAe;AACpB7I,UAAO,EADa;AAEpB7P,WAAQ;AAFY,E;mBAsCTsZ,a;;;;;;;;;;;;;;;;;;;;;;ACjDf;;;;AACA;;AAEA;;KAAYhG,E;;AACZ;;;;AACA;;;;AAGA;;AACA;;;;AAEA;;;;;;;;;;gfAdA;;;;AASA;;AAOA,KAAM6C,iBAAiB,SAAjBA,cAAiB,CAAC1V,OAAD;AAAA,UAAa,CAAC,OAAD,EAAU,SAAV,EAAqB,aAArB,EAAoCnC,MAApC,CAA2C,UAACC,IAAD,EAAO6X,IAAP,EAAgB;AAC7F,SAAIjY,SAAS,EAAb;AACA,SAAMM,QAAQ,CAACgC,QAAQ2V,IAAR,KAAiB,EAAlB,EAAsBxN,OAAtB,CAA8B,gBAA9B,EAAgD,EAAhD,CAAd;;AAEA,aAAQwN,IAAR;AACE,YAAK,OAAL;AACA,YAAK,SAAL;AACE,aAAI,KAAKpX,IAAL,CAAUP,KAAV,CAAJ,EAAsB;AACpBN,kBAAOkY,IAAP,CAAY,UAAZ;AACD;AALL;;AAQA,aAAQD,IAAR;AACE,YAAK,SAAL;AACE,aAAI,CAAC,MAAMpX,IAAN,CAAWP,KAAX,CAAL,EAAwB;AACtBN,kBAAOkY,IAAP,CAAY,qBAAZ;AACD;AAJL;;AAOA,aAAQD,IAAR;AACE,YAAK,aAAL;AACE,aAAI3X,MAAMU,MAAN,GAAe,GAAnB,EAAwB;AACtBhB,kBAAOkY,IAAP,CAAY,oCAAZ;AACD;;AAJL;AAOA,SAAIlY,OAAOgB,MAAX,EAAmB;AACjBZ,YAAK6X,IAAL,IAAajY,MAAb;AACAI,YAAK+X,SAAL,GAAiB,IAAjB;AACD;AACD,YAAO/X,IAAP;AACD,IA/BmC,EA+BjC,EA/BiC,CAAb;AAAA,EAAvB;;KAiCagb,e,WAAAA,e;;;;;;;;;;;kCAOEC,K,EAAO;AAClBA,aAAMhD,cAAN;;AAEA,WAAM/V,uBAAe,KAAKzJ,KAAL,CAAW0M,OAAX,CAAmBvC,IAAlC,CAAN;;AAEA,WAAMsV,mBAAmBN,eAAe1V,OAAf,CAAzB;AACA,WAAIgW,iBAAiBH,SAArB,EAAgC;AAC9B,cAAKtf,KAAL,CAAWU,QAAX,CAAoB,kCAAmB+e,gBAAnB,CAApB;AACA;AACD;;AATiB,WAWV3W,MAXU,GAWC,KAAK9I,KAXN,CAWV8I,MAXU;;;AAalB,WAAIA,MAAJ,EAAY;AACVA,gBAAOW,OAAP;AACD;AACF;;;iCAEW1B,G,EAAK4J,G,EAAK;AAClB,YAAK3R,KAAL,CAAWU,QAAX,CAAoB,uCAAwBqH,GAAxB,EAA6B4J,GAA7B,CAApB;AACH;;;8BAEQ;;AAEP,WAAMiO,WACJ,KAAK5f,KAAL,CAAW0M,OAAX,CAAmBnD,OADrB;;AAIA,WAAMkZ,cAAc,QAApB;;AAEA,cAAQ;AAAC,WAAD,CAAI,KAAJ;AAAA,WAAU,MAAM,KAAKziB,KAAL,CAAW+f,IAA3B,EAAiC,QAAQ,KAAK/f,KAAL,CAAW0f,MAApD,EAA4D,KAAK,CAAjE;AACN;AAAC,aAAD,CAAI,KAAJ,CAAU,MAAV;AAAA,aAAiB,iBAAjB;AACE;AAAC,eAAD,CAAI,KAAJ,CAAU,KAAV;AAAA;AAAA;AAAA;AADF,UADM;AAIN;AAAC,aAAD,CAAI,KAAJ,CAAU,IAAV;AAAA;AACE;AAAA;AAAA,eAAM,WAAU,8BAAhB;AACM,yBAAU,KAAKS,YAAL,CAAkBtD,IAAlB,CAAuB,IAAvB,CADhB;AAGE,8DAAO,MAAK,MAAZ;AACO,0BAAU,sBADjB;AAEO,sBAAM,OAFb;AAGO,4BAAY,OAHnB;AAIO,qBAAK,OAJZ;AAKO,yBAAU+C,QALjB;AAMO,sBAAO,wBAAK,KAAK5f,KAAL,CAAW0M,OAAhB,EAAyB,YAAzB,EAAuC,EAAvC,CANd;AAOO,uBAAQ,wBAAK,KAAK1M,KAAL,CAAW0M,OAAhB,EAAyB,cAAzB,EAAyC,EAAzC,CAPf;AAQO,yBAAU,KAAKwT,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,OAA5B;AARjB,eAHF;AAcE,8DAAO,MAAK,MAAZ;AACO,0BAAU,wBADjB;AAEO,sBAAM,SAFb;AAGO,4BAAY,SAHnB;AAIO,qBAAK,SAJZ;AAKO,4BACC,8BAAC,EAAD,CAAI,SAAJ,IAAc,OAAM,KAApB,GANR;AAQO,2BAAW,KARlB;AASO,yBAAU+C,QATjB;AAUO,sBAAO,wBAAK,KAAK5f,KAAL,CAAW0M,OAAhB,EAAyB,cAAzB,EAAyC,EAAzC,CAVd;AAWO,uBAAQ,wBAAK,KAAK1M,KAAL,CAAW0M,OAAhB,EAAyB,gBAAzB,EAA2C,EAA3C,CAXf;AAYO,yBAAU,KAAKwT,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,SAA5B;AAZjB,eAdF;AA6BE,8DAAO,MAAK,UAAZ;AACO,0BAAU,4BADjB;AAEO,sBAAM,aAFb;AAGO,4BAAY,aAHnB;AAIO,qBAAK,aAJZ;AAKO,yBAAU+C,QALjB;AAMO,sBAAO,wBAAK,KAAK5f,KAAL,CAAW0M,OAAhB,EAAyB,kBAAzB,EAA6C,EAA7C,KAAoD,EANlE;AAOO,uBAAQ,wBAAK,KAAK1M,KAAL,CAAW0M,OAAhB,EAAyB,oBAAzB,EAA+C,EAA/C,CAPf;AAQO,yBAAU,KAAKwT,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,aAA5B;AARjB;AA7BF;AADF,UAJM;AAiDN;AAAC,aAAD,CAAI,KAAJ,CAAU,MAAV;AAAA;AACE;AAAC,eAAD,CAAI,MAAJ;AAAA,eAAW,SAAS,KAAK7c,KAAL,CAAW0f,MAA/B;AAAA;AAAA,YADF;AAEE;AAAA;AAAA,eAAc,SAAS,wBAAK,KAAK1f,KAAL,CAAW0M,OAAhB,EAAyB,SAAzB,EAAoC,KAApC,CAAvB;AACc,qBAAK,QADnB;AAEc,wBAAQ,SAFtB;AAGc,qBAAM,8BAAC,EAAD,CAAI,SAAJ,IAAc,OAAM,MAApB,GAHpB;AAIc,yBAAUkT,QAJxB;AAKc,wBAAS,KAAKO,YAAL,CAAkBtD,IAAlB,CAAuB,IAAvB;AALvB;AAOG4F;AAPH;AAFF;AAjDM,QAAR;AA8DD;;;;GAnGkC,gBAAMviB,S;;AAA9BqiB,gB,CAEJnG,S,GAAY;AACjBtT,WAAQ,iBAAU0Y,IADD;AAEjB9U,YAAS,iBAAU4U,MAAV,CAAiBG;AAFT,E;mBAoGN,2BAAUc,eAAV,C;;;;;;;;;;;;;;;;;;;;ACpJf;;;;AACA;;KAAYjG,E;;AAEZ;;AACA;;AACA;;;;;;;;;;;;gfARA;;;;;KAUaoG,0B,WAAAA,0B;;;;;;;;;;;kCAOElG,G,EAAK;AAChBA,WAAIgD,cAAJ;AADgB,WAER1W,MAFQ,GAEG,KAAK9I,KAFR,CAER8I,MAFQ;AAAA,WAGR4D,OAHQ,GAGI,KAAK1M,KAHT,CAGR0M,OAHQ;;AAAA,kBAOVA,WAAW,EAPD;;AAAA,WAKd3D,EALc,QAKdA,EALc;AAAA,WAMdgD,SANc,QAMdA,SANc;;;AAShB,WAAIjD,MAAJ,EAAY;AACVA,gBAAOC,MAAMgD,SAAb;AACD;AACF;;;8BAEQ;AAAA,WACCW,OADD,GACa,KAAK1M,KADlB,CACC0M,OADD;;AAAA,mBAOSA,WAAW,EAPpB;;AAAA,WAGQiW,QAHR,SAGC5O,KAHD;AAAA,WAIQ6O,cAJR,SAIL1O,WAJK;AAAA,WAKI2O,UALJ,SAKL5O,OALK;AAAA,WAMLlL,EANK,SAMLA,EANK;AAAA,WAOLgD,SAPK,SAOLA,SAPK;;;AASP,WAAM+W,WAAW/Z,MAAMgD,SAAvB;;AAEA,WAAMgI,QAAQ4O,YAAY,GAA1B;AACA,WAAM1O,UAAU8O,MAAMF,UAAN,IAAoB,GAApB,GAA0B,CAAEA,aAAa,CAAb,IAAkBA,aAAa,CAAhC,GAAqC,IAArC,GAA4C,GAA7C,IAAoDG,OAAOH,UAAP,EAAmBI,OAAnB,CAA2B,CAA3B,CAA9F;AACA,WAAM/O,cAAc0O,kBAAkB,GAAtC;;AAEA,cAAQ;AAAA;AAAA,WAAO,MAAM,KAAK5iB,KAAL,CAAW+f,IAAxB,EAA8B,QAAQ,KAAK/f,KAAL,CAAW0f,MAAjD,EAAyD,KAAK,CAA9D;AACN;AAAA,iCAAO,MAAP;AAAA,aAAc,iBAAd;AACE;AAAA,mCAAO,KAAP;AAAA;AAAA;AAAA;AADF,UADM;AAIN;AAAA,iCAAO,IAAP;AAAA;AAEE;AAAA;AAAA,eAAM,WAAU,iBAAhB;AACE;AAAC,iBAAD,CAAI,YAAJ,CAAiB,MAAjB;AAAA,iBAAwB,OAAM,OAA9B,EAAsC,gBAAe,UAArD,EAAgE,kBAAiB,WAAjF;AAA+F3L;AAA/F,cADF;AAEE;AAAC,iBAAD,CAAI,YAAJ,CAAiB,MAAjB;AAAA,iBAAwB,OAAM,SAA9B,EAAwC,gBAAe,UAAvD,EAAkE,kBAAiB,WAAnF;AAAiGE;AAAjG,cAFF;AAGE;AAAC,iBAAD,CAAI,YAAJ,CAAiB,MAAjB;AAAA,iBAAwB,OAAM,aAA9B,EAA4C,gBAAe,UAA3D,EAAsE,kBAAiB,WAAvF;AAAqGC;AAArG;AAHF;AAFF,UAJM;AAaN;AAAA,iCAAO,MAAP;AAAA;AACE;AAAA;AAAA,eAAQ,SAAS,KAAKlU,KAAL,CAAW0f,MAA5B;AAAA;AAAA,YADF;AAEE;AAAA;AAAA,eAAQ,SAAQ,QAAhB,EAAyB,UAAWoD,QAApC,EAA+C,SAAS,KAAKI,YAAL,CAAkBrG,IAAlB,CAAuB,IAAvB,CAAxD;AAAA;AAAA;AAFF;AAbM,QAAR;AAkBD;;;;GAtD6C,gBAAM3c,S;;AAAzCwiB,2B,CAEJtG,S,GAAY;AACjBtT,WAAQ,iBAAU0Y,IADD;AAEjB9U,YAAS,iBAAU4U;AAFF,E;mBAuDNoB,0B;;;;;;;;;;;;;;;;;;;AChEf;;;;AACA;;;;;;;;gfAJA;;;;;KAMMS,U;;;;;;;;;;;8BAYM;AACR,cACE;AAAA;AAAA,WAAK,IAAI,CAAT;AACE,8DAAW,KAAKnjB,KAAhB;AADF,QADF;AAKD;;;;GAlBsB,gBAAME,S;;AAAzBijB,W,CACG/G,S,GAAY;AACjBmE,YAAS,iBAAUgB,MADF;AAEjB6B,WAAQ,iBAAU7B,MAFD;AAGjBthB,aAAU,iBAAUoc;AAHH,E;AADf8G,W,CAOGzB,Y,GAAe;AACpBnB,YAAS,MADW;AAEpBtgB,aAAU;AAFU,E;mBAcTkjB,U;;;;;;;;;;;;;;;;;;ACxBf;;;;;;AAEO,KAAME,gCAAY,SAAZA,SAAY,CAAC9O,MAAD,EAAY;;AAEnC,OAAIyO,OAAOD,KAAP,CAAaC,OAAOzO,MAAP,CAAb,CAAJ,EAAkC;AAChC,YAAO,EAAP;AACD;AACD,OAAM+O,SAASC,KAAKC,GAAL,CAASR,OAAOzO,MAAP,IAAiB,GAA1B,CAAf;AACA,OAAI+O,SAAS,CAAb,EAAgB;AACd,mBAAYA,OAAOL,OAAP,CAAe,CAAf,CAAZ;AACD;AACD,gBAAWK,OAAOL,OAAP,CAAe,CAAf,CAAX;AACD,EAVM,C,CALP;;;AAiBO,KAAMQ,wBAAQ,SAARA,KAAQ,OAAgB;AAAA,OAAblP,MAAa,QAAbA,MAAa;;;AAEnC,OAAIyO,OAAOD,KAAP,CAAaC,OAAOzO,MAAP,CAAb,CAAJ,EAAkC;AAChC,YAAQ,2CAAR;AACD;AACD,OAAM+O,SAASC,KAAKC,GAAL,CAASR,OAAOzO,MAAP,IAAiB,GAA1B,CAAf;AACA,OAAI+O,SAAS,CAAb,EAAgB;AACd,YAAQ;AAAA;AAAA,SAAM,WAAU,aAAhB;AAAA;AAAmCA,cAAOL,OAAP,CAAe,CAAf,CAAnC;AAAA;AAAA,MAAR;AACD;AACD,UAAQ;AAAA;AAAA;AAAA;AAASK,YAAOL,OAAP,CAAe,CAAf;AAAT,IAAR;AACD,EAVM,C;;;;;;;;;;;;;;;;;;;;;;ACdP;;;;AACA;;AAEA;;KACY3G,E;;AAEZ;;;;AACA;;;;AACA;;AACA;;AAEA;;AAEA;;;;AACA;;KAAYU,M;;AACZ;;KAAYC,C;;AACZ;;;;AACA;;;;;;;;;;gfApBA;;;;AAQA;;;AAcA,KAAME,cAAc;AAClBC,qBAAkB,KADA;AAElBsG,YAAS;AAFS,EAApB;;KAKaC,O,WAAAA,O;;;AACX,sBAAqB;AAAA;;AAAA;;AAAA,uCAAN7U,IAAM;AAANA,WAAM;AAAA;;AAAA,8IACVA,IADU;;AAEnB,WAAKjG,KAAL,gBAAkBsU,WAAlB;;AAEA,SAAMyG,kBAAkB,MAAKA,eAAL,CAAqB/G,IAArB,OAAxB;AACA,SAAMgH,iBAAiB,MAAKA,cAAL,CAAoBhH,IAApB,OAAvB;;AAEA,WAAK+G,eAAL,GAAuB,+BAAQA,eAAR,EAAyB,IAAzB,CAAvB;AACA,WAAKC,cAAL,GAAsB,+BAAQA,cAAR,EAAwB,IAAxB,CAAtB;AARmB;AASpB;;;;qCAEe7jB,K,EAAO8jB,E,EAAI;AACzB,WAAMC,aAAa,CAACD,EAApB;AACA,WAAIC,UAAJ,EAAgB;AACdD,cAAK9jB,KAAL;AACAA,iBAAQ,KAAKA,KAAb;AACD;;AALwB,oBAOeA,KAPf;AAAA,WAOjBU,QAPiB,UAOjBA,QAPiB;AAAA,WAOPqS,MAPO,UAOPA,MAPO;AAAA,WAOCnI,SAPD,UAOCA,SAPD;;;AASzB,WAAI,CAACmZ,UAAD,IAAe,CAAChR,MAApB,EAA4B;AAC1B,gBAAO+Q,IAAP;AACD;;AAXwB,WAajB/X,SAbiB,GAaHgH,MAbG,CAajBhH,SAbiB;;AAczB,WAAI,CAACgY,UAAD,KAAgB,CAAChY,SAAD,IAAcnB,UAAUmB,SAAV,CAA9B,CAAJ,EAAyD;AACvD,gBAAO+X,IAAP;AACD;;AAEDpjB,gBAASuc,EAAEzD,YAAF,CAAezN,SAAf,CAAT,EAAoC3M,IAApC,CAAyC0kB,EAAzC,EAA6CA,EAA7C;AACD;;;oCAEc9jB,K,EAAO8jB,E,EAAI;AACxB,WAAMC,aAAa,CAACD,EAApB;AACA,WAAIC,UAAJ,EAAgB;AACdD,cAAK9jB,KAAL;AACAA,iBAAQ,KAAKA,KAAb;AACD;;AALuB,qBAOWA,KAPX;AAAA,WAOhBU,QAPgB,WAOhBA,QAPgB;AAAA,WAONqS,MAPM,WAONA,MAPM;AAAA,WAOElR,IAPF,WAOEA,IAPF;;;AASxB,WAAI,CAACkiB,UAAD,KAAgB,CAAChR,MAAD,IAAW,CAAClR,IAAZ,IAAoB,CAACA,KAAKiJ,QAA1C,CAAJ,EAAyD;AACvD,gBAAOgZ,IAAP;AACD;;AAXuB,WAahB/X,SAbgB,GAaFgH,MAbE,CAahBhH,SAbgB;;;AAexB,WAAI,CAACgY,UAAD,IAAeliB,KAAKiJ,QAAL,CAAcQ,GAA7B,IAAoCzJ,KAAKiJ,QAAL,CAAcQ,GAAd,CAAkBnD,MAAtD,IAAgEtG,KAAKgJ,QAAL,CAAckB,SAAd,CAApE,EAA8F;AAC5F,gBAAO+X,IAAP;AACD;;AAED,WAAI,CAACC,UAAD,KAAgB,CAAC/jB,MAAMsC,IAAP,IAAe,CAACtC,MAAMsC,IAAN,CAAWQ,IAA3B,IAAmC,CAAC9C,MAAMsC,IAAN,CAAWQ,IAAX,CAAgBnD,UAApE,CAAJ,EAAqF;AACnF,gBAAOmkB,IAAP;AACD;;AArBuB,WAwBlBhQ,UAxBkB,GAyBpB9T,MAAMsC,IAAN,CAAWQ,IAAX,CAAgBnD,UAzBI,CAwBtBoJ,EAxBsB;;;AA2BxB+E,eAAQ4P,GAAR,CAAY,CACVhd,SAASuc,EAAEjH,gBAAF,CAAmBlC,UAAnB,CAAT,CADU,EAEVpT,SAASuc,EAAEhH,YAAF,CAAelK,SAAf,CAAT,CAFU,CAAZ,EAGG3M,IAHH,CAGQ0kB,EAHR,EAGYA,EAHZ;AAID;;AAED;AACA;AACA;;;;0CAEqB;AACnB,YAAKD,cAAL,CAAoB,KAAK7jB,KAAzB;AACA,YAAK4jB,eAAL,CAAqB,KAAK5jB,KAA1B;AACD;;;+CAEyB6b,S,EAAW;AACnC,YAAKgI,cAAL,CAAoBhI,SAApB;AACA,YAAK+H,eAAL,CAAqB/H,SAArB;AACD;;;0CAEoB;AACnB,YAAK2B,QAAL,CAAc;AACZJ,2BAAkB;AADN,QAAd;AAGD;;;mDAE6B;AAC5B;AACD;;;6BAGO;AACN,YAAKI,QAAL,cACKL,WADL;AAGD;;;iCAEWpV,G,EAAKN,K,EAAO;AACtB,YAAKzH,KAAL,CAAWU,QAAX,CAAoBuc,EAAE/D,sBAAF,CAAyBnR,GAAzB,EAA8BN,KAA9B,CAApB;AACD;;;wCAEiB;AAAA;;AAAA,qBACuB,KAAKzH,KAD5B;AAAA,WACRU,QADQ,WACRA,QADQ;AAAA,WACEqS,MADF,WACEA,MADF;AAAA,WACUiR,QADV,WACUA,QADV;AAAA,WAERjY,SAFQ,GAEMgH,MAFN,CAERhH,SAFQ;;AAGhBrL,gBAASuc,EAAE9D,YAAF,CAAepN,SAAf,EAA0BiY,SAAS7Z,IAAnC,CAAT,EACG/K,IADH,CACQ;AAAA,gBAAM,IAAI0O,OAAJ,CAAY,UAACC,EAAD,EAAQ;AAC5B0J,sBAAW,YAAM;AACf,oBAAKoM,cAAL;AACA,oBAAKD,eAAL;AACA7V;AACD,YAJD,EAIG,IAJH;AAKD,UANS,CAAN;AAAA,QADR;AASD;;;8BAES;AAAA,WAEAqP,gBAFA,GAEqB,KAAKvU,KAF1B,CAEAuU,gBAFA;AAAA,WAGArK,MAHA,GAGW,KAAK/S,KAHhB,CAGA+S,MAHA;AAAA,uBAIoB,KAAK/S,KAAL,CAAWuC,EAJ/B;AAAA,WAIAgH,OAJA,aAIAA,OAJA;AAAA,WAISP,MAJT,aAISA,MAJT;AAAA,yBAKuB,KAAKhJ,KAAL,CAAW6B,IALlC;AAAA,WAKAgJ,QALA,eAKAA,QALA;AAAA,WAKUC,QALV,eAKUA,QALV;AAAA,WAMAiB,SANA,GAMcgH,MANd,CAMAhH,SANA;;;AAQR,WAAOW,UAAU7B,SAASkB,SAAT,CAAjB;;AAEA,WAAMkY,gBAAiB;AAAA;AAAA,WAAI,KAAI,GAAR;AAAA;AAAA,QAAvB;;AAEA,WAAI1a,OAAJ,EAAa;AACX,gBAAO0a,aAAP;AACD;;AAED,WAAI,CAACvX,OAAL,EAAc;AACZ,aAAI1D,OAAOb,MAAX,EAAmB;AACjB,kBAAQ;AAAA;AAAA;AACN;AAAA;AAAA;AAAA;AAAA,cADM;AAEN;AAAA;AAAA;AAAA;AAAY;AAAA;AAAA,mBAAM,IAAG,GAAT;AAAA;AAAA,gBAAZ;AAAA;AAAA;AAFM,YAAR;AAID,UALD,MAKO;AACL,kBAAO8b,aAAP;AACD;AACF;;AAED,WAAMC,aAAa,GAAGxF,MAAH,CAAU5T,SAASQ,GAAT,CAAahE,MAAb,CAAoB,UAACC,IAAD,EAAOuE,IAAP,EAAawS,GAAb,EAAqB;AAAA,aAC5DrK,OAD4D,GACfnI,IADe,CAC5DmI,OAD4D;AAAA,aACnDF,KADmD,GACfjI,IADe,CACnDiI,KADmD;AAAA,aACjCoQ,aADiC,GACfrY,IADe,CAC5CC,SAD4C;;;AAGpE,aAAIoY,iBAAiBpY,SAArB,EAAgC;AAC9BxE,gBAAK8X,IAAL,CAAU;AACR5X,oBAAO0c,aADC;AAERtL,oBAAU9E,KAAV,UAAqB,sBAAUE,OAAV;AAFb,YAAV;AAID;AACD,gBAAO1M,IAAP;AACD,QAV4B,EAU1B,EAV0B,CAAV,EAWjBuD,SAASS,KAAT,CAAejE,MAAf,CAAsB,UAACC,IAAD,EAAOuE,IAAP,EAAawS,GAAb,EAAqB;AAC3C,aAAI,EAAGxS,KAAK/C,EAAL,IAAWgD,SAAZ,IAA2BD,KAAKC,SAAL,IAAkBA,SAA/C,CAAJ,EAAgE;AAC9DxE,gBAAK8X,IAAL,CAAU;AACR5X,oBAAOqE,KAAKC,SAAL,IAAkBD,KAAK/C,EADtB;AAER8P,yBAAU/M,KAAKiI,KAAf,IAAwBjI,KAAKoI,WAAL,GAAmB,OAAOpI,KAAKoI,WAAL,CAAiBkQ,MAAjB,CAAwB,CAAxB,EAA2B,EAA3B,CAA1B,GAA0D,EAAlF;AAFQ,YAAV;AAID;AACD,gBAAO7c,IAAP;AACD,QARC,EAQC,EARD,CAXiB,CAAnB;;AA3BQ,WAgDOob,QAhDP,GAgD0DjW,OAhD1D,CAgDAqH,KAhDA;AAAA,WAgD8B6O,cAhD9B,GAgD0DlW,OAhD1D,CAgDiBwH,WAhDjB;AAAA,WAgD8CD,OAhD9C,GAgD0DvH,OAhD1D,CAgD8CuH,OAhD9C;;;AAkDR,WAAMF,QAAQ4O,YAAY,GAA1B;AACA,WAAMzO,cAAc0O,kBAAkB,GAAtC;;AAEA,WAAMyB,mBAAmB,KAAKrkB,KAAL,CAAWgkB,QAAX,CAAoBza,OAA7C;;AAEA,cACE;AAAA;AAAA,WAAK,KAAKwC,SAAV;AACE;AAAA;AAAA;AAAA;AAEE;AAAA;AAAA,eAAK,WAAW,IAAhB;AACE;AAAA;AAAA;AACE;AAAA;AAAA,mBAAQ,SAAS,MAAjB,EAAyB,SAAS,KAAK4S,kBAAL,CAAwB9B,IAAxB,CAA6B,IAA7B,CAAlC;AAAA;AAAA;AADF;AADF;AAFF,UADF;AAUE;AAAA;AAAA;AACE;AAAA;AAAA,eAAY,QAAO,eAAnB;AAEE;AAAA;AAAA;AACE;AAAA;AAAA,mBAAK,IAAI,CAAT;AAAA;AAAA,gBADF;AAEE;AAAA;AAAA,mBAAK,IAAI,CAAT;AAAY;AAAA;AAAA;AAAU9I;AAAV;AAAZ;AAFF,cAFF;AAOE;AAAA;AAAA;AACE;AAAA;AAAA,mBAAK,IAAI,CAAT;AAAA;AAAA,gBADF;AAEE;AAAA;AAAA,mBAAK,IAAI,CAAT;AAAY;AAAA;AAAA;AAAQ,iEAAO,QAAQE,OAAf;AAAR;AAAZ;AAFF,cAPF;AAYE;AAAA;AAAA;AACE;AAAA;AAAA,mBAAK,IAAI,CAAT;AAAA;AAAA,gBADF;AAEE;AAAA;AAAA,mBAAK,IAAI,CAAT;AAAY;AAAA;AAAA;AAAUC;AAAV;AAAZ;AAFF;AAZF;AADF,UAVF;AA+BE;AAAA;AAAA;AACE;AAAA;AAAA,eAAK,IAAI,EAAT;AACE;AAAA;AAAA;AAAA;AAAA;AADF;AADF,UA/BF;AAoCE;AAAA;AAAA;AACE;AAAA;AAAA,eAAK,IAAI,CAAT;AACE;AAAA;AAAA;AAAA;AAAA,cADF;AAEE;AACE,sBAAO,wBAAK,KAAKlU,KAAL,CAAWgkB,QAAhB,EAA0B,cAA1B,EAA0C,EAA1C,CADT;AAEE,0BAAW,IAFb;AAGE,wBAASE,UAHX;AAIE,yBAAUG,gBAJZ;AAKE,yBAAU,KAAKnE,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,SAA5B;AALZ;AAFF,YADF;AAWE;AAAA;AAAA,eAAK,IAAI,CAAT;AACE,8DAAO,MAAK,MAAZ;AACO,0BAAU,EADjB;AAEO,sBAAM,SAFb;AAGO,4BAAY,QAHnB;AAIO,qBAAK,QAJZ;AAKO,4BACD,8BAAC,EAAD,CAAI,SAAJ,IAAc,OAAM,KAApB,GANN;AAQO,2BAAW,KARlB;AASO,yBAAUwH,gBATjB;AAUO,sBAAO,wBAAK,KAAKrkB,KAAL,CAAWgkB,QAAhB,EAA0B,aAA1B,EAAyC,EAAzC,CAVd;AAWO,uBAAQ,wBAAK,KAAKhkB,KAAL,CAAWgkB,QAAhB,EAA0B,eAA1B,EAA2C,EAA3C,KAAkD,EAXjE;AAYO,yBAAU,KAAK9D,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,QAA5B;AAZjB;AADF,YAXF;AA2BE;AAAA;AAAA,eAAK,IAAI,CAAT;AACE,8DAAO,MAAK,UAAZ;AACO,0BAAU,EADjB;AAEO,sBAAM,cAFb;AAGO,4BAAY,aAHnB;AAIO,qBAAK,aAJZ;AAKO,yBAAUwH,gBALjB;AAMO,sBAAO,wBAAK,KAAKrkB,KAAL,CAAWgkB,QAAhB,EAA0B,kBAA1B,EAA8C,EAA9C,KAAqD,EANnE;AAOO,uBAAQ,wBAAK,KAAKhkB,KAAL,CAAWgkB,QAAhB,EAA0B,oBAA1B,EAAgD,EAAhD,KAAuD,EAPtE;AAQO,yBAAU,KAAK9D,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,aAA5B;AARjB;AADF,YA3BF;AAuCE;AAAA;AAAA,eAAK,IAAI,CAAT;AACE,sDADF;AAEE;AAAA;AAAA,iBAAQ,SAAQ,SAAhB;AACQ,2BAAUwH,gBADlB;AAEQ,0BAAS,CAACA,gBAAD,IAAqB,KAAKC,gBAAL,CAAsBzH,IAAtB,CAA2B,IAA3B,CAFtC;AAAA;AAAA;AAFF;AAvCF,UApCF;AAmFE;AAAA;AAAA;AACE;AAAA;AAAA,eAAK,IAAI,EAAT;AACE;AAAA;AAAA;AAAA;AAAA;AADF;AADF,UAnFF;AAyFE,yEAAgB,YAAY9Q,SAA5B,EAAuC,WAAY,KAAK/L,KAAL,CAAW4K,SAAX,CAAqBmB,SAArB,CAAnD,GAzFF;AA2FE,uCAAC,MAAD,CAAQ,eAAR,IAAwB,MAAMqR,gBAA9B;AACwB,mBAAQ,KAAKyB,2BAAL,CAAiChC,IAAjC,CAAsC,IAAtC,CADhC;AAEwB,oBAAS,EAAEtT,SAAS,IAAX,EAFjC;AAGwB,mBAAQ,KAAKkU,KAAL,CAAWZ,IAAX,CAAgB,IAAhB,CAHhC;AAIwB,gBAAK,CAJ7B;AA3FF,QADF;AAsGD;;;;GAhR0B,gBAAM3c,S;;mBAmRpB,yBAAQ;AAAA,OACrBM,GADqB,SACrBA,GADqB;AAAA,OAErBC,MAFqB,SAErBA,MAFqB;AAAA,UAGd;AACLD,aADK;AAEP8B,WAAM9B,IAAI8B,IAFH;AAGPT,WAAMrB,IAAIqB,IAHH;AAIP+I,gBAAWpK,IAAIqB,IAAJ,CAAS+I,SAJb;AAKPrI,SAAI/B,IAAI+B,EAAJ,CAAOmK,OALJ;AAMPsX,eAAUxjB,IAAI+B,EAAJ,CAAOsK,aANV;AAOPpM;AAPO,IAHc;AAAA,EAAR,EAWXkjB,OAXW,C;;;;;;;;;;;;;;;;;;;;AC3Sf;;;;AACA;;;;AACA;;KAAYrH,E;;AACZ;;;;AAEA;;AACA;;;;;;;;;;;;gfATA;;;;;KAWaiI,c,WAAAA,c;;;;;;;;;;;qCAEK5E,K,EAAO6E,gB,EAAkB;AACvC,cAAO7E,MACJ8E,IADI,CACC,UAACC,CAAD,EAAIC,CAAJ;AAAA,gBAAYD,EAAEE,IAAF,GAASD,EAAEC,IAAvB;AAAA,QADD,EAEJ9c,MAFI,CAEG;AAAA,aAAG+c,SAAH,QAAGA,SAAH;AAAA,aAAcC,WAAd,QAAcA,WAAd;AAAA,aAA2BxQ,aAA3B,QAA2BA,aAA3B;AAAA,gBAAgDuQ,cAAa,aAAd,IAAiCvQ,kBAAkBkQ,gBAAnD,IAAyEM,gBAAgBN,gBAAxI;AAAA,QAFH,EAGJld,MAHI,CAGG,iBAELyd,CAFK,EAEC;AAAA,aADPC,KACO,SADPA,KACO;AAAA,aADA/Q,OACA,SADAA,OACA;;AACP,aAAI8Q,EAAEF,SAAF,IAAe,SAAnB,EAA8B;AAC5B5Q,qBAAU8Q,EAAE/Q,cAAZ;AACD,UAFD,MAEO,IAAI+Q,EAAEF,SAAF,IAAe,aAAf,IAAiCE,EAAEzP,MAAF,KAAa,kCAAlD,EAAuF;AAC5F,eAAM2P,gBAAgBF,EAAEzQ,aAAF,IAAmBkQ,gBAAzC;AACAvQ,sBAAW,CAACgR,gBAAgB,CAAC,CAAjB,GAAqB,CAAtB,IAA2BF,EAAExQ,MAAxC;AACD;AACDwQ,WAAE9Q,OAAF,GAAYA,OAAZ;AACA+Q,eAAM3F,IAAN,CAAW0F,CAAX;AACA,gBAAO,EAAEC,YAAF,EAAS/Q,gBAAT,EAAP;AACD,QAfI,EAeF;AACD+Q,gBAAO,EADN;AAED/Q,kBAAS;AAFR,QAfE,EAkBF+Q,KAlBE,CAmBJP,IAnBI,CAmBC,UAACC,CAAD,EAAIC,CAAJ;AAAA,gBAAW,EAAED,EAAEE,IAAF,GAASD,EAAEC,IAAb,CAAX;AAAA,QAnBD,CAAP;AAoBD;;;8BAEQ;AAAA,oBAC2B,KAAK5kB,KADhC;AAAA,WACC4K,SADD,UACCA,SADD;AAAA,WACYsa,UADZ,UACYA,UADZ;;AAAA,mBAE2Bta,aAAa,EAFxC;;AAAA,WAECrB,OAFD,SAECA,OAFD;AAAA,WAEU1H,IAFV,SAEUA,IAFV;AAAA,WAEgBmH,MAFhB,SAEgBA,MAFhB;;;AAIP,WAAI,CAAC4B,SAAD,IAAcrB,OAAlB,EAA2B;AACzB,gBAAQ;AAAA;AAAA;AAAI,kEAAS,QAAQ,KAAjB,GAAJ;AAAA;AAAA,UAAR;AACD;;AAED,WAAInC,OAAOC,IAAP,CAAY2B,MAAZ,EAAoBb,MAAxB,EAAgC;AAC9B,gBAAQ;AAAA;AAAA,aAAK,WAAU,aAAf;AAAA;AAAA,UAAR;AACD;;AAED,WAAMqc,mBAAmBU,UAAzB;;AAEA,WAAMC,kBAAkBtjB,KAAKsG,MAAL,GACtB,KAAKid,eAAL,CAAqBvjB,IAArB,EAA2B2iB,gBAA3B,EACGrZ,GADH,CACO,iBAWC;AAAA,aAVJ0Z,SAUI,SAVJA,SAUI;AAAA,aATJtQ,MASI,SATJA,MASI;AAAA,aARJD,aAQI,SARJA,aAQI;AAAA,aAPJwQ,WAOI,SAPJA,WAOI;AAAA,aANJO,aAMI,SANJA,aAMI;AAAA,uCALJnR,WAKI;AAAA,aALJA,WAKI,qCALU,GAKV;AAAA,gCAJJ0Q,IAII;AAAA,aAJJA,IAII,8BAJG,IAIH;AAAA,kCAHJtP,MAGI;AAAA,aAHJA,MAGI,gCAHK,GAGL;AAAA,aAFJrB,OAEI,SAFJA,OAEI;AAAA,0CADJD,cACI;AAAA,aADJA,cACI,wCADa,IACb;;;AAEJ,aAAMsR,oBAAoB,IAAIC,IAAJ,CAASX,IAAT,CAA1B;AACA,aAAMY,eAAeF,kBAAkBG,kBAAlB,KAAyC,GAAzC,GAA+CH,kBAAkBI,kBAAlB,EAApE;;AAEA,aAAIb,aAAa,SAAjB,EAA4B;AAC1B,kBAAQ;AAAA;AAAA;AACN;AAAA;AAAA;AAAI,uEAAS,MAAMD,IAAf,EAAqB,OAAQY,YAA7B;AAAJ,cADM;AAEN;AAAA;AAAA,iBAAI,SAAQ,GAAZ;AAAA;AAAA,cAFM;AAGN;AAAA;AAAA;AAAI,6DAAO,QAASxR,cAAhB;AAAJ,cAHM;AAIN;AAAA;AAAA;AAAME;AAAN,cAJM;AAKN;AAAA;AAAA;AAAMoB,yBAAU;AAAhB;AALM,YAAR;AAOD;;AAED,aAAM2P,gBAAgB3Q,iBAAiBkQ,gBAAvC;AACA,aAAMmB,kBAAkBV,gBAAgB,OAAhB,GAA0B,QAAlD;AACA,aAAMW,uBAAuBX,gBAC3B,uDAAa,WAAYH,WAAzB,GAD2B,GAE3B,uDAAa,WAAYxQ,aAAzB,GAFF;;AAIA,gBAAQ;AAAA;AAAA,aAAI,KAAM+Q,aAAV;AACN;AAAA;AAAA;AAAI,qEAAS,MAAMT,IAAf,EAAqB,OAAQY,YAA7B;AAAJ,YADM;AAEN;AAAA;AAAA;AAAMG;AAAN,YAFM;AAGN;AAAA;AAAA;AAAMC;AAAN,YAHM;AAIN;AAAA;AAAA;AAAI,2DAAO,QAASrR,MAAhB;AAAJ,YAJM;AAKN;AAAA;AAAA;AAAI,2DAAO,QAASN,OAAhB;AAAJ,YALM;AAMN;AAAA;AAAA;AAAMC,4BAAe;AAArB,YANM;AAON;AAAA;AAAA;AAAMoB,uBAAU;AAAhB;AAPM,UAAR;AASD,QA1CH,CADsB,GA2Cd;AAAA;AAAA;AACN;AAAA;AAAA,aAAI,SAAS,CAAb;AAAA;AAAA;AADM,QA3CV;;AA+CA,cACE;AAAC,WAAD,CAAI,KAAJ;AAAA,WAAU,aAAV,EAAkB,cAAlB,EAA2B,eAA3B,EAAqC,WAArC;AACE;AAAA;AAAA;AACA;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;AAAA,cADF;AAEE;AAAA;AAAA;AAAA;AAAA,cAFF;AAGE;AAAA;AAAA;AAAA;AAAA,cAHF;AAIE;AAAA;AAAA;AAAA;AAAA,cAJF;AAKE;AAAA;AAAA;AAAA;AAAA,cALF;AAME;AAAA;AAAA;AAAA;AAAA,cANF;AAOE;AAAA;AAAA;AAAA;AAAA;AAPF;AADA,UADF;AAYE;AAAA;AAAA;AACE6P;AADF;AAZF,QADF;AAkBD;;;;GAxGiC,gBAAMjlB,S;;;;;;;;;;;;;;;;;;;ACX1C;;;;AAIO,KAAM2lB,4BAAU,SAAVA,OAAU,CAACC,EAAD,EAAKC,KAAL,EAAe;AACpC,OAAIC,YAAY,KAAhB;AACA,UAAO,YAAa;AAAA,uCAATlX,IAAS;AAATA,WAAS;AAAA;;AAClB,SAAIkX,SAAJ,EAAe;AACb;AACD;AACD;AACAA,iBAAY,IAAZ;AACA,SAAMlC,KAAK,SAALA,EAAK,GAAM;AACfkC,mBAAY,KAAZ;AACD,MAFD;AAGA,SAAM7e,SAAS4e,QAAQD,uCAAOhX,KAAK4P,MAAL,CAAY,CAACoF,EAAD,CAAZ,CAAP,EAAR,GAAqCgC,oBAAMhX,IAAN,CAApD;AACA,SAAI,CAACiX,KAAL,EAAY;AACVjC;AACD;AACD,YAAO3c,MAAP;AACD,IAdD;AAeD,EAjBM,C;;;;;;;;;;;;;;;;;;;;ACDP;;;;AACA;;KAEYmV,E;;AADZ;;AAEA;;AACA;;AACA;;;;;;;;;;;;gfATA;;;;;KAWa2J,M,WAAAA,M;;;;;;;;;;;mCAEGjmB,K,EAAO;;AAEnB,WAAMyK,aAAa,wBAAKzK,MAAMsC,IAAX,EAAiB,iBAAjB,CAAnB;AACA,WAAImI,UAAJ,EAAgB;;AAEd,aAAMyb,eAAe,wBAAKlmB,MAAMa,QAAX,EAAqB,YAArB,CAArB;AACAb,eAAMU,QAAN,CAAe,4BAAU,IAAV,EAAgBwlB,YAAhB,CAAf;;AAEA;AACA;AACA;AACD;AACF;;;0CACoB;AACnB,YAAKtK,aAAL,CAAmB,KAAK5b,KAAxB;AACD;;;+CAEyB6b,S,EAAW;AACnC,YAAKD,aAAL,CAAmBC,SAAnB;AAED;;;8BAES;;AAER,cACE;AAAC,WAAD,CAAI,IAAJ;AAAA;AACE;AAAA;AAAA;AAAA;AAAA,UADF;AAEE,yEAAqB,KAAK7b,KAA1B;AAFF,QADF;AAMD;;;;GAhCyB,gBAAME,S;;mBAkCnB,yBAAQ;AAAA,OAEnBY,MAFmB,QAEnBA,MAFmB;AAAA,OAGnBN,GAHmB,QAGnBA,GAHmB;AAAA,UAId;AACP;AACEM,mBAFK;AAGLwB,WAAM9B,IAAI8B;AAHL,IAJc;AAAA,EAAR,EAQX2jB,MARW,C;;;;;;;;;;;;;;;;;;;;;;AC1Cf;;;;AACA;;AACA;;;;AAEA;;KAAY3J,E;;AACZ;;;;AACA;;;;AACA;;;;AAEA;;KAAY6J,E;;;;;;;;;;gfAZZ;;;;;AAcA,KAAMhH,iBAAiB,SAAjBA,cAAiB,CAAC1V,OAAD;AAAA,UAAa,CAClC,OADkC,EAElC,UAFkC,EAGlCnC,MAHkC,CAG3B,UAACC,IAAD,EAAO6X,IAAP,EAAgB;AACvB,SAAIjY,SAAS,EAAb;AACA,SAAMM,QAAQ,CAACgC,QAAQ2V,IAAR,KAAiB,EAAlB,EAAsBxN,OAAtB,CAA8B,gBAA9B,EAAgD,EAAhD,CAAd;;AAEA,aAAQwN,IAAR;AACE,YAAK,OAAL;AACA,YAAK,UAAL;AACE,aAAI,KAAKpX,IAAL,CAAUP,KAAV,CAAJ,EAAsB;AACpBN,kBAAOkY,IAAP,CAAY,UAAZ;AACD;AALL;;AAQA,SAAIlY,OAAOgB,MAAX,EAAmB;AACjBZ,YAAK6X,IAAL,IAAajY,MAAb;AACAI,YAAK+X,SAAL,GAAiB,IAAjB;AACD;AACD,YAAO/X,IAAP;AACD,IApBmC,EAoBjC,EApBiC,CAAb;AAAA,EAAvB;;KAsBa6e,e,WAAAA,e;;;;;;;;;;;iCAEEre,G,EAAK4J,G,EAAK;AACrB,YAAK3R,KAAL,CAAWU,QAAX,CAAoBylB,GAAGE,qBAAH,CAAyBte,GAAzB,EAA8B4J,GAA9B,CAApB;AACD;;;kCAEa6Q,K,EAAO;AACnBA,aAAMhD,cAAN;;AAEA,WAAM8G,WAAW,wBAAK,KAAKtmB,KAAL,CAAWsC,IAAhB,EAAsB,aAAtB,CAAjB;;AAEA,WAAMmd,mBAAmBN,eAAemH,QAAf,CAAzB;AACA,WAAI7G,iBAAiBH,SAArB,EAAgC;AAC9B,cAAKtf,KAAL,CAAWU,QAAX,CAAoBylB,GAAGI,gBAAH,CAAoB9G,gBAApB,CAApB;AACA;AACD;;AAED,YAAKzf,KAAL,CAAWU,QAAX,CAAoBylB,GAAGK,WAAH,CAAeF,QAAf,CAApB;AACD;;;8BAES;;AAER,WAAI;AACJ,aAAM1G,WACJ,KAAK5f,KAAL,CAAWsC,IAAX,CAAgBQ,IAAhB,CAAqB2H,UAArB,IACA,KAAKzK,KAAL,CAAWsC,IAAX,CAAgBI,MAAhB,CAAuB6G,OAFzB;;AAKE;AACA,aAAMuW,aAAa,wBAAK,KAAK9f,KAAL,CAAWsC,IAAhB,EAAsB,sBAAtB,EAA8C,EAA9C,CAAnB;;AAEA,gBACA;AAAA;AAAA,aAAM,WAAU,wCAAhB;AACM,uBAAU,KAAK6d,YAAL,CAAkBtD,IAAlB,CAAuB,IAAvB,CADhB;AAGE;AAAA;AAAA,eAAK,WAAU,YAAf,EAA4B,OAAO;AAC/BmD,0BAASF,aAAa,OAAb,GAAuB;AADD,gBAAnC;AAGE;AACE,sBAAM,OADR;AAEE,uBAASA,WAAW3X,MAAX,GAAoB,CAAE2X,UAAF,CAApB,GAAqC;AAFhD;AAHF,YAHF;AAYE,qEAAO,MAAK,MAAZ;AACO,wBAAU,qBADjB;AAEO,oBAAM,OAFb;AAGO,0BAAY,OAHnB;AAIO,mBAAK,OAJZ;AAKO,uBAAUF,QALjB;AAMO,oBAAO,wBAAK,KAAK5f,KAAL,CAAWsC,IAAhB,EAAsB,mBAAtB,EAA2C,EAA3C,CANd;AAOO,qBAAQ,wBAAK,KAAKtC,KAAL,CAAWsC,IAAhB,EAAsB,qBAAtB,EAA6C,EAA7C,CAPf;AAQO,uBAAU,KAAK4d,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,OAA5B;AARjB,cASM,KAAK7c,KAAL,CAAWymB,UAAX,CAAsB5R,KAT5B,EAZF;AAuBE,qEAAO,MAAK,UAAZ;AACO,wBAAU,wBADjB;AAEO,oBAAM,UAFb;AAGO,0BAAY,UAHnB;AAIO,mBAAK,UAJZ;AAKO,uBAAU+K,QALjB;AAMO,oBAAO,wBAAK,KAAK5f,KAAL,CAAWsC,IAAhB,EAAsB,sBAAtB,EAA8C,EAA9C,CANd;AAOO,qBAAQ,wBAAK,KAAKtC,KAAL,CAAWsC,IAAhB,EAAsB,wBAAtB,EAAgD,EAAhD,CAPf;AAQO,uBAAU,KAAK4d,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,UAA5B;AARjB,cASM,KAAK7c,KAAL,CAAWymB,UAAX,CAAsBC,QAT5B,EAvBF;AAkCE;AAAA;AAAA,wBAAc,SAAS,wBAAK,KAAK1mB,KAAL,CAAWsC,IAAhB,EAAsB,gBAAtB,EAAwC,KAAxC,CAAvB;AACc,qBAAK,QADnB;AAEc,qBAAM,8BAAC,EAAD,CAAI,SAAJ,IAAc,OAAM,QAApB,GAFpB;AAGc,0BAAU,iCAHxB;AAIc,yBAAUsd,QAJxB;AAKc,wBAAS,KAAKO,YAAL,CAAkBtD,IAAlB,CAAuB,IAAvB;AALvB,gBAMM,KAAK7c,KAAL,CAAWymB,UAAX,CAAsBE,MAN5B;AAAA;AAAA;AAlCF,UADA;AA8CD,QAvDD,CAuDE,OAAOC,EAAP,EAAU;AACVhnB,iBAAQC,KAAR,CAAc,oBAAd,EAAoC+mB,EAApC;AACA,gBAAO,CAAC,SAAD,CAAP;AACD;AACF;;;;GAjFkC,gBAAM1mB,S;;AAoF3CkmB,iBAAgBhK,SAAhB,GAA4B;AAC1B/O,aAAU,iBAAUkU,MADM;AAE1BkF,eAAY,iBAAUI,KAAV,CAAgB;AAC1BhS,YAAO,iBAAUyM,MADS;AAE1BoF,eAAU,iBAAUpF,MAFM;AAG1BqF,aAAQ,iBAAUrF;AAHQ,IAAhB;AAFc,EAA5B;;AASA8E,iBAAgB1E,YAAhB,GAA+B;AAC7B+E,eAAY;AACV5R,YAAO,EADG;AAEV6R,eAAU,EAFA;AAGVC,aAAQ;AAHE;AADiB,EAA/B;;AAQA,2E;;;;;;;;;;;;;;;;;SC3HgBH,W,GAAAA,W;;AAXhB;;;;AACA;;AACA;;AACA;;AACA;;;;AAEO,KAAMH,wDAAwB,gCAAkB,uBAAErjB,IAAF,CAAOa,mBAAzB,EAA8C,KAA9C,EAAqD,OAArD,CAA9B,C,CATP;;;AAUO,KAAMijB,8CAAmB,gCAAkB,uBAAE9jB,IAAF,CAAOU,aAAzB,CAAzB;AACA,KAAMqjB,oDAAsB,gCAAkB,uBAAE/jB,IAAF,CAAOW,gBAAzB,EAA2C,MAA3C,CAA5B;AACA,KAAM4iB,8CAAmB,gCAAkB,uBAAEvjB,IAAF,CAAOY,aAAzB,EAAwC,OAAxC,CAAzB;;AAEA,UAAS4iB,WAAT,CAAqB9S,IAArB,EAA2B;AAChC,UAAO,oBAAY;;AAEjBhT,cAASomB,kBAAT;;AAEA,YAAO,oBAAUpT,IAAV,EACJtU,IADI,CACC,YAAoB;AAAA,WAAXyC,IAAW,yDAAJ,EAAI;AAAA,WAChBkH,EADgB,GACTlH,IADS,CAChBkH,EADgB;;AAExB,WAAIA,EAAJ,EAAS;AACPrI,kBAAS,8BAAeqI,EAAf,EAAmBlH,IAAnB,CAAT;AACD;AACD,cAAOA,IAAP;AACD,MAPI,EAQJzC,IARI,CAQC,UAAC0D,IAAD,EAAU;AACd,4CAAgBA,IAAhB;AACApC,gBAASqmB,oBAAoBjkB,IAApB,CAAT;AACD,MAXI,EAYJ4L,KAZI,CAYE,UAAC1F,MAAD,EAAY;AACjB;AACA;AACA;AACA,cAAOtI,SAAS6lB,iBAAiBvd,MAAjB,CAAT,CAAP;AACD,MAjBI,CAAP;AAkBD,IAtBD;AAuBD,E;;;;;;;;;;;;;;;;;;;;ACnCD;;;;AAEA;;AACA;;AACA;;;;AAEA;;KACYsT,E;;AACZ;;AAGA;;;;;;;;;;;;gfAdA;;;;AAIA;;;AASA;;;KAGa0K,M,WAAAA,M;;;;;;;;;;;mCAEGhnB,K,EAAO;AACnB,WAAIA,MAAM0b,eAAV,EAA2B;AACzB;AACA;AACA1b,eAAMU,QAAN,CAAe,4BAAU,IAAV,MAAf;AACD;AACF;;;0CAEoB;AACnB,YAAKkb,aAAL,CAAmB,KAAK5b,KAAxB;AACD;;;+CAEyB6b,S,EAAW;AACnC,YAAKD,aAAL,CAAmBC,SAAnB;AACD;;;8BAES;AACR,cACE;AAAC,WAAD,CAAI,IAAJ;AAAA;AACE;AAAC,aAAD,CAAI,UAAJ;AAAA;AAAA;AAAA,UADF;AAEE;AAFF,QADF;AAOD;;;;GA1ByB,gBAAM3b,S;;mBA4BnB,yBAAQ;AAAA,OACrBY,MADqB,QACrBA,MADqB;AAAA,OAErBN,GAFqB,QAErBA,GAFqB;AAAA,UAGhB,EAACM,cAAD;AACL4a,sBAAiB,wBAAKlb,GAAL,EAAU,sBAAV,EAAkC,KAAlC;AADZ,IAHgB;AAAA,EAAR,EAKXwmB,MALW,C;;;;;;;;;;;;;;;;;;;ACzCf;;;;AACA;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AACA;;KAAYb,E;;;;;;;;;;gfAZZ;;;;;AAcA,KAAMhH,iBAAiB,SAAjBA,cAAiB,CAAC1V,OAAD;AAAA,UAAa,CAClC,OADkC,EAElC,OAFkC,EAGlC,OAHkC,EAIlC,UAJkC,EAKlC,iBALkC,EAMlC,KANkC,EAOlC,aAPkC,EAQlC,UARkC,EASlC,UATkC,EAUlC,MAVkC,EAWlC,OAXkC,EAYlC,KAZkC,EAalCnC,MAbkC,CAa3B,UAACC,IAAD,EAAO6X,IAAP,EAAgB;AACvB,SAAIjY,SAAS,EAAb;AACA,SAAMM,QAAQ,CAACgC,QAAQ2V,IAAR,KAAiB,EAAlB,EAAsBxN,OAAtB,CAA8B,gBAA9B,EAAgD,EAAhD,CAAd;;AAEA,aAAQwN,IAAR;AACE,YAAK,OAAL;AACA,YAAK,OAAL;AACA,YAAK,OAAL;AACA,YAAK,KAAL;AACA,YAAK,UAAL;AACA,YAAK,iBAAL;AACE,aAAI,KAAKpX,IAAL,CAAUP,KAAV,CAAJ,EAAsB;AACpBN,kBAAOkY,IAAP,CAAY,UAAZ;AACD;AATL;;AAYA,aAAQD,IAAR;AACE,YAAK,iBAAL;AACE,aAAI3X,SAASgC,QAAQ,UAAR,CAAb,EAAkC;AAChCtC,kBAAOkY,IAAP,CAAY,8BAAZ;AACD;AAJL;;AAOA,SAAIlY,OAAOgB,MAAX,EAAmB;AACjBZ,YAAK6X,IAAL,IAAajY,MAAb;AACAI,YAAK+X,SAAL,GAAiB,IAAjB;AACD;AACD,YAAO/X,IAAP;AACD,IAzCmC,EAyCjC,EAzCiC,CAAb;AAAA,EAAvB;;KA4CM0f,e;;;;;;;;;;;iCAESlf,G,EAAK4J,G,EAAK;AACrB,YAAK3R,KAAL,CAAWU,QAAX,CAAoBylB,GAAGe,qBAAH,CAAyBnf,GAAzB,EAA8B4J,GAA9B,CAApB;AACD;;;kCAEa6Q,K,EAAO;AACnBA,aAAMhD,cAAN;;AAEA,WAAM8G,WAAW,wBAAK,KAAKtmB,KAAL,CAAWsC,IAAhB,EAAsB,aAAtB,CAAjB;AACA,WAAMmd,mBAAmBN,eAAemH,QAAf,CAAzB;AACA,WAAI7G,iBAAiBH,SAArB,EAAgC;AAC9B,cAAKtf,KAAL,CAAWU,QAAX,CAAoBylB,GAAGgB,gBAAH,CAAoB1H,gBAApB,CAApB;AACA;AACD;;AAED,YAAKzf,KAAL,CAAWU,QAAX,CAAoBylB,GAAGiB,WAAH,CAAe,2CAAgBd,QAAhB,CAAf,CAApB;AACD;;;8BAES;;AAER,WAAM1G,WACJ,KAAK5f,KAAL,CAAWsC,IAAX,CAAgBQ,IAAhB,CAAqB2H,UAArB,IACA,KAAKzK,KAAL,CAAWsC,IAAX,CAAgBK,MAAhB,CAAuB4G,OAFzB;;AAKA,WAAMuW,aAAa,wBAAK,KAAK9f,KAAL,CAAWsC,IAAhB,EAAsB,sBAAtB,EAA8C,EAA9C,CAAnB;;AAEA,cACE;AAAA;AAAA,WAAM,WAAU,wCAAhB;AACM,qBAAU,KAAK6d,YAAL,CAAkBtD,IAAlB,CAAuB,IAAvB,CADhB;AAGE;AAAA;AAAA,aAAK,WAAU,YAAf,EAA4B,OAAO;AACjCmD,wBAASF,aAAa,OAAb,GAAuB;AADC,cAAnC;AAGE;AACE,oBAAM,OADR;AAEE,qBAASA,WAAW3X,MAAX,GAAoB,CAAE2X,UAAF,CAApB,GAAqC;AAFhD;AAHF,UAHF;AAYE;AAAA;AAAA,aAAY,QAAO,OAAnB;AAEE,4DAAO,MAAK,MAAZ;AACO,oBAAM,YADb;AAEO,0BAAY,YAFnB;AAGO,wBAAU,qBAHjB;AAIO,uBAAUF,QAJjB;AAKO,oBAAO,wBAAK,KAAK5f,KAAL,CAAWsC,IAAhB,EAAsB,mBAAtB,EAA2C,EAA3C,CALd;AAMO,qBAAQ,wBAAK,KAAKtC,KAAL,CAAWsC,IAAhB,EAAsB,qBAAtB,EAA6C,EAA7C,CANf;AAOO,uBAAU,KAAK4d,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,OAA5B;AAPjB,aAFF;AAYE,4DAAO,MAAK,MAAZ;AACO,oBAAM,WADb;AAEO,0BAAY,WAFnB;AAGO,wBAAU,qBAHjB;AAIO,uBAAU+C,QAJjB;AAKO,oBAAO,wBAAK,KAAK5f,KAAL,CAAWsC,IAAhB,EAAsB,mBAAtB,EAA2C,EAA3C,CALd;AAMO,qBAAQ,wBAAK,KAAKtC,KAAL,CAAWsC,IAAhB,EAAsB,qBAAtB,EAA6C,EAA7C,CANf;AAOO,uBAAU,KAAK4d,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,OAA5B;AAPjB,aAZF;AAsBE,4DAAO,MAAK,MAAZ;AACO,oBAAM,OADb;AAEO,0BAAY,OAFnB;AAGO,wBAAU,qBAHjB;AAIO,uBAAU+C,QAJjB;AAKO,oBAAO,wBAAK,KAAK5f,KAAL,CAAWsC,IAAhB,EAAsB,mBAAtB,EAA2C,EAA3C,CALd;AAMO,qBAAQ,wBAAK,KAAKtC,KAAL,CAAWsC,IAAhB,EAAsB,qBAAtB,EAA6C,EAA7C,CANf;AAOO,uBAAU,KAAK4d,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,OAA5B;AAPjB,aAtBF;AAgCE,4DAAO,MAAK,UAAZ;AACO,wBAAU,wBADjB;AAEO,oBAAM,UAFb;AAGO,0BAAY,UAHnB;AAIO,mBAAK,UAJZ;AAKO,uBAAU+C,QALjB;AAMO,oBAAO,wBAAK,KAAK5f,KAAL,CAAWsC,IAAhB,EAAsB,sBAAtB,EAA8C,EAA9C,CANd;AAOO,qBAAQ,wBAAK,KAAKtC,KAAL,CAAWsC,IAAhB,EAAsB,wBAAtB,EAAgD,EAAhD,CAPf;AAQO,uBAAU,KAAK4d,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,UAA5B;AARjB,aAhCF;AA2CE,4DAAO,MAAK,UAAZ;AACO,wBAAU,wBADjB;AAEO,oBAAM,kBAFb;AAGO,0BAAY,kBAHnB;AAIO,mBAAK,kBAJZ;AAKO,uBAAU+C,QALjB;AAMO,oBAAO,wBAAK,KAAK5f,KAAL,CAAWsC,IAAhB,EAAsB,6BAAtB,EAAqD,EAArD,CANd;AAOO,qBAAQ,wBAAK,KAAKtC,KAAL,CAAWsC,IAAhB,EAAsB,+BAAtB,EAAuD,EAAvD,CAPf;AAQO,uBAAU,KAAK4d,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,iBAA5B;AARjB;AA3CF,UAZF;AAqEE;AAAA;AAAA,aAAY,QAAO,UAAnB;AACE,4DAAO,MAAK,MAAZ;AACO,oBAAM,KADb;AAEO,0BAAY,KAFnB;AAGO,wBAAU,qBAHjB;AAIO,qBAAO,OAJd;AAKO,uBAAU+C,QALjB;AAMO,oBAAO,wBAAK,KAAK5f,KAAL,CAAWsC,IAAhB,EAAsB,iBAAtB,EAAyC,EAAzC,CANd;AAOO,qBAAQ,wBAAK,KAAKtC,KAAL,CAAWsC,IAAhB,EAAsB,mBAAtB,EAA2C,EAA3C,CAPf;AAQO,uBAAU,KAAK4d,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,KAA5B;AARjB,aADF;AAYE,4DAAO,MAAK,MAAZ;AACO,oBAAM,OADb;AAEO,0BAAY,OAFnB;AAGO,wBAAU,qBAHjB;AAIO,qBAAO,OAJd;AAKO,uBAAU+C,QALjB;AAMO,oBAAO,wBAAK,KAAK5f,KAAL,CAAWsC,IAAhB,EAAsB,yBAAtB,EAAiD,EAAjD,CANd;AAOO,qBAAQ,wBAAK,KAAKtC,KAAL,CAAWsC,IAAhB,EAAsB,2BAAtB,EAAmD,EAAnD,CAPf;AAQO,uBAAU,KAAK4d,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,aAA5B;AARjB,aAZF;AAuBE,4DAAO,MAAK,MAAZ;AACO,oBAAM,WADb;AAEO,0BAAY,WAFnB;AAGO,wBAAU,qBAHjB;AAIO,qBAAO,OAJd;AAKO,uBAAU+C,QALjB;AAMO,oBAAO,wBAAK,KAAK5f,KAAL,CAAWsC,IAAhB,EAAsB,sBAAtB,EAA8C,EAA9C,CANd;AAOO,qBAAQ,wBAAK,KAAKtC,KAAL,CAAWsC,IAAhB,EAAsB,wBAAtB,EAAgD,EAAhD,CAPf;AAQO,uBAAU,KAAK4d,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,UAA5B;AARjB,aAvBF;AAkCE,4DAAO,MAAK,MAAZ;AACO,oBAAM,WADb;AAEO,0BAAY,WAFnB;AAGO,wBAAU,qBAHjB;AAIO,qBAAO,OAJd;AAKO,uBAAU+C,QALjB;AAMO,oBAAO,wBAAK,KAAK5f,KAAL,CAAWsC,IAAhB,EAAsB,sBAAtB,EAA8C,EAA9C,CANd;AAOO,qBAAQ,wBAAK,KAAKtC,KAAL,CAAWsC,IAAhB,EAAsB,wBAAtB,EAAgD,EAAhD,CAPf;AAQO,uBAAU,KAAK4d,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,UAA5B;AARjB,aAlCF;AA6CE,4DAAO,MAAK,MAAZ;AACO,oBAAM,MADb;AAEO,0BAAY,MAFnB;AAGO,wBAAU,qBAHjB;AAIO,qBAAO,OAJd;AAKO,uBAAU+C,QALjB;AAMO,oBAAO,wBAAK,KAAK5f,KAAL,CAAWsC,IAAhB,EAAsB,kBAAtB,EAA0C,EAA1C,CANd;AAOO,qBAAQ,wBAAK,KAAKtC,KAAL,CAAWsC,IAAhB,EAAsB,oBAAtB,EAA4C,EAA5C,CAPf;AAQO,uBAAU,KAAK4d,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,MAA5B;AARjB,aA7CF;AAwDE,4DAAO,MAAK,MAAZ;AACO,oBAAM,OADb;AAEO,0BAAY,OAFnB;AAGO,wBAAU,qBAHjB;AAIO,qBAAO,OAJd;AAKO,uBAAU+C,QALjB;AAMO,oBAAO,wBAAK,KAAK5f,KAAL,CAAWsC,IAAhB,EAAsB,mBAAtB,EAA2C,EAA3C,CANd;AAOO,qBAAQ,wBAAK,KAAKtC,KAAL,CAAWsC,IAAhB,EAAsB,qBAAtB,EAA6C,EAA7C,CAPf;AAQO,uBAAU,KAAK4d,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,OAA5B;AARjB,aAxDF;AAmEE,4DAAO,MAAK,MAAZ;AACO,oBAAM,KADb;AAEO,0BAAY,KAFnB;AAGO,wBAAU,qBAHjB;AAIO,qBAAO,OAJd;AAKO,uBAAU+C,QALjB;AAMO,oBAAO,wBAAK,KAAK5f,KAAL,CAAWsC,IAAhB,EAAsB,iBAAtB,EAAyC,EAAzC,CANd;AAOO,qBAAQ,wBAAK,KAAKtC,KAAL,CAAWsC,IAAhB,EAAsB,mBAAtB,EAA2C,EAA3C,CAPf;AAQO,uBAAU,KAAK4d,WAAL,CAAiBrD,IAAjB,CAAsB,IAAtB,EAA4B,KAA5B;AARjB;AAnEF,UArEF;AAuJE;AAAA;AAAA,aAAc,SAAS,wBAAK,KAAK7c,KAAL,CAAWsC,IAAhB,EAAsB,gBAAtB,EAAwC,KAAxC,CAAvB;AACc,mBAAK,QADnB;AAEc,wBAAU,iCAFxB;AAGc,mBAAM,2DAAW,OAAM,MAAjB,GAHpB;AAIc,uBAAUsd,QAJxB;AAKc,sBAAS,KAAKO,YAAL,CAAkBtD,IAAlB,CAAuB,IAAvB;AALvB;AAAA;AAAA;AAvJF,QADF;AAoKD;;;;GAhM2B,gBAAM3c,S;;mBAmMrB,yBAAQ;AAAA,OAAEM,GAAF,QAAEA,GAAF;AAAA,UAAY,EAAC8B,MAAM9B,IAAI8B,IAAX,EAAZ;AAAA,EAAR,EAAuC2kB,eAAvC,C;;;;;;;;;;;;;;;;AC7Pf;;;AAGO,KAAMI,4CAAkB,SAAlBA,eAAkB;AAAA,OAC7BzJ,GAD6B,QAC7BA,GAD6B;AAAA,OAE7B8I,QAF6B,QAE7BA,QAF6B;AAAA,OAG7BY,QAH6B,QAG7BA,QAH6B;AAAA,OAI7BC,QAJ6B,QAI7BA,QAJ6B;AAAA,OAK7BxJ,IAL6B,QAK7BA,IAL6B;AAAA,OAM7BlJ,KAN6B,QAM7BA,KAN6B;AAAA,OAO7B2S,KAP6B,QAO7BA,KAP6B;AAAA,OAQ7BC,KAR6B,QAQ7BA,KAR6B;AAAA,OAS7B5J,WAT6B,QAS7BA,WAT6B;AAAA,OAU7BhV,KAV6B,QAU7BA,KAV6B;AAAA,OAW7B6e,GAX6B,QAW7BA,GAX6B;AAAA,UAYtB;AACP,aAAQ;AACN,oBAAaF,KADP;AAEN,mBAAYC;AAFN,MADD;AAKPf,uBALO;AAMP7R,iBANO;AAOP+I,aAPO;AAQP,oBAAeC,WARR;AASP,gBAAW;AACT,kBAAWyJ,QADF;AAET,kBAAWC,QAFF;AAGTxJ,iBAHS;AAITlV,mBAJS;AAKT,kBAAW6e;AALF;AATJ,IAZsB;AAAA,EAAxB,C;;;;;;;;;;;;;;;;;SCYSN,W,GAAAA,W;;AAZhB;;AACA;;;;AACA;;AACA;;AACA;;;;AAEO,KAAMF,wDAAwB,gCAAkB,uBAAElkB,IAAF,CAAOiB,mBAAzB,EAA8C,KAA9C,EAAqD,OAArD,CAA9B,C,CATP;;;AAUO,KAAM0jB,8CAAmB,gCAAkB,uBAAE3kB,IAAF,CAAOc,aAAzB,CAAzB;AACA,KAAM8jB,oDAAsB,gCAAkB,uBAAE5kB,IAAF,CAAOe,gBAAzB,EAA2C,MAA3C,CAA5B;AACA,KAAMojB,8CAAmB,gCAAkB,uBAAEnkB,IAAF,CAAOgB,aAAzB,EAAwC,OAAxC,CAAzB;;AAGA,UAASojB,WAAT,CAAqB1T,IAArB,EAA2B;AAChC,UAAO,oBAAY;AACjBhT,cAASinB,kBAAT;;AAEA,YAAO,oBAAUjU,IAAV,EACJtU,IADI,CACC,gBAAc;AAAA,WAAXyC,IAAW,QAAXA,IAAW;;AAClBnB,gBAASknB,oBAAoB/lB,IAApB,CAAT;AADkB,WAEVgT,KAFU,GAEAnB,IAFA,CAEVmB,KAFU;;AAGlBnU,gBAAS,mCAAsB,OAAtB,EAA+BmU,KAA/B,CAAT;AACAnU,gBAAS,uBAAK,SAAL,CAAT;AACD,MANI,EAOJgO,KAPI,CAOE,iBAAgB;AAAA,WAAb1F,MAAa,SAAbA,MAAa;;AACrBtI,gBAASymB,iBAAiB;AACxBne;AADwB,QAAjB,CAAT;AAGD,MAXI,CAAP;AAaD,IAhBD;AAiBD,E","file":"app.0f8c47485a49f44c2404.js","sourcesContent":["/**\n * Created by andrew on 12/02/16.\n */\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { initialize } from \"./app\";\n/**\n * Fire-up React Router.\n */\nconst reactRoot = window.document.getElementById(\"root\");\ninitialize().then(({ provider }) => {\n  ReactDOM.render(provider, reactRoot);\n});\n\n\n/**\n * Detect whether the server-side render has been discarded due to an invalid checksum.\n */\nif (process.env.NODE_ENV !== \"production\") {\n  if (!reactRoot.firstChild || !reactRoot.firstChild.attributes ||\n    !reactRoot.firstChild.attributes[\"data-react-checksum\"]) {\n    console.error(\"Server-side React render was discarded. Make sure that your initial render does not contain any client-side code.\");\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/client.js\n **/","/**\n * Created by andrew on 12/02/16.\n */\n\nimport React from \"react\";\nimport { createStore, compose, applyMiddleware, combineReducers} from \"redux\";\nimport { Provider, connect} from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport createLogger from 'redux-logger';\nimport { Route, IndexRoute, Link, IndexLink } from \"react-router\";\nimport { RouterContext } from 'react-router';\nimport { ReduxRouter} from \"redux-router\";\nimport { createHistory, createHashHistory, createMemoryHistory } from \"history\";\nimport { pushState, routerStateReducer, reduxReactRouter as clientRouter} from \"redux-router\";\nimport { reduxReactRouter as serverRouter } from \"redux-router/server\";\n\nimport mainReducer from './reducers';\n\nimport { configure as endpointsConfig } from './actions/configure';\nimport { visitLocation } from './actions/navigate';\nimport { requireAuthentication } from './components/AuthComponent';\nimport Container from \"./components/partials/Container\";\nimport MyAccounts from \"./views/MyAccounts\";\nimport Account from \"./views/Account\";\nimport SignIn from \"./views/SignIn\";\nimport SignUp from \"./views/SignUp\";\n\nclass App extends React.Component {\n  render() {\n    return (\n      <Container>\n        {this.props.children}\n      </Container>);\n  }\n}\n\nexport function initialize({cookies, isServer, currentLocation, userAgent} = {}) {\n\n  const reducer = combineReducers({\n    app: mainReducer,\n    router: routerStateReducer\n  });\n\n  let dispatch = null;\n\n  const onEnter = (nextState) => {\n    const { location } = nextState;\n    dispatch && dispatch(visitLocation(location));\n  };\n\n  const routes = (\n    <Route path=\"/\" component={ App }>\n      <IndexRoute component={ requireAuthentication(MyAccounts) } />\n      <Route path=\"signin\" component={ SignIn } onEnter={ onEnter } />\n      <Route path=\"register\" component={ SignUp } onEnter={ onEnter } />\n      <Route path=\"account/:accountId\" component={ requireAuthentication(Account) } />\n    </Route>\n  );\n\n  // these methods will differ from server to client\n  const reduxReactRouter    = isServer ? serverRouter : clientRouter;\n  const createHistoryMethod = isServer ? createMemoryHistory : createHashHistory;\n\n  // create the redux store\n  const store = compose(\n    applyMiddleware(thunk, createLogger()),\n    reduxReactRouter({\n      routes,\n      createHistory: createHistoryMethod\n    })\n  )(createStore)(reducer);\n\n  dispatch = store.dispatch;\n\n  /**\n   * The React Router 1.0 routes for both the server and the client.\n   */\n  return store.dispatch(endpointsConfig([\n    {\n      default: {\n        //apiUrl: '/',\n        emailSignInPath: '/api/login',\n        customersPath: '/api/customers',\n        currentUserPath: '/api/user',\n        accountsPath: '/api/accounts',\n        transfersPath: '/api/transfers'\n      }\n    }\n  ], {\n    cookies,\n    isServer,\n    currentLocation,\n    storage: 'localStorage',\n    tokenFormat: {\n      \"access-token\": \"{{ access-token }}\"\n    },\n    handleLoginResponse: function(resp) {\n      debugger;\n      return resp.data;\n    },\n\n    handleAccountUpdateResponse: function(resp) {\n      debugger;\n      return resp.data;\n    },\n\n    handleTokenValidationResponse: function(resp) {\n      debugger;\n      return resp.data;\n    }\n  })).then(({ redirectPath, blank } = {}) => {\n    // hack for material-ui server-side rendering.\n    // see https://github.com/callemall/material-ui/pull/2007\n    if (userAgent) {\n      global.navigator = {userAgent};\n    }\n\n    if (blank) {\n      // if `blank` is true, this is an OAuth redirect and should not\n      // be rendered\n      return <noscript />;\n    }\n\n    console.log(`redirect path: ${redirectPath}`);\n\n    return ({\n      blank,\n      store,\n      redirectPath,\n      provider: (\n        <Provider store={store} key=\"provider\">\n          <ReduxRouter children={routes} />\n        </Provider>\n      )\n    });\n  });\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/app.js\n **/","// This file is copied to the root of the project to allow\n'use strict';\n\nexports.__esModule = true;\n\nvar _libServer = require('./lib/server');\n\nexports.reduxReactRouter = _libServer.reduxReactRouter;\nexports.match = _libServer.match;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/redux-router/server.js\n ** module id = 289\n ** module chunks = 0\n **/","'use strict';\n\nexports.__esModule = true;\nexports.match = match;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _redux = require('redux');\n\nvar _reduxReactRouter = require('./reduxReactRouter');\n\nvar _reduxReactRouter2 = _interopRequireDefault(_reduxReactRouter);\n\nvar _useDefaults = require('./useDefaults');\n\nvar _useDefaults2 = _interopRequireDefault(_useDefaults);\n\nvar _routeReplacement = require('./routeReplacement');\n\nvar _routeReplacement2 = _interopRequireDefault(_routeReplacement);\n\nvar _matchMiddleware = require('./matchMiddleware');\n\nvar _matchMiddleware2 = _interopRequireDefault(_matchMiddleware);\n\nvar _constants = require('./constants');\n\nfunction serverInvariants(next) {\n  return function (options) {\n    return function (createStore) {\n      if (!options || !(options.routes || options.getRoutes)) {\n        throw new Error('When rendering on the server, routes must be passed to the ' + 'reduxReactRouter() store enhancer; routes as a prop or as children of ' + '<ReduxRouter> is not supported. To deal with circular dependencies ' + 'between routes and the store, use the option getRoutes(store).');\n      }\n      if (!options || !options.createHistory) {\n        throw new Error('When rendering on the server, createHistory must be passed to the ' + 'reduxReactRouter() store enhancer');\n      }\n\n      return next(options)(createStore);\n    };\n  };\n}\n\nfunction matching(next) {\n  return function (options) {\n    return function (createStore) {\n      return function (reducer, initialState) {\n        var store = _redux.compose(_redux.applyMiddleware(_matchMiddleware2['default'](function (url, callback) {\n          var location = store.history.createLocation(url);\n\n          store.history.match(location, callback);\n        })), next(options))(createStore)(reducer, initialState);\n        return store;\n      };\n    };\n  };\n}\n\nfunction match(url, callback) {\n  return {\n    type: _constants.MATCH,\n    payload: {\n      url: url,\n      callback: callback\n    }\n  };\n}\n\nvar reduxReactRouter = _redux.compose(serverInvariants, _useDefaults2['default'], _routeReplacement2['default'], matching)(_reduxReactRouter2['default']);\nexports.reduxReactRouter = reduxReactRouter;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/redux-router/lib/server.js\n ** module id = 290\n ** module chunks = 0\n **/","'use strict';\n\nexports.__esModule = true;\nexports['default'] = matchMiddleware;\n\nvar _actionCreators = require('./actionCreators');\n\nvar _constants = require('./constants');\n\nfunction matchMiddleware(match) {\n  return function (_ref) {\n    var dispatch = _ref.dispatch;\n    return function (next) {\n      return function (action) {\n        if (action.type === _constants.MATCH) {\n          (function () {\n            var _action$payload = action.payload;\n            var url = _action$payload.url;\n            var callback = _action$payload.callback;\n\n            match(url, function (error, redirectLocation, routerState) {\n              if (!error && !redirectLocation && routerState) {\n                dispatch(_actionCreators.routerDidChange(routerState));\n              }\n              callback(error, redirectLocation, routerState);\n            });\n          })();\n        }\n        return next(action);\n      };\n    };\n  };\n}\n\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/redux-router/lib/matchMiddleware.js\n ** module id = 291\n ** module chunks = 0\n **/","/**\n * Created by andrew on 18/03/16.\n */\nimport { combineReducers } from 'redux';\n\nimport authStateReducer from './auth';\nimport appStateReducer from './data'\nimport uiReducer from './ui'\n\nconst mainReducer = combineReducers({\n  auth:   authStateReducer,\n  data:   appStateReducer,\n  ui: uiReducer\n});\n\nexport default mainReducer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/index.js\n **/","/**\n * Created by andrew on 25/02/16.\n */\nimport { combineReducers } from 'redux';\n\nimport { configReducer } from './configure';\nimport { authReducer } from './authenticate';\nimport { signInReducer } from './signin';\nimport { signUpReducer } from './signup';\nimport { signOutReducer } from './signout';\nimport { userReducer } from './user';\n\nconst authStateReducer = combineReducers({\n  configure: configReducer,\n  signIn: signInReducer,\n  signUp: signUpReducer,\n  signOut: signOutReducer,\n  authentication: authReducer,\n  user: userReducer\n});\n\nexport default authStateReducer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/auth/index.js\n **/","/**\n * Created by andrew on 25/02/16.\n */\nimport T from '../../constants/ACTION_TYPES';\nimport createDataReducer from '../createDataReducer';\n\nexport const configReducer = createDataReducer([\n    T.AUTH.CONFIGURE_START,\n    T.AUTH.CONFIGURE_COMPLETE,\n    T.AUTH.CONFIGURE_ERROR\n],\n  'config',\n  'config',\n  (c = {}) => ({ ...c })\n);\n//\n// const configInitialState = {\n//   loading: true,\n//   errors: null,\n//   config: null\n// };\n//\n// export const configReducer = (state = {...configInitialState}, action) => {\n//   switch(action.type) {\n//     case T.AUTH.CONFIGURE_START:\n//     {\n//       return {\n//         ...state,\n//         loading: true\n//       };\n//     }\n//\n//     case T.AUTH.CONFIGURE_COMPLETE: {\n//       const { config } = action;\n//       return {\n//         ...state,\n//         loading: false,\n//         errors: null,\n//         config\n//       };\n//     }\n//\n//     case T.AUTH.CONFIGURE_ERROR:\n//     {\n//       const { errors } = action;\n//       return {\n//         ...state,\n//         loading: false,\n//         errors\n//       };\n//     }\n//\n//     default:\n//       return state;\n//   }\n// };\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/auth/configure.js\n **/","import { TODO_DEFINE, defineActionType } from '../utils/defineActionTypes'\n\nexport default defineActionType({\n\n  LOCATION: {\n    ENTER: TODO_DEFINE\n  },\n  /*\n   * View model\n   */\n  AUTH: {\n    CONFIGURE_START: TODO_DEFINE,\n    CONFIGURE_COMPLETE: TODO_DEFINE,\n    CONFIGURE_ERROR: TODO_DEFINE,\n    AUTHENTICATE_START: TODO_DEFINE,\n    AUTHENTICATE_COMPLETE: TODO_DEFINE,\n    AUTHENTICATE_ERROR: TODO_DEFINE,\n    SIGN_IN_START: TODO_DEFINE,\n    SIGN_IN_COMPLETE: TODO_DEFINE,\n    SIGN_IN_ERROR: TODO_DEFINE,\n    SIGN_IN_FORM_UPDATE: TODO_DEFINE,\n    SIGN_UP_START: TODO_DEFINE,\n    SIGN_UP_COMPLETE: TODO_DEFINE,\n    SIGN_UP_ERROR: TODO_DEFINE,\n    SIGN_UP_FORM_UPDATE: TODO_DEFINE,\n    SIGN_OUT_START: TODO_DEFINE,\n    SIGN_OUT_COMPLETE: TODO_DEFINE\n  },\n\n  ENTITIES: {\n    REQUESTED: TODO_DEFINE,\n    RECEIVED: TODO_DEFINE,\n    RECEIVED_LIST: TODO_DEFINE\n  },\n\n  ACCOUNTS: {\n    LIST_START: TODO_DEFINE,\n    LIST_COMPLETE: TODO_DEFINE,\n    LIST_ERROR: TODO_DEFINE,\n    LIST_REF_START: TODO_DEFINE,\n    LIST_REF_COMPLETE: TODO_DEFINE,\n    LIST_REF_ERROR: TODO_DEFINE,\n    CREATE_START: TODO_DEFINE,\n    CREATE_COMPLETE: TODO_DEFINE,\n    CREATE_ERROR: TODO_DEFINE,\n    CREATE_FORM_UPDATE: TODO_DEFINE,\n    EDIT_START: TODO_DEFINE,\n    EDIT_COMPLETE: TODO_DEFINE,\n    EDIT_ERROR: TODO_DEFINE,\n    EDIT_FORM_UPDATE: TODO_DEFINE,\n    CREATE_REF_START: TODO_DEFINE,\n    CREATE_REF_COMPLETE: TODO_DEFINE,\n    CREATE_REF_ERROR: TODO_DEFINE,\n    CREATE_REF_FORM_UPDATE: TODO_DEFINE,\n    CREATE_REF_OWNER_LOOKUP_START: TODO_DEFINE,\n    CREATE_REF_OWNER_LOOKUP_COMPLETE: TODO_DEFINE,\n    CREATE_REF_ACCOUNT_LOOKUP_START: TODO_DEFINE,\n    CREATE_REF_ACCOUNT_LOOKUP_COMPLETE: TODO_DEFINE\n  },\n\n  ACCOUNT: {\n    SINGLE_START: TODO_DEFINE,\n    SINGLE_COMPLETE: TODO_DEFINE,\n    SINGLE_ERROR: TODO_DEFINE,\n    DELETE_START: TODO_DEFINE,\n    DELETE_COMPLETE: TODO_DEFINE,\n    DELETE_ERROR: TODO_DEFINE\n  },\n  \n  TRANSFERS: {\n    MAKE_START: TODO_DEFINE,\n    MAKE_COMPLETE: TODO_DEFINE,\n    MAKE_ERROR: TODO_DEFINE,\n    MAKE_FORM_UPDATE: TODO_DEFINE,\n    LIST_START: TODO_DEFINE,\n    LIST_COMPLETE: TODO_DEFINE,\n    LIST_ERROR: TODO_DEFINE\n  },\n\n  ERROR: {\n    START:TODO_DEFINE,\n    STOP:TODO_DEFINE\n  }\n\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/constants/ACTION_TYPES.js\n **/","import invariant from 'invariant'\n\nexport const TODO_DEFINE = Symbol('Define property');\n\nexport const defineActionType = (obj) => {\n  const result = Object.keys(obj).reduce((memo, namespace) => {\n    const value = obj[namespace];\n    let types = [];\n    const namespaceTypes = {};\n\n    if (typeof value == 'string') {\n      types = value.trim().split(/\\s+/);\n    } else {\n      types = Object.keys(value)\n        .filter((key) => value[key] === TODO_DEFINE);\n    }\n\n    invariant(\n      /^[A-Z][A-Z0-9_]*$/.test(namespace),\n      \"Namespace names must start with a capital letter, and be composed entirely of capital letters, numbers, and the underscore character.\"\n    );\n\n    invariant(\n      (new Set(types)).size == types.length,\n      \"There must be no repeated action types passed to defineActionTypes\"\n    );\n\n    types.forEach(t => {\n      invariant(\n        /^[A-Z][A-Z0-9_]*$/.test(t),\n        \"Types must start with a capital letter, and be composed entirely of capital letters, numbers, and the underscore character.\"\n      );\n      namespaceTypes[t] = `@@app/${namespace}/${t}`;\n    });\n\n    memo[namespace] = namespaceTypes;\n\n    return memo;\n  }, {});\n\n  return result;\n\n};\n\nexport default function defineActionTypes(obj) {\n  const result = {}\n\n  for (let [namespace, value] of Object.entries(obj)) {\n    let types = value.trim().split(/\\s+/)\n    const namespaceTypes = {}\n\n    invariant(\n      /^[A-Z][A-Z0-9_]*$/.test(namespace),\n      \"Namespace names must start with a capital letter, and be composed entirely of capital letters, numbers, and the underscore character.\"\n    )\n    invariant(\n      (new Set(types)).size == types.length,\n      \"There must be no repeated action types passed to defineActionTypes\"\n    )\n\n    for (let type of types) {\n      invariant(\n        /^[A-Z][A-Z0-9_]*$/.test(type),\n        \"Types must start with a capital letter, and be composed entirely of capital letters, numbers, and the underscore character.\"\n      )\n\n      namespaceTypes[type] = `@@app/${namespace}/${type}`\n    }\n\n    result[namespace] = namespaceTypes\n  }\n\n  return result\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/defineActionTypes.js\n **/","/**\n * Created by andrew on 3/22/16.\n */\n\nexport const createByIdDataReducer = ([KEY_REQUEST, KEY_SUCCESS, KEY_ERROR], next) => (state = {}, action) => {\n  switch (action.type) {\n    case KEY_REQUEST:\n    case KEY_SUCCESS:\n    case KEY_ERROR: {\n      if (!action.id) {\n        debugger;\n      }\n      if (state.errors) {\n        debugger;\n      }\n      return {\n        ...state,\n        [action.id]: next(state, action)\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nconst createDataReducer = ([KEY_REQUEST, KEY_SUCCESS, KEY_ERROR], payloadActionNameProp = 'payload', payloadStateNameProp = 'data', payloadAssignFn = (k = []) => [...k]) => {\n\n  const initialState = {\n    loading: false,\n    errors: {},\n    [payloadStateNameProp]: payloadAssignFn()\n  };\n\n  return function formReducer(state = {...initialState}, action) {\n    switch(action.type) {\n      case KEY_REQUEST: {\n        return {\n          ...state,\n          loading: true\n        }\n      }\n      case KEY_SUCCESS: {\n        const payload = action[payloadActionNameProp];\n        return {\n          ...initialState,\n          [payloadStateNameProp]: payloadAssignFn(payload)\n        };\n      }\n      case KEY_ERROR:\n      {\n        const {error} = action;\n        return {\n          ...state,\n          loading: false,\n          errors: Object.isSealed(error) ? {aggregate: error} : {...error}\n        }\n      }\n\n      default:\n        return state;\n    }\n  };\n};\n\nexport default createDataReducer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/createDataReducer.js\n **/","/**\n * Created by andrew on 25/02/16.\n */\nimport T from '../../constants/ACTION_TYPES';\n\nconst initialState = {\n  loading: false,\n  valid: false,\n  errors: null\n};\n\nexport const authReducer = (state = {...initialState}, action) => {\n  switch(action.type) {\n    case T.AUTH.AUTHENTICATE_START:\n      return {\n        ...state,\n        loading: true\n      };\n\n    case T.AUTH.AUTHENTICATE_COMPLETE:\n      return {\n        ...state,\n        loading: false,\n        errors: null,\n        valid: true\n      };\n\n    case T.AUTH.AUTHENTICATE_ERROR:\n      return {\n        ...state,\n        loading: false,\n        errors: \"Invalid token\",\n        valid: false\n      };\n\n    default: return state;\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/auth/authenticate.js\n **/","/**\n * Created by andrew on 25/02/16.\n */\nimport T from '../../constants/ACTION_TYPES';\nimport createFormReducer from '../createFormReducer';\n\nconst internalSignInReducer = createFormReducer([\n  T.AUTH.SIGN_IN_START,\n  T.AUTH.SIGN_IN_COMPLETE,\n  T.AUTH.SIGN_IN_ERROR,\n  T.AUTH.SIGN_IN_FORM_UPDATE\n]);\n\nexport const signInReducer = (state, action) => {\n  switch (action.type) {\n    case T.LOCATION.ENTER: {\n      const { location } = action;\n      const { pathname } = location;\n      if (pathname == '/signin') {\n        return internalSignInReducer(state, {\n          type: T.AUTH.SIGN_IN_ERROR,\n          error: null\n        });\n      }\n      return state;\n    }\n\n    default: {\n      return internalSignInReducer(state, action);\n    }\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/auth/signin.js\n **/","/**\n * Created by andrew on 3/22/16.\n */\n\nconst createFormReducer = ([KEY_REQUEST, KEY_SUCCESS, KEY_ERROR, KEY_UPDATE]) => {\n\n  const initialState = {\n    loading: false,\n    form: {},\n    errors: {}\n  };\n\n  return function formReducer(state = {...initialState}, action) {\n    switch(action.type) {\n      case KEY_REQUEST: {\n        return {\n          ...state,\n          loading: true\n        }\n      }\n      case KEY_ERROR: {\n        const { error } = action;\n        return {\n          ...state,\n          loading: false,\n          errors: error\n        }\n      }\n      case KEY_SUCCESS: {\n        return {\n          ...initialState\n        }\n      }\n      case KEY_UPDATE: {\n        const { key, value } = action;\n        return {\n          ...state,\n          form: {\n            ...state.form,\n            [key]: value\n          },\n          errors: {\n            ...state.errors,\n            aggregate: null,\n            [key]: null\n          }\n        }\n      }\n\n      default:\n        return state;\n    }\n  };\n};\n\nexport default createFormReducer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/createFormReducer.js\n **/","/**\n * Created by andrew on 25/02/16.\n */\nimport T from '../../constants/ACTION_TYPES';\nimport createFormReducer from '../createFormReducer';\n\nexport const internalSignUpReducer = createFormReducer([\n  T.AUTH.SIGN_UP_START,\n  T.AUTH.SIGN_UP_COMPLETE,\n  T.AUTH.SIGN_UP_ERROR,\n  T.AUTH.SIGN_UP_FORM_UPDATE\n]);\n\n\nexport const signUpReducer = (state, action) => {\n  switch (action.type) {\n    case T.LOCATION.ENTER: {\n      const { location } = action;\n      const { pathname } = location;\n      if (pathname == '/register') {\n        return internalSignUpReducer(state, {\n          type: T.AUTH.SIGN_UP_ERROR,\n          error: null\n        });\n      }\n      return state;\n    }\n\n    default: {\n      return internalSignUpReducer(state, action);\n    }\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/auth/signup.js\n **/","/**\n * Created by andrew on 25/02/16.\n */\nimport T from '../../constants/ACTION_TYPES';\n\nconst signOutInitialState = {\n  loading: false,\n  errors: null\n};\n\nexport const signOutReducer = (state = {...signOutInitialState}, action) => {\n  switch(action.type) {\n    case T.AUTH.SIGN_OUT_START:\n      return {\n        ...state,\n        loading: true\n      };\n    case T.AUTH.SIGN_OUT_COMPLETE:\n      return {\n        ...state,\n        loading: false,\n        errors: null\n      };\n    default: return state;\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/auth/signout.js\n **/","/**\n * Created by andrew on 25/02/16.\n */\nimport T from '../../constants/ACTION_TYPES';\n\nconst initalState = {\n  attributes: null,\n  isSignedIn: false\n};\n\nexport const userReducer = (state = {...initalState}, action) => {\n  switch(action.type) {\n    case T.AUTH.AUTHENTICATE_COMPLETE:\n    case T.AUTH.SIGN_IN_COMPLETE: {\n      const { user } = action;\n      return {...state,\n        attributes: user,\n        isSignedIn: !!user\n      };\n    }\n    case T.AUTH.SIGN_OUT_COMPLETE:\n    case T.AUTH.AUTHENTICATE_ERROR:\n      return {\n        ...initalState\n      };\n    default: return state;\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/auth/user.js\n **/","/**\n * Created by andrew on 15/03/16.\n */\nimport { combineReducers } from 'redux';\n\nimport { accounts } from './accounts';\nimport { transfers } from './transfers';\nimport { entities } from './entities';\nimport { bookmarkAccount } from './bookmarkAccount';\n\nconst dataReducer = combineReducers({\n  transfers,\n  entities,\n  accounts,\n  bookmarkAccount\n});\n\nexport default dataReducer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/data/index.js\n **/","/**\n * Created by andrew on 15/03/16.\n */\n/**\n * Created by andrew on 15/03/16.\n */\nimport T from '../../constants/ACTION_TYPES';\nimport { combineReducers } from 'redux';\nimport createFormReducer from '../createFormReducer';\n\nconst ownAccountsReducer = (state = [], action ) => {\n  switch (action.type) {\n    case T.ACCOUNTS.LIST_COMPLETE: {\n      const { payload = [] } = action;\n      //const accounts = Object.keys(payload).map(key => payload[key]);\n      return [\n        ...payload\n      ];\n    }\n    default: return state;\n  }\n};\n\nconst otherAccountsReducer = (state = [], action ) => {\n  switch (action.type) {\n    case T.AUTH.AUTHENTICATE_COMPLETE:\n    case T.AUTH.SIGN_IN_COMPLETE: {\n      const { user } = action;\n      const { toAccounts = [] } = user;\n      return otherAccountsReducer(state, {\n        type: T.ACCOUNTS.LIST_REF_COMPLETE,\n        payload: toAccounts\n      });\n    }\n\n    case T.ACCOUNTS.LIST_REF_COMPLETE: {\n      const { payload = {} } = action;\n      const accounts = Object.keys(payload).map(key => payload[key]);\n      return [\n        ...accounts\n      ];\n    }\n\n    default: return state;\n  }\n};\n\n\nconst createAccountReducer = createFormReducer([\n  T.ACCOUNTS.CREATE_START,\n  T.ACCOUNTS.CREATE_COMPLETE,\n  T.ACCOUNTS.CREATE_ERROR,\n  T.ACCOUNTS.CREATE_FORM_UPDATE\n]);\n\nconst editAccountReducer = createFormReducer([\n  T.ACCOUNTS.EDIT_START,\n  T.ACCOUNTS.EDIT_COMPLETE,\n  T.ACCOUNTS.EDIT_ERROR,\n  T.ACCOUNTS.EDIT_FORM_UPDATE\n]);\n\nexport const accounts = combineReducers({\n  own: ownAccountsReducer,\n  other: otherAccountsReducer,\n  create: createAccountReducer,\n  edit: editAccountReducer\n});\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/data/accounts.js\n **/","/**\n * Created by andrew on 15/03/16.\n */\n/**\n * Created by andrew on 15/03/16.\n */\nimport T from '../../constants/ACTION_TYPES';\nimport  createListReducer from '../createDataReducer';\nimport {createByIdDataReducer } from '../createDataReducer';\n\nconst selectedEvents = [\n  T.TRANSFERS.LIST_START,\n  T.TRANSFERS.LIST_COMPLETE,\n  T.TRANSFERS.LIST_ERROR\n];\n\nexport const transfers = createByIdDataReducer(selectedEvents, createListReducer(selectedEvents));\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/data/transfers.js\n **/","/**\n * Created by andrew on 15/03/16.\n */\nimport T from '../../constants/ACTION_TYPES';\n\nconst initialState = {\n};\n\nconst nodeInitialState = {\n  loading: false,\n  data: {}\n};\n\nexport const entities = (state = {...initialState}, action) => {\n  if (typeof action.length !== 'undefined') {\n    debugger;\n  }\n  switch(action.type) {\n    case T.ENTITIES.REQUESTED: {\n      const { id } = action;\n      return {\n        ...state,\n        [id]: null\n      }\n    }\n    case T.ENTITIES.RECEIVED: {\n      const { id, entity = {} } = action;\n      return {\n        ...state,\n        [id]: {\n          ...entity\n        }\n      }\n    }\n\n    case T.AUTH.AUTHENTICATE_COMPLETE:\n    case T.AUTH.SIGN_IN_COMPLETE:\n    {\n      const { user } = action;\n      const { toAccounts = [] } = user;\n      return {\n        ...state,\n        ...toAccounts\n      };\n\n    }\n    case T.ACCOUNTS.LIST_COMPLETE: {\n      const { payload } = action;\n      const hashMap = payload.reduce((memo, item) => {\n        memo[item.accountId] = item;\n        return memo;\n      }, {});\n      return {\n        ...state,\n        ...hashMap\n      };\n    }\n\n    case T.ACCOUNT.SINGLE_COMPLETE: {\n      const { payload = {} } = action;\n      const { accountId } = payload;\n      if (!accountId) {\n        return state;\n      }\n      return {\n        ...state,\n        [accountId]: payload\n      };\n    }\n    case T.ENTITIES.RECEIVED_LIST:\n    default:\n      return state;\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/data/entities.js\n **/","/**\n * Created by andrew on 18/03/16.\n */\nimport T from '../../constants/ACTION_TYPES';\n\nconst optionsLoaderInitialState = {\n  loading: false,\n  options: [],\n  value: ''\n};\n\nconst initialState = {\n  loading: false,\n  form: {},\n  errors: {},\n  accountsDisabled: true,\n\n  ownersLookup: {\n    ...optionsLoaderInitialState\n  },\n  accountsLookup: {\n    ...optionsLoaderInitialState\n  }\n};\n\nconst optionsLoaderReducer = (state = {...optionsLoaderInitialState}, action) => {\n  switch (action.type) {\n    case T.ACCOUNTS.CREATE_REF_OWNER_LOOKUP_START:\n    case T.ACCOUNTS.CREATE_REF_ACCOUNT_LOOKUP_START: {\n      const value = action.payload;\n      return {\n        ...state,\n        loading: true,\n        value\n      };\n    }\n\n    case T.ACCOUNTS.CREATE_REF_OWNER_LOOKUP_COMPLETE:\n    case T.ACCOUNTS.CREATE_REF_ACCOUNT_LOOKUP_COMPLETE: {\n      const { payload } = action;\n      return {\n        ...state,\n        loading: false,\n        options: payload === null ? state.options : payload\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport const bookmarkAccount = (state = {...initialState}, action) => {\n  switch (action.type) {\n    case T.ACCOUNTS.CREATE_REF_START: {\n      return {\n        ...state,\n        loading: true\n      };\n    }\n    case T.ACCOUNTS.CREATE_REF_COMPLETE:{\n      return {\n        ...initialState\n      };\n    }\n    case T.ACCOUNTS.CREATE_REF_ERROR: {\n      const { error } = action;\n      return {\n        ...state,\n        loading: false,\n        errors: error\n      };\n    }\n    case T.ACCOUNTS.CREATE_REF_FORM_UPDATE:{\n      const { key, value } = action;\n      const isOwnerSetBlank = ((key == 'owner') && !value);\n      const isOwnerSelected = ((key == 'owner') && value);\n      const nextAccountsDisabled = isOwnerSelected ? false : state.accountsDisabled;\n\n      const nextForm = isOwnerSetBlank ? {\n        ...state.form,\n        account: null,\n        [key]: value\n      } : {\n        ...state.form,\n        [key]: value\n      };\n\n      const nextErrors = {\n        ...state.errors,\n        [key]: null\n      };\n      return {\n        ...state,\n        accountsDisabled: nextAccountsDisabled,\n        form: nextForm,\n        errors: nextErrors\n      };\n    }\n    case T.ACCOUNTS.CREATE_REF_OWNER_LOOKUP_START:\n    case T.ACCOUNTS.CREATE_REF_OWNER_LOOKUP_COMPLETE: {\n      return {\n        ...state,\n        ownersLookup:\n          optionsLoaderReducer(state.ownersLookup, action)\n      };\n    }\n    case T.ACCOUNTS.CREATE_REF_ACCOUNT_LOOKUP_START:\n    case T.ACCOUNTS.CREATE_REF_ACCOUNT_LOOKUP_COMPLETE: {\n      return {\n        ...state,\n        accountsLookup:\n          optionsLoaderReducer(state.accountsLookup, action)\n      };\n    }\n    default:\n      return state;\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/data/bookmarkAccount.js\n **/","/**\n * Created by andrew on 15/03/16.\n */\n/**\n * Created by andrew on 25/02/16.\n */\nimport { combineReducers } from 'redux';\n\nimport { account } from './account';\nimport { error } from './errors';\nimport { bookmarkAccount } from './bookmarkAccount';\nimport { transfersMake } from './transfersMake';\n\n\nconst uiReducer = combineReducers({\n  account,\n  error,\n  bookmarkAccount,\n  transfersMake\n});\n\nexport default uiReducer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/ui/index.js\n **/","/**\n * Created by andrew on 15/03/16.\n */\n/**\n * Created by andrew on 15/03/16.\n */\nimport T from '../../constants/ACTION_TYPES';\nimport { combineReducers } from 'redux';\n\n\nconst initialState = {\n  loading: false,\n  errors: []\n};\n\nexport const account = (state = { ...initialState }, action ) => {\n  switch(action.type) {\n    case T.ACCOUNT.SINGLE_START: {\n      return {\n        ...state,\n        loading: true\n      };\n    }\n    case T.ACCOUNT.SINGLE_COMPLETE: {\n      return {\n        ...initialState\n      };\n    }\n    case T.ACCOUNT.SINGLE_ERROR: {\n      const { error } = action;\n      return {\n        ...state,\n        loading: false,\n        errors: [ error ]\n      };\n\n    }\n\n    default:\n      return state;\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/ui/account.js\n **/","/**\n * Created by andrew on 18/03/16.\n */\n\nimport T from '../../constants/ACTION_TYPES';\n\nexport const error = (state = null, action ) => {\n  switch (action.type) {\n    case T.ERROR.STOP: {\n      return null;\n    }\n    case T.ERROR.START:\n      return action.payload;\n    \n    default:\n      return state;\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/ui/errors.js\n **/","/**\n * Created by andrew on 18/03/16.\n */\nexport const bookmarkAccount = (state = {}, action) => {\n  switch (action.type) {\n    default:\n      return state;\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/ui/bookmarkAccount.js\n **/","/**\n * Created by andrew on 15/03/16.\n */\n/**\n * Created by andrew on 15/03/16.\n */\nimport T from '../../constants/ACTION_TYPES';\nimport createFormReducer from '../createFormReducer';\n\nexport const transfersMake = createFormReducer([\n  T.TRANSFERS.MAKE_START,\n  T.TRANSFERS.MAKE_COMPLETE,\n  T.TRANSFERS.MAKE_ERROR,\n  T.TRANSFERS.MAKE_FORM_UPDATE\n]);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/ui/transfersMake.js\n **/","/**\n * Created by andrew on 26/02/16.\n */\nimport {\n  authenticate,\n} from \"./authenticate\";\n\nimport {applyConfig} from \"../utils/clientSettings\";\n\nexport const SET_ENDPOINT_KEYS = \"SET_ENDPOINT_KEYS\";\nexport const STORE_CURRENT_ENDPOINT_KEY = \"STORE_CURRENT_ENDPOINT_KEY\";\n\nexport function setEndpointKeys(endpoints, currentEndpointKey, defaultEndpointKey) {\n  return { type: SET_ENDPOINT_KEYS, endpoints, currentEndpointKey, defaultEndpointKey };\n}\n\nexport function storeCurrentEndpointKey(currentEndpointKey) {\n  return { type: STORE_CURRENT_ENDPOINT_KEY, currentEndpointKey };\n}\n\nexport function configure(endpoint={}, settings={}) {\n\n  return dispatch => {\n\n\n    return applyConfig({ dispatch, endpoint, settings })\n      .then(() => {\n        return dispatch(authenticate());\n      });\n\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/actions/configure.js\n **/","/**\n * Created by andrew on 26/02/16.\n */\nimport T from '../constants/ACTION_TYPES';\nimport { makeActionCreator } from '../utils/actions';\nimport * as U from '../utils/sessionStorage';\n\nimport { apiGetCurrentUser } from '../utils/api';\nimport { entityReceived } from './entities';\n\nexport const authenticateStart = makeActionCreator(T.AUTH.AUTHENTICATE_START);\nexport const authenticateComplete = makeActionCreator(T.AUTH.AUTHENTICATE_COMPLETE, 'user');\nexport const authenticateError = makeActionCreator(T.AUTH.AUTHENTICATE_ERROR, 'errors');\n\nexport function authenticate(forceReread) {\n  return (dispatch) => {\n\n    dispatch(authenticateStart());\n\n    const savedUserPromise = new Promise((rs, rj) => {\n\n      const currentHeaders = U.retrieveHeaders();\n      const accessToken = currentHeaders[\"access-token\"];\n\n      if (!accessToken) {\n        return rj({ reason: 'no token'});\n      }\n\n      const savedUser = U.retrieveUserData();\n\n      if (savedUser && !forceReread) {\n        return rs(savedUser);\n      }\n\n      return apiGetCurrentUser().then((userData) => {\n        U.persistUserData(userData);\n        dispatch(entityReceived(userData.id, userData));\n        rs(userData);\n      }, (err) => {\n        rj(err);\n      });\n\n    });\n\n\n    return savedUserPromise\n      .then(user => {\n\n        dispatch(authenticateComplete(user));\n\n        return user;\n      })\n      .catch(({reason} = {}) => {\n\n        dispatch(authenticateError([reason]));\n\n        return Promise.resolve({reason});\n      });\n\n\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/actions/authenticate.js\n **/","/**\n * Created by andrew on 15/03/16.\n */\nexport function makeActionCreator(type, ...argNames) {\n  return function(...args) {\n    return argNames.reduce((action, arg, index) => {\n      action[arg] = args[index];\n      return action;\n    }, { type });\n  };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/actions.js\n **/","/**\n * Created by andrew on 26/02/16.\n */\nimport Cookies from 'js-cookie';\nimport * as C from \"./constants\";\nimport root from './root';\n\n// stateful variables that persist throughout session\nconst authState = {\n  currentSettings:    {},\n  currentEndpoint:    {},\n  defaultEndpointKey: 'default'\n};\n\nconst memoryStorage = {};\n\nfunction clean(obj) {\n  Object.keys(obj).forEach(k => {\n    delete obj[k];\n  });\n  return obj;\n}\n\nexport function setCurrentSettings (s) {\n  authState.currentSettings = s;\n}\n\nexport function getCurrentSettings () {\n  return authState.currentSettings;\n}\n\nexport function setCurrentEndpoint (e) {\n  authState.currentEndpoint = e;\n}\n\nexport function getCurrentEndpoint () {\n  return authState.currentEndpoint;\n}\n\n/**\n * @deprecated\n * @param k\n */\nexport function setCurrentEndpointKey (k) {\n  persistData(C.SAVED_CONFIG_KEY, k || getDefaultEndpointKey());\n}\n\nexport function getCurrentEndpointKey () {\n  return getDefaultEndpointKey();\n}\n\n/**\n * @deprecated\n * @param k\n */\nexport function setDefaultEndpointKey (k) {\n  persistData(C.DEFAULT_CONFIG_KEY, k);\n}\n\nexport function getDefaultEndpointKey () {\n  return retrieveData(C.DEFAULT_CONFIG_KEY);\n}\n\n// reset stateful variables\nexport function resetConfig () {\n  clean(authState);\n  authState.currentSettings    = {};\n  authState.currentEndpoint    = {};\n  destroySession();\n}\n\n\nexport function destroySession () {\n\n  ([\n    C.SAVED_CREDS_KEY,\n    C.SAVED_CONFIG_KEY,\n    C.SAVED_USER_INFO\n  ]).forEach(key => {\n    // kill all local storage keys\n    if (root.localStorage) {\n      root.localStorage.removeItem(key);\n    }\n\n    // remove from base path in case config is not specified\n    Cookies.remove(key, {\n      path: authState.currentSettings.cookiePath || \"/\"\n    });\n  });\n\n  clean(memoryStorage);\n}\n\nfunction unescapeQuotes (val) {\n  return val && val.replace(/(\"|')/g, \"\");\n}\n\nexport function getInitialEndpointKey () {\n  return unescapeQuotes(\n    Cookies.get(C.SAVED_CONFIG_KEY) ||\n    (root.localStorage && root.localStorage.getItem(C.SAVED_CONFIG_KEY))\n  );\n}\n\nexport function isApiRequest(url) {\n  return true;\n}\n\nexport function getSessionEndpointKey () {\n  return getCurrentEndpointKey();\n}\n\nexport function getSessionEndpoint (k) {\n  return getCurrentEndpoint()[getSessionEndpointKey()];\n}\n\n\n//// only should work for current session\n//export function getSignOutUrl (endpointKey) {\n//  return `${getApiUrl(endpointKey)}${getSessionEndpoint(endpointKey).signOutPath}`\n//}\n\nexport function getEmailSignInUrl () {\n  return `${getSessionEndpoint().emailSignInPath}`\n}\n\nexport function getEmailSignUpUrl () {\n  return getCustomersUrl();\n}\n\nexport function getCurrentUserUrl () {\n  return `${getSessionEndpoint().currentUserPath}`\n}\n\nexport function getAccountsUrl () {\n  return `${getSessionEndpoint().accountsPath}`\n}\n\nexport function getCustomersUrl () {\n  return `${getSessionEndpoint().customersPath}`\n}\n\nexport function getTransfersUrl () {\n  return `${getSessionEndpoint().transfersPath}`\n}\n\n/**\n * @deprecated\n * @param key\n * @returns {string|string}\n */\nexport function getApiUrl(key) {\n  let configKey = getSessionEndpointKey(key);\n  return rauthState.currentEndpoint[configKey].apiUrl;\n}\n\nexport function getTokenFormat() {\n  return authState.currentSettings.tokenFormat;\n}\n\nexport const persistUserData = (user) => {\n  memoryStorage[C.SAVED_USER_INFO] = user;\n};\n\nexport const retrieveUserData = () =>{\n  return memoryStorage[C.SAVED_USER_INFO];\n}\n\nexport function retrieveHeaders() {\n  return retrieveData(C.SAVED_CREDS_KEY) || {};\n}\n\nexport function persistData (key, val) {\n  val = root.JSON.stringify(val);\n\n  switch (authState.currentSettings.storage) {\n    case \"localStorage\":\n      root.localStorage.setItem(key, val);\n      break;\n\n    default:\n      Cookies.set(key, val, {\n        expires: authState.currentSettings.cookieExpiry,\n        path:    authState.currentSettings.cookiePath\n      });\n      break;\n  }\n}\n\nexport function retrieveData (key) {\n  let val = null;\n\n  switch (authState.currentSettings.storage) {\n\n    case \"localStorage\":\n      val = root.localStorage && root.localStorage.getItem(key);\n      break;\n\n    default:\n      val = Cookies.get(key);\n      break;\n  }\n\n  // if value is a simple string, the parser will fail. in that case, simply\n  // unescape the quotes and return the string.\n  try {\n    // return parsed json response\n    return JSON.parse(val);\n  } catch (err) {\n    // unescape quotes\n    return unescapeQuotes(val);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/sessionStorage.js\n **/","/**\n * Created by andrew on 26/02/16.\n */\nexport const INITIAL_CONFIG_KEY = \"default\";\nexport const DEFAULT_CONFIG_KEY = \"defaultConfigKey\";\nexport const SAVED_CONFIG_KEY   = \"currentConfigName\";\nexport const SAVED_CREDS_KEY    = \"authHeaders\";\nexport const SAVED_USER_INFO    = \"user-info\";\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/constants.js\n **/","/**\n * Created by andrew on 27/02/16.\n */\n// even though this code shouldn't be used server-side, node will throw\n// errors if \"window\" is used\nexport default Function(\"return this\")() || (42, eval)(\"this\");\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/root.js\n **/","/**\n * Created by andrew on 12/03/16.\n */\nimport authedFetch from './fetch';\nimport {\n  getEmailSignInUrl,\n  getEmailSignUpUrl,\n  getCurrentUserUrl,\n  getAccountsUrl,\n  getCustomersUrl,\n  getTransfersUrl\n} from \"./sessionStorage\";\nimport root from './root';\nimport { parseResponse } from \"./handleFetchResponse\";\n\nconst fetch = (...args) => authedFetch(...args).then(parseResponse);\n\nfunction makeQuery(params) {\n  return Object.keys(params).map(key => [encodeURIComponent(key), encodeURIComponent(params[key])].join('=')).join('&');\n}\n\nconst JSON_HEADERS = {\n  headers: {\n    \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\"\n  }\n};\n\nconst METHODS = {\n  DELETE: {\n    ...JSON_HEADERS,\n    method: \"delete\"\n  },\n  GET: {\n    ...JSON_HEADERS,\n    method: \"get\"\n  },\n  POST: {\n    ...JSON_HEADERS,\n    method: \"post\"\n  }\n};\n\nexport const apiSignIn = (body) => fetch(getEmailSignInUrl(), {\n  ...METHODS.POST,\n  body: root.JSON.stringify(body)\n});\n\nexport const apiSignUp = (body) => fetch(getEmailSignUpUrl(), {\n  ...METHODS.POST,\n  body: root.JSON.stringify(body)\n});\n\nexport const apiGetCurrentUser = () => fetch(getCurrentUserUrl(), { ...METHODS.GET });\n\nexport const apiCreateAccount = (customerId, {\n  title,\n  balance: initialBalance,\n  description }) => fetch(getAccountsUrl(), {\n  ...METHODS.POST,\n  body: root.JSON.stringify({\n    customerId,\n    title,\n    initialBalance,\n    description })\n});\n\nexport const apiCreateRefAccount = (customerId, {\n  owner, account: accountId, title, description }) => fetch(`${getCustomersUrl()}/${customerId}/toaccounts`, {\n  ...METHODS.POST,\n  body: root.JSON.stringify({\n    owner,\n    id: accountId,\n    title,\n    description })\n});\n\nexport const apiMakeTransfer = (fromAccountId, {\n  account, amount, description }) => fetch(getTransfersUrl(), {\n  ...METHODS.POST,\n  body: root.JSON.stringify({\n    \"amount\": amount,\n    \"fromAccountId\": fromAccountId,\n    \"toAccountId\": account,\n    description\n  })\n});\n\nexport const apiRetrieveAccounts = (customerId) => fetch(`${getCustomersUrl()}/${customerId}/accounts`, {\n  ...METHODS.GET\n});\n\nexport const apiRetrieveTransfers = (accountId) => fetch(`${getAccountsUrl()}/${accountId}/history`, {\n  ...METHODS.GET\n});\n\nexport const apiRetrieveAccount = (accountId) => fetch(`${getAccountsUrl()}/${accountId}`, {\n  ...METHODS.GET\n});\n\nexport const apiDeleteAccount = (customerId, accountId) => fetch(`${getCustomersUrl()}/${customerId}/accounts/${accountId}`, {\n  ...METHODS.DELETE\n});\n\nexport const apiRetrieveUsers = (email) => fetch(`${getCustomersUrl()}?${makeQuery({ email })}`, {\n  ...METHODS.GET\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/api.js\n **/","/**\n * Created by andrew on 26/02/16.\n */\nimport originalFetch from \"isomorphic-fetch\";\nimport * as C from \"./constants\";\n\nimport {\n  retrieveData,\n  persistData,\n  getTokenFormat,\n  isApiRequest\n} from \"./sessionStorage\";\n\n\nfunction getAuthHeaders(url) {\n  if (isApiRequest(url)) {\n    // fetch current auth headers from storage\n    let currentHeaders = retrieveData(C.SAVED_CREDS_KEY) || {},\n      nextHeaders = {};\n\n    if (currentHeaders === 'undefined') {\n      currentHeaders = {};\n    }\n    // bust IE cache\n    nextHeaders[\"If-Modified-Since\"] = \"Mon, 26 Jul 1997 05:00:00 GMT\";\n\n    // set header for each key in `tokenFormat` config\n    for (var key in getTokenFormat()) {\n      if (key in currentHeaders) {\n        nextHeaders[key] = currentHeaders[key];\n      }\n    }\n\n    return nextHeaders;\n  } else {\n    return {};\n  }\n}\n\nfunction updateAuthCredentials(resp) {\n\n  // check config apiUrl matches the current response url\n  if (isApiRequest(resp.url)) {\n    // set header for each key in `tokenFormat` config\n    var newHeaders = {};\n\n    // set flag to ensure that we don't accidentally nuke the headers\n    // if the response tokens aren't sent back from the API\n    var blankHeaders = true;\n\n    // set header key + val for each key in `tokenFormat` config\n    for (var key in getTokenFormat()) {\n      newHeaders[key] = resp.headers.get(key);\n\n      if (newHeaders[key]) {\n        blankHeaders = false;\n      }\n    }\n\n    // persist headers for next request\n    if (!blankHeaders) {\n      persistData(C.SAVED_CREDS_KEY, newHeaders);\n    }\n  }\n\n  return resp;\n}\n\nexport default function (url, options = {}) {\n\n  if (!options.headers) {\n    options.headers = {}\n  }\n\n  options.headers = {\n    ...options.headers,\n    ...getAuthHeaders(url)\n  };\n\n  //extend(options.headers, getAuthHeaders(url));\n  return originalFetch(url, options)\n    .then(resp => updateAuthCredentials(resp));\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/fetch.js\n **/","/**\n * Created by andrew on 26/02/16.\n */\nexport function parseResponse (response) {\n  let json = response.json();\n  if (response.status >= 200 && response.status < 300) {\n    return json;\n  } else {\n\n    //error: \"Bad Request\"\n    //exception: \"org.springframework.web.bind.MethodArgumentNotValidException\"\n    //message: \"Validation failed for argument at index 0 in method: public rx.Observable<net.chrisrichardson.eventstore.javaexamples.banking.common.customers.CustomerResponse> net.chrisrichardson.eventstore.javaexamples.banking.web.commandside.customers.CustomerController.createCustomer(net.chrisrichardson.eventstore.javaexamples.banking.common.customers.CustomerInfo), with 3 error(s): [Field error in object 'customerInfo' on field 'ssn': rejected value [null]; codes [NotNull.customerInfo.ssn,NotNull.ssn,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [customerInfo.ssn,ssn]; arguments []; default message [ssn]]; default message [may not be null]] [Field error in object 'customerInfo' on field 'email': rejected value [null]; codes [NotNull.customerInfo.email,NotNull.email,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [customerInfo.email,email]; arguments []; default message [email]]; default message [may not be null]] [Field error in object 'customerInfo' on field 'phoneNumber': rejected value [null]; codes [NotNull.customerInfo.phoneNumber,NotNull.phoneNumber,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [customerInfo.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber]]; default message [may not be null]] \"\n    //path: \"/customers\"\n    //status: 400\n    //timestamp: 1458002123103\n\n    return json.then(({ message, ...rest }) => {\n      if (!message) {\n        return rest;\n      }\n      const jvmPattern = /\\[Field error in object '\\w+' on field '(\\w+)'/gm;\n      let errors = {};\n      message.replace(jvmPattern, (m, name) => {\n        errors[name] = ['Required'];\n      });\n\n      if (Object.keys(errors).length) {\n        return { errors };\n      }\n      return { errors: message };\n    }).then(err => Promise.reject(err));\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/handleFetchResponse.js\n **/","/**\n * Created by andrew on 27/02/16.\n */\nimport T from '../constants/ACTION_TYPES';\nimport { makeActionCreator } from '../utils/actions';\nimport * as api from '../utils/api';\nimport { authenticate } from './authenticate';\nimport root from '../utils/root';\n\nexport const entityRequested = makeActionCreator(T.ENTITIES.REQUESTED, 'id');\nexport const entityReceived = makeActionCreator(T.ENTITIES.RECEIVED, 'id', 'entity');\n\nexport const accountsListRequested = makeActionCreator(T.ACCOUNTS.LIST_START);\nexport const accountsListReceived = makeActionCreator(T.ACCOUNTS.LIST_COMPLETE, 'payload');\nexport const accountsListError = makeActionCreator(T.ACCOUNTS.LIST_ERROR, 'error');\n\nexport const accountsRefListReceived = makeActionCreator(T.ACCOUNTS.LIST_REF_COMPLETE, 'payload');\n\nexport const accountCreateStart = makeActionCreator(T.ACCOUNTS.CREATE_START);\nexport const accountCreateComplete = makeActionCreator(T.ACCOUNTS.CREATE_COMPLETE, 'payload');\nexport const accountCreateError = makeActionCreator(T.ACCOUNTS.CREATE_ERROR, 'error');\nexport const accountCreateFormUpdate = makeActionCreator(T.ACCOUNTS.CREATE_FORM_UPDATE, 'key', 'value');\n\nexport const accountRefCreateStart = makeActionCreator(T.ACCOUNTS.CREATE_REF_START);\nexport const accountRefCreateComplete = makeActionCreator(T.ACCOUNTS.CREATE_REF_COMPLETE, 'payload');\nexport const accountRefCreateError = makeActionCreator(T.ACCOUNTS.CREATE_REF_ERROR, 'error');\nexport const accountRefCreateFormUpdate = makeActionCreator(T.ACCOUNTS.CREATE_REF_FORM_UPDATE,  'key', 'value');\n\nexport const accountRequested = makeActionCreator(T.ACCOUNT.SINGLE_START);\nexport const accountComplete = makeActionCreator(T.ACCOUNT.SINGLE_COMPLETE, 'payload');\nexport const accountError = makeActionCreator(T.ACCOUNT.SINGLE_ERROR, 'error');\n\n\nexport function accountsList(customerId) {\n  return dispatch => {\n    dispatch(accountsListRequested());\n    return api.apiRetrieveAccounts(customerId)\n      .then(({ accounts = []}) => {\n        dispatch(accountsListReceived(accounts));\n      })\n      .catch(err => {\n        dispatch(accountsListError(err));\n        return Promise.resolve({ error: err });\n      })\n  };\n}\n\nfunction readUntilChanged(initialData, customerId) {\n  const initialDataFlat = root['JSON'].stringify(initialData);\n  debugger;\n  return new Promise((rs, rj) => {\n    setTimeout(() => {\n      api.apiRetrieveAccounts(customerId)\n        .then(data => {\n          debugger;\n          if (initialDataFlat == root['JSON'].stringify(data)) {\n            return readUntilChanged.call(this, data, customerId).then(rs, rj); // Promise\n          }\n          rs(data);\n        })\n        .catch(rj)\n    }, 500);\n  })\n}\n\nexport function accountCreate(customerId, payload) {\n  return dispatch => {\n    dispatch(accountCreateStart());\n    return api.apiCreateAccount(customerId, payload)\n      .then(data => {\n        if (data.accountId) {\n          const { accountId } = data;\n          dispatch(accountCreateComplete({\n            id: accountId,\n            ...payload\n          }));\n          // dispatch(entityReceived(accountId, payload));\n          dispatch(authenticate(true));\n          return accountId;\n        } else {\n          return readUntilChanged(data, customerId)\n            .then(() => {\n              dispatch(accountCreateComplete({\n                id: ''\n              }));\n              dispatch(authenticate(true));\n            });\n        }\n      })\n      .catch(err => {\n        debugger;\n        dispatch(accountCreateError(err));\n        // return Promise.resolve({ error: err });\n      });\n  };\n}\n\nexport function accountRefCreate(customerId, payload) {\n  return dispatch => {\n    dispatch(accountRefCreateStart());\n    return api.apiCreateRefAccount(customerId, payload)\n      .then(({ id }) => {\n        dispatch(accountRefCreateComplete({\n          ...payload,\n          id\n        }));\n        dispatch(entityReceived(id, payload));\n        return dispatch(authenticate(true));\n      })\n      .catch(err => {\n        debugger;\n        dispatch(accountRefCreateError(err));\n        return Promise.resolve({ error: err });\n      })\n  };\n}\n\n\n\n\nexport function fetchOwnAccounts(customerId) {\n  return dispatch => {\n    //dispatch(accountsListRequested());\n    return api.apiRetrieveAccounts(customerId)\n      .then(data => {\n        dispatch(accountsListReceived(data.accounts));\n      });\n  };\n}\n\nexport function fetchAccount(accountId) {\n  return dispatch => {\n    dispatch(accountRequested());\n    return api.apiRetrieveAccount(accountId)\n      .then(data => {\n        dispatch(accountComplete(data));\n      })\n      .catch(err => {\n        dispatch(accountError(err));\n      });\n  };\n}\n\nexport const deleteAccountRequested = makeActionCreator(T.ACCOUNT.DELETE_START);\nexport const deleteAccountComplete = makeActionCreator(T.ACCOUNT.DELETE_COMPLETE);\nexport const deleteAccountError = makeActionCreator(T.ACCOUNT.DELETE_ERROR);\n\nexport function deleteAccount(customerId, accountId) {\n  return dispatch => {\n    dispatch(deleteAccountRequested());\n    return api.apiDeleteAccount(customerId, accountId)\n      .then(data => {\n        dispatch(deleteAccountComplete(data));\n        return Promise.resolve(data);\n      })\n      .catch(err => {\n        dispatch(deleteAccountError());\n        return Promise.reject(err);\n      })\n  };\n}\n\nexport const errorMessageStart = makeActionCreator(T.ERROR.START, 'payload');\nexport const errorMessageStop = makeActionCreator(T.ERROR.STOP);\n\nexport function errorMessageTimedOut(error, timeout) {\n  return dispatch => {\n    dispatch(errorMessageStart(error));\n    setTimeout(() => {\n      dispatch(errorMessageStop());\n    }, timeout || 5000);\n  };\n}\n\nexport const createRefOwnerLookupStart = makeActionCreator(T.ACCOUNTS.CREATE_REF_OWNER_LOOKUP_START, 'payload');\nexport const createRefOwnerLookupComplete = makeActionCreator(T.ACCOUNTS.CREATE_REF_OWNER_LOOKUP_COMPLETE, 'payload');\n\nexport const createRefAccountLookupStart = makeActionCreator(T.ACCOUNTS.CREATE_REF_ACCOUNT_LOOKUP_START, 'payload');\nexport const createRefAccountLookupComplete = makeActionCreator(T.ACCOUNTS.CREATE_REF_ACCOUNT_LOOKUP_COMPLETE, 'payload');\n\nexport const createRefOwnerLookup = lookup => {\n  return dispatch => {\n    dispatch(createRefOwnerLookupStart(lookup));\n    return api.apiRetrieveUsers(lookup)\n      .then(data => {\n\n        const { customers = [] } = data || {};\n\n        const arr = customers.map(c => {\n          const { id, name, email } = c;\n          const fullName = ([name.firstName, name.lastName]).filter(i => i).join(' ');\n          const label = email ? `${ fullName } (${ email })` : fullName;\n          return {\n            value: id,\n            label\n          };\n        });\n        dispatch(createRefOwnerLookupComplete(arr));\n        return { options: arr };\n      })\n      .catch(err => {\n        dispatch(createRefOwnerLookupComplete([]));\n        return { options: [] };\n      });\n  };\n};\n\nexport const createRefAccountLookup = customerId => {\n  return dispatch => {\n    dispatch(createRefAccountLookupStart(customerId));\n    return api.apiRetrieveAccounts(customerId)\n      .then(({ accounts }) => {\n        const arr = accounts.map(({ accountId, title }) => ({\n          value: accountId,\n          label: title\n        }));\n        dispatch(createRefAccountLookupComplete(arr));\n        return { options: arr };\n      })\n      .catch(err => {\n        dispatch(createRefAccountLookupComplete([]));\n        return { options: [] };\n      });\n  };\n};\n\n\nexport const makeTransferRequested = makeActionCreator(T.TRANSFERS.MAKE_START);\nexport const makeTransferComplete = makeActionCreator(T.TRANSFERS.MAKE_COMPLETE, 'payload');\nexport const makeTransferError = makeActionCreator(T.TRANSFERS.MAKE_ERROR, 'error');\nexport const makeTransferFormUpdate = makeActionCreator(T.TRANSFERS.MAKE_FORM_UPDATE, 'key', 'value');\n\nexport const makeTransfer = (accountId, payload) => {\n  return dispatch => {\n    dispatch(makeTransferRequested());\n    return api.apiMakeTransfer(accountId, payload)\n      .then(data => {\n        const { moneyTransferId } = data;\n        dispatch(makeTransferComplete(data));\n        return moneyTransferId;\n      })\n      .catch(err => {\n        dispatch(makeTransferError(err));\n        return err;\n      });\n  };\n};\n\nexport const getTransfersRequested = makeActionCreator(T.TRANSFERS.LIST_START, 'id');\nexport const getTransfersComplete = makeActionCreator(T.TRANSFERS.LIST_COMPLETE, 'id', 'payload');\nexport const getTransfersError = makeActionCreator(T.TRANSFERS.LIST_ERROR, 'id', 'error');\n\nexport const getTransfers = (accountId) => {\n  return dispatch => {\n    dispatch(getTransfersRequested(accountId));\n    return api.apiRetrieveTransfers(accountId)\n      .then(data => {\n        dispatch(getTransfersComplete(accountId, data.transactionsHistory));\n        return data;\n      })\n      .catch(err => {\n        dispatch(getTransfersError(accountId, err));\n        return err;\n      });\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/actions/entities.js\n **/","/**\n * Created by andrew on 26/02/16.\n */\n\nimport * as C from \"./constants\";\nimport root from './root';\n\nimport fetch from \"./fetch\";\n\nimport parseEndpointConfig from \"./parseEndpointConfig\";\nimport { setEndpointKeys } from \"../actions/configure\";\n\nimport {\n  getCurrentSettings,\n  setCurrentSettings,\n  getInitialEndpointKey,\n  setDefaultEndpointKey,\n  setCurrentEndpoint,\n  setCurrentEndpointKey,\n  retrieveData,\n  persistData,\n  destroySession\n} from \"./sessionStorage\";\n\nconst defaultSettings = {\n  //proxyIf:            function() { return false; },\n  //proxyUrl:           \"/proxy\",\n  forceHardRedirect:  false,\n  storage:            \"cookies\",\n  cookieExpiry:       14,\n  cookiePath:         \"/\",\n  initialCredentials: null,\n\n  passwordResetSuccessUrl: function() {\n    return root.location.href;\n  },\n\n  confirmationSuccessUrl:  function() {\n    return root.location.href;\n  },\n\n  tokenFormat: {\n    \"access-token\": \"{{ access-token }}\"\n    //\"token-type\":   \"Bearer\",\n    //client:         \"{{ client }}\",\n    //expiry:         \"{{ expiry }}\",\n    //uid:            \"{{ uid }}\"\n  },\n\n  parseExpiry: function(headers){\n    // convert from ruby time (seconds) to js time (millis)\n    return (parseInt(headers[\"expiry\"], 10) * 1000) || null;\n  },\n\n  handleLoginResponse: function(resp) {\n    return resp.data;\n  },\n\n  handleAccountUpdateResponse: function(resp) {\n    return resp.data;\n  },\n\n  handleTokenValidationResponse: function(resp) {\n    return resp.data;\n  }\n};\n\n\n// save session configuration\nexport function applyConfig({ dispatch, endpoint={}, settings={}, reset=false } = {}) {\n\n  if (settings.currentLocation && settings.currentLocation.match(/blank=true/)) {\n    return Promise.resolve({blank: true});\n  }\n\n  let currentEndpointKey;\n\n  if (reset) {\n    resetConfig();\n  }\n\n  if (settings.initialCredentials) {\n    currentEndpointKey = settings.initialCredentials.currentEndpointKey;\n  }\n\n  setCurrentSettings({ ...defaultSettings, ...settings });\n\n  const currentHeaders = retrieveData(C.SAVED_CREDS_KEY) || {};\n\n  const accessToken = currentHeaders[\"access-token\"];\n\n  //if (authRedirectHeaders && authRedirectHeaders[\"access-token\"]) {\n  if (!accessToken) {\n    destroySession();\n  }\n\n\n  let { defaultEndpointKey, currentEndpoint } = parseEndpointConfig(\n    endpoint, getInitialEndpointKey()\n  );\n\n  if (!currentEndpointKey) {\n    currentEndpointKey = defaultEndpointKey;\n  }\n\n  // persist default config key with session storage\n  setDefaultEndpointKey(defaultEndpointKey);\n  setCurrentEndpoint(currentEndpoint);\n\n  dispatch(setEndpointKeys(\n    Object.keys(currentEndpoint),\n    currentEndpointKey,\n    defaultEndpointKey));\n\n  setCurrentEndpointKey(currentEndpointKey);\n\n\n\n  return Promise.resolve();\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/clientSettings.js\n **/","/**\n * Created by andrew on 26/02/16.\n */\nimport * as C from \"./constants\";\n\n// base endpoint that other endpoints extend from\nconst defaultEndpoint = {\n  apiUrl:                \"/api\",\n  signOutPath:           \"/auth/sign_out\",\n  emailSignInPath:       \"/auth/sign_in\",\n  emailRegistrationPath: \"/auth\",\n  accountUpdatePath:     \"/auth\",\n  accountDeletePath:     \"/auth\",\n  passwordResetPath:     \"/auth/password\",\n  passwordUpdatePath:    \"/auth/password\",\n  tokenValidationPath:   \"/auth/validate_token\",\n\n  authProviderPaths: {\n    github:    \"/auth/github\",\n    facebook:  \"/auth/facebook\",\n    google:    \"/auth/google_oauth2\"\n  }\n};\n\nfunction getFirstObjectKey (obj) {\n  for (var key in obj) {\n    return key;\n  }\n}\n\nexport default function parseEndpointConfig(endpoint, defaultEndpointKey = null) {\n  // normalize so opts is always an array of objects\n  if (endpoint.constructor !== Array) {\n    // single config will always be called 'default' unless set\n    // by previous session\n    defaultEndpointKey = C.INITIAL_CONFIG_KEY;\n\n    // config should look like {default: {...}}\n    var defaultConfig = {};\n    defaultConfig[defaultEndpointKey] = endpoint;\n\n    // endpoint should look like [{default: {...}}]\n    endpoint = [defaultConfig];\n  }\n\n  let currentEndpoint = {};\n\n  // iterate over config items, extend each from defaults\n  for (var i = 0; i < endpoint.length; i++) {\n    var configName = getFirstObjectKey(endpoint[i]);\n\n    // set first as default config\n    if (!defaultEndpointKey) {\n      defaultEndpointKey = configName;\n    }\n\n    // save config to `configs` hash\n    currentEndpoint[configName] = {\n      ...defaultEndpoint,\n      ...endpoint[i][configName]\n    };\n  }\n\n  return { defaultEndpointKey, currentEndpoint };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/parseEndpointConfig.js\n **/","/**\n * Created by andrew on 26/02/16.\n */\nimport T from '../constants/ACTION_TYPES';\nimport { makeActionCreator } from '../utils/actions';\n\nexport const visitLocation = makeActionCreator(T.LOCATION.ENTER, 'location');\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/actions/navigate.js\n **/","/**\n * Created by andrew on 21/02/16.\n */\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { pushState } from 'redux-router';\n\nimport read from '../utils/readProp';\n\nexport function requireAuthentication(Component) {\n\n  class AuthComponent extends React.Component {\n\n    checkRedirect(props) {\n      if (!props.isAuthenticated) {\n          // redirect to login and add next param so we can redirect again after login\n        const redirectAfterLogin = props.location.pathname;\n        props.dispatch(pushState(null, `/signin?next=${redirectAfterLogin}`));\n      }\n    }\n\n    componentWillMount() {\n      this.checkRedirect(this.props);\n    }\n\n    componentWillReceiveProps(nextProps) {\n      this.checkRedirect(nextProps);\n    }\n\n    render() {\n\n      const { isAuthenticated = false } = this.props;\n\n      if (isAuthenticated) {\n        // render the component that requires auth (passed to this wrapper)\n        return (\n          <Component  {...this.props} />\n        )\n      }\n\n      return (<div className=\"panel\">\n        <h2 className=\"text-danger\">No anonymous access!</h2>\n      </div>);\n\n    }\n  }\n\n  const mapStateToProps =\n    (state) => {\n      return ({\n        isAuthenticated: read(state, 'app.auth.user.isSignedIn', false)\n      })\n    };\n\n  return connect(mapStateToProps)(AuthComponent);\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/AuthComponent.js\n **/","/**\n * Created by andrew on 11/03/16.\n */\nexport default function read(src, path = '', defaultVal = null) {\n  const [pathItem = null, ...rest] = path.split('.');\n\n  if (pathItem === null ) {\n    return src || defaultVal;\n  } else if (rest.length === 0) {\n    if (!src) { return defaultVal; }\n    return src[pathItem] || defaultVal;\n  }\n\n  if (!src) { return defaultVal; }\n  return read(src[pathItem], rest.join('.'), defaultVal);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/readProp.js\n **/","/**\n * Created by andrew on 17/02/16.\n */\nimport React, { PropTypes } from \"react\";\nimport { Grid, Col, Navbar, NavItem, Nav, NavbarBrand, Footer } from \"react-bootstrap\";\nimport { LinkContainer } from \"react-router-bootstrap\";\n\nimport HeaderLinks from '../HeaderLinks';\n\n//import { SignOutButton } from \"redux-auth/bootstrap-theme\";\n\n//const SignOutButton = () => (<div>SignOutButton!</div>);\n\nclass Container extends React.Component {\n  static propTypes = {\n    children: PropTypes.node\n  };\n\n  render () {\n    return (\n      <div className=\"wrapper\">\n        <Navbar className=\"main-nav\">\n          <LinkContainer to=\"/\">\n            <NavbarBrand>Money Transfer</NavbarBrand>\n          </LinkContainer>\n          <Nav>\n            <LinkContainer to=\"/\" onlyActiveOnIndex={true}>\n              <NavItem eventKey={1}>Home</NavItem>\n            </LinkContainer>\n          </Nav>\n          <div>\n            <HeaderLinks />\n          </div>\n        </Navbar>\n\n        <Grid className=\"content\">\n          {this.props.children}\n        </Grid>\n\n        <Navbar fixedBottom={true} className=\"footer-navigation\">\n          <Col xs={12} sm={6}>&copy; 2016 Eventuate.io</Col>\n          <Col xs={12} sm={6} className=\"text-right\">\n            <a href=\"#\">Terms</a> |&nbsp;\n            <a href=\"#\">Policy</a> |&nbsp;\n            <a href=\"#\">Contact</a> |&nbsp;\n            <a href=\"#\">About</a>\n          </Col>\n        </Navbar>\n      </div>\n    );\n  }\n}\n/*<a href=\"https://github.com/lynndylanhurley/redux-auth\">\n <img\n style={{position: \"absolute\", top: 0, right: 0, border: 0}}\n src=\"https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67\"\n alt=\"Fork me on GitHub\"\n data-canonical-src=\"https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png\" />\n </a>*/\nexport default Container;\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/partials/Container.js\n **/","/**\n * Created by andrew on 11/03/16.\n */\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { LinkContainer } from \"react-router-bootstrap\";\n\nimport read from '../utils/readProp';\n\n//import { PageHeader, OverlayTrigger, Tooltip, Grid, Col, Row, Nav, NavItem, ButtonGroup, Button, Table } from \"react-bootstrap\";\nimport * as BS from \"react-bootstrap\";\nimport { Link, IndexLink } from \"react-router\";\n\nimport { signOut } from '../actions/signOut';\n\n\nexport class HeaderLinks extends React.Component {\n\n  signOut(evt, key) {\n    this.props.dispatch(signOut());\n  }\n\n  render() {\n\n    let buttonSet = null;\n    const isSignedIn = read(this.props.auth, 'user.isSignedIn', false);\n    const { location } = this.props.router;\n    const isRegister = location.pathname == '/register';\n    const isLogin = location.pathname == '/signin';\n\n    const condition = isSignedIn ? 2 : (isRegister ? 1 : 0);\n    \n    switch (condition) {\n      case 0:\n        buttonSet = (<LinkContainer to=\"/register\">\n          <BS.NavItem>Register</BS.NavItem>\n        </LinkContainer>);\n        break;\n      case 1:\n        buttonSet = (<LinkContainer to=\"/signin\">\n          <BS.NavItem>Log In</BS.NavItem>\n        </LinkContainer>);\n        break;\n      case 2:\n        buttonSet = (<BS.NavItem onClick={this.signOut.bind(this)} eventKey=\"2\">Sign Out</BS.NavItem>);\n        break;\n    }\n\n    return (\n      <BS.Nav pullRight={true}>\n        { buttonSet }\n      </BS.Nav>\n    );\n  }\n}\n\nexport default connect(({\n  //dispatch,\n  router,\n  app\n  }) => ({\n  //dispatch,\n  router,\n  auth: app.auth\n}))(HeaderLinks);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/HeaderLinks.js\n **/","/**\n * Created by andrew on 11/03/16.\n */\nimport {\n  getEmailSignInUrl,\n  setCurrentEndpointKey,\n  getCurrentEndpointKey\n} from \"../utils/sessionStorage\";\n\nimport {destroySession} from \"../utils/sessionStorage\";\n\n\nimport { entityReceived } from './entities';\nimport { storeCurrentEndpointKey } from \"./configure\";\nimport { parseResponse } from \"../utils/handleFetchResponse\";\nimport fetch from \"../utils/fetch\";\n\nimport T from '../constants/ACTION_TYPES';\n\nimport root from '../utils/root';\n\nexport function signOutStart() {\n  return { type: T.AUTH.SIGN_OUT_START };\n}\n\nexport function signOutComplete() {\n  return { type: T.AUTH.SIGN_OUT_COMPLETE };\n}\n\nexport function signOut() {\n  return dispatch => {\n\n    dispatch(signOutStart());\n\n    destroySession();\n\n    dispatch(signOutComplete());\n\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/actions/signOut.js\n **/","/**\n * Created by andrew on 17/02/16.\n */\nimport React from \"react\";\nimport { PageHeader, OverlayTrigger, Tooltip, Grid, Col, Row, Nav, NavItem, ButtonGroup, Button, Table } from \"react-bootstrap\";\nimport * as BS from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport AccountInfo from '../components/AccountInfo';\nimport * as Modals from './modals';\nimport IndexPanel from \"./../components/partials/IndexPanel\";\nimport * as A from '../actions/entities';\nimport * as AU from '../actions/authenticate';\nimport read from '../utils/readProp';\nimport { Money } from '../components/Money';\n\n\n\nconst resetModals = {\n  showAccountModal: false,\n  show3rdPartyAccountModal: false,\n  showDeleteAccountModal: false\n};\n\nclass MyAccounts extends React.Component {\n\n  constructor(...args) {\n    super(...args);\n    this.state = { ...resetModals };\n  }\n\n  componentWillMount() {\n    const {\n      id: customerId\n      } = this.props.auth.user.attributes;\n    this.props.dispatch(A.fetchOwnAccounts(customerId));\n  }\n\n  createAccountModal() {\n    this.setState({\n      showAccountModal: true\n    });\n  }\n\n  createAccountModalConfirmed(payload) {\n\n    const {\n      id: customerId\n      } = this.props.auth.user.attributes;\n\n    this.props.dispatch(A.accountCreate(customerId, payload))\n      .then((accountId) => {\n        this.close();\n        // return new Promise((rs, rj) => {\n          setTimeout(() => {\n            this.props.dispatch(A.fetchOwnAccounts(customerId)); //.then(rs, rj);\n          }, 1500);\n        // });\n      })\n      .catch(err => {\n        // debugger;\n        this.props.dispatch(A.accountCreateError(err));\n      });\n  }\n\n  create3rdPartyAccountModal() {\n    this.setState({\n      show3rdPartyAccountModal: true\n    });\n  }\n\n  create3rdPartyAccountModalConfirmed(payload) {\n    const {\n      id: customerId,\n      dispatch\n    } = this.props.auth.user.attributes;\n\n    dispatch(A.accountRefCreate(customerId, payload))\n      .then(() => {\n        this.close();\n        return new Promise((rs, rj) => {\n          setTimeout(() => {\n            Promise.all([\n              dispatch(AU.authenticate(true)),\n              dispatch(A.fetchOwnAccounts(customerId))\n            ]).then(rs, rj);\n          }, 1500);\n        })\n      })\n      .catch(err => {\n        // debugger;\n        this.props.dispatch(A.accountRefCreateError(err));\n      });\n  }\n\n  remove3rdPartyAccountModal(accountId, evt) {\n    const account = this.props.app.entities[accountId];\n    this.setState({\n      accountToRemove: account,\n      showDeleteAccountModal: true\n    });\n  }\n\n  remove3rdPartyAccountModalConfirmed(accountId) {\n    const { customerId, dispatch } = this.props;\n    dispatch(A.deleteAccount(customerId, accountId))\n    .then(() => {\n        this.close();\n        setTimeout(() => {\n          return Promise.all([\n            dispatch(AU.authenticate(true)),\n            dispatch(A.fetchOwnAccounts(customerId))\n          ]);\n        }, 1500);\n    },\n    err => {\n      dispatch(A.errorMessageTimedOut(err && err.message || err));\n      this.close();\n    });\n  }\n\n  close() {\n    this.setState({\n      ...resetModals\n    });\n  }\n\n  render () {\n\n    //const deployTooltip = (<Tooltip>\n    //  Create a new instance of this demo on your own Heroku server.\n    //</Tooltip>);\n    const user = this.props.auth.user.attributes;\n    const {\n      id: customerId,\n      email = '',\n      ssn = '',\n      name = {},\n      phoneNumber = '',\n      address,\n      toAccounts\n      } = user;\n\n    const firstName = name.firstName || '';\n    const lastName = name.lastName || '';\n\n    const {\n      city,\n      state,\n      street1,\n      street2,\n      zipCode\n      } = address;\n\n    const {\n      showAccountModal,\n      show3rdPartyAccountModal,\n      showDeleteAccountModal } = this.state;\n\n    const { accountToRemove = null} = this.state;\n\n    const { error } = this.props;\n    const errorLine = error ? (<BS.Panel bsStyle=\"danger\"><strong>{ error }</strong></BS.Panel>) : [];\n\n    const ownAccountsData = this.props.app.accounts.own || [];\n\n    //accountId: \"000001537c2cf075-a250093f26850000\"\n    //balance: 0\n    //description: null\n    //title: \"Sample\"\n\n    const ownAccounts = ownAccountsData.map(({\n      accountId, balance, description = '', title\n      }, idx) => (\n      <tr key={`own_${idx}`}>\n        <td key={0}><AccountInfo accountId={accountId} />{\n          (description) ? [\n            (<br />),\n            <span>{ description }</span>\n          ]: null\n        }</td>\n        <td key={1}><Money amount={balance} /></td>\n        <td key={2}><BS.Button bsStyle={\"link\"} onClick={this.remove3rdPartyAccountModal.bind(this, accountId)}><BS.Glyphicon glyph=\"remove\" /></BS.Button></td>\n      </tr>\n    ));\n\n    const refAccountsData = this.props.app.accounts.other || [];\n    const refAccounts = refAccountsData.map(({\n      title,\n      description = '',\n      id\n      }, idx) => (\n      <tr key={`ref_${idx}`}>\n        <td key={0}><AccountInfo accountId={id} />{\n          (description) ? [\n            (<br />),\n            <span>{ description }</span>\n          ]: null\n        }\n        </td>\n        <td key={1} />\n        <td key={2}><Button pullRight={true} bsStyle={\"link\"} onClick={this.remove3rdPartyAccountModal.bind(this, id)}><BS.Glyphicon glyph=\"remove\" /></Button>\n        </td>\n      </tr>\n    ));\n\n    const accounts = (!!(ownAccounts.length + refAccounts.length)) ? [].concat(ownAccounts, refAccounts) : (<tr>\n      <td colSpan={3}>No account exists: <Button bsStyle={\"link\"} onClick={this.createAccountModal.bind(this)}>create a new one</Button> or <Button bsStyle={\"link\"} onClick={this.create3rdPartyAccountModal.bind(this)}>add a recipient</Button></td>\n    </tr>);\n\n    return (\n      <div>\n        <PageHeader>\n            My Accounts\n          <Nav pullRight={true}>\n            <ButtonGroup>\n              <Button bsStyle={\"link\"} onClick={this.createAccountModal.bind(this)}>Create Account</Button>\n              <Button bsStyle={\"link\"} onClick={this.create3rdPartyAccountModal.bind(this)}>Add 3rd Party Recipients</Button>\n            </ButtonGroup>\n          </Nav>\n        </PageHeader>\n\n        { errorLine }\n\n        <Row>\n          <IndexPanel header=\"Personal Info:\">\n\n            <Row>\n              <Col xs={4}>Customer:</Col>\n              <Col xs={8}><strong>{ `${firstName} ${lastName}` }</strong></Col>\n            </Row>\n\n            <Row>\n              <Col xs={4}>Email:</Col>\n              <Col xs={8}><strong>{ email }</strong></Col>\n            </Row>\n\n            <Row>\n              <Col xs={4}>Phone:</Col>\n              <Col xs={8}><strong>{ phoneNumber }</strong></Col>\n            </Row>\n\n            <Row>\n              <Col xs={4}>SSN:</Col>\n              <Col xs={8}><strong>{ ssn }</strong></Col>\n            </Row>\n\n\n          </IndexPanel>\n\n        </Row>\n\n        <Table>\n          <thead>\n          <tr>\n            <th>Account Title</th>\n            <th>Balance</th>\n            <th></th>\n          </tr>\n          </thead>\n          <tbody>\n          { accounts }\n          </tbody>\n        </Table>\n\n\n        <Modals.NewAccountModal show={showAccountModal}\n                                action={this.createAccountModalConfirmed.bind(this)}\n                                account={ this.props.app.accounts.create }\n                                onHide={this.close.bind(this)}\n                                key={0} />\n\n        <Modals.Add3rdPartyAccountModal show={show3rdPartyAccountModal}\n                                        action={this.create3rdPartyAccountModalConfirmed.bind(this)}\n                                        onHide={this.close.bind(this)}\n                                        key={1} />\n\n        <Modals.RemoveAccountBookmarkModal show={showDeleteAccountModal}\n                                           account={accountToRemove}\n                                           action={this.remove3rdPartyAccountModalConfirmed.bind(this)}\n                                           onHide={this.close.bind(this)}\n                                           key={2} />\n\n      </div>\n    );\n  }\n}\n\nexport default connect(({ app }) => {\n  return ({\n    auth: app.auth,\n    app: app.data,\n    customerId: read(app, 'auth.user.isSignedIn', false) ? read(app, 'auth.user.attributes.id', null): null,\n    error: app.ui.error\n  })\n})(MyAccounts);\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/MyAccounts.js\n **/","/**\n * Created by andrew on 3/22/16.\n */\nimport React from \"react\";\nimport { connect } from 'react-redux';\nimport Spinner from \"react-loader\";\nimport * as BS  from \"react-bootstrap\";\nimport * as A from '../actions/entities';\nimport read from '../utils/readProp';\nimport { Route, IndexRoute, Link, IndexLink } from \"react-router\";\n\nexport class AccountInfo extends React.Component {\n  componentWillMount() {\n    this.ensureData(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.ensureData(nextProps);\n  }\n\n  ensureData({ dispatch, entities, accountId }) {\n    if (entities[accountId]) {\n      return;\n    }\n    dispatch(A.fetchAccount(accountId));\n  }\n\n  render() {\n    const { entities, accountId, customerId } = this.props;\n\n    const account = entities[accountId];\n\n    if (!account || !accountId) {\n      return (<div title={ `${accountId}` }>{ accountId } <Spinner loaded={false} /></div>);\n      // {/*return (<Link to={ `/account/${accountId}` }>{ accountId } <Spinner loaded={false} /></Link>)*/}\n    }\n\n    const { title, owner } = account;\n\n    if ((typeof owner !== 'undefined') && (customerId !== owner)) {\n      return (<BS.Button bsStyle=\"link\" disabled title={ `${accountId}` } style={{ padding: '0 0' }}>{ title }</BS.Button>);\n    } else {\n      return (<Link to={ `/account/${accountId}` }>{ title }</Link>);\n    }\n  }\n}\n\nexport default connect(({ app }) => ({\n  entities: app.data.entities,\n  customerId: read(app, 'auth.user.isSignedIn', false) ? read(app, 'auth.user.attributes.id', null): null,\n}))(AccountInfo);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/AccountInfo.js\n **/","/**\n * Created by andrew on 20/02/16.\n */\nexport { default as Add3rdPartyAccountModal } from './Add3rdPartyAccountModal';\nexport { default as NewAccountModal } from './NewAccountModal';\nexport { default as RemoveAccountBookmarkModal } from './RemoveAccountModal';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/modals/index.js\n **/","/**\n * Created by andrew on 20/02/16.\n */\nimport React from \"react\";\n// import { PageHeader, OverlayTrigger, Modal, Tooltip, Grid, Col, Row, Nav, NavItem, ButtonGroup, Button, Table } from \"react-bootstrap\";\nimport * as BS from \"react-bootstrap\";\nimport ButtonLoader from \"../../controls/bootstrap/ButtonLoader\";\nimport Input from \"../../controls/bootstrap/Input\";\nimport AuxErrorLabel from \"../../controls/bootstrap/AuxErrorLabel\";\nimport read from '../../utils/readProp';\n\nimport { Link, IndexLink} from \"react-router\";\nimport { connect } from \"react-redux\";\nimport Select from \"react-select\";\n\nimport * as A from '../../actions/entities';\n\nconst formValidation = (payload) => ['owner', 'account', 'title', 'description'].reduce((memo, prop) => {\n  let result = [];\n  const value = (payload[prop] || '').replace(/(^\\s+)|(\\s+$)/g, '');\n\n  switch (prop) {\n    case 'owner':\n    case 'account':\n    case 'title':\n      if (/^$/.test(value)) {\n        result.push('required');\n      }\n  }\n\n  switch (prop) {\n    case 'description':\n      if (value.length > 400) {\n        result.push('need to less than 400 symbols long');\n      }\n  }\n\n  if (result.length) {\n    memo[prop] = result;\n    memo.hasErrors = true;\n  }\n  return memo;\n}, {});\n\n\nexport class Add3rdPartyAccountModal extends React.Component {\n\n  handleInput(key, value) {\n    this.props.dispatch(A.accountRefCreateFormUpdate(key, value));\n    switch(key) {\n      case 'owner':\n        if (value) {\n          this.props.dispatch(A.createRefAccountLookup(value));\n        } else {\n          this.props.dispatch(A.createRefAccountLookupComplete([]));\n        }\n    }\n  }\n\n  handleSubmit(evt) {\n    evt.preventDefault();\n\n    const payload = { ...this.props.data.form };\n\n    const validationErrors = formValidation(payload);\n    if (validationErrors.hasErrors) {\n      this.props.dispatch(A.accountRefCreateError(validationErrors));\n      return;\n    }\n\n    const { action } = this.props;\n\n    if (action) {\n      action(payload);\n    }\n  }\n\n  onHide() {\n    this.props.dispatch(A.accountRefCreateComplete({}));\n    if (this.props.onHide) {\n      this.props.onHide();\n    }\n  }\n\n  getOwnersOptions(input) {\n    if (!input) {\n      return Promise.resolve({ options: [] });\n    }\n    return this.props.dispatch(A.createRefOwnerLookup(input));\n  }\n\n  render() {\n    const disabled = read(this.props.data, 'loading', false);\n\n    const ownersLoading = read(this.props.data, 'ownersLookup.loading', false);\n\n    const formErrors = read(this.props.data, 'errors.errors', '');\n\n    return (\n      <BS.Modal show={this.props.show} onHide={this.onHide.bind(this)} key={1}>\n        <BS.Modal.Header closeButton>\n          <BS.Modal.Title>Add 3rd Party Account</BS.Modal.Title>\n        </BS.Modal.Header>\n        <BS.Modal.Body>\n          <form>\n            <div className=\"form-group\" style={{\n            display: formErrors ? 'block' : 'none'\n            }}>\n              <AuxErrorLabel\n                label=\"Form:\"\n                errors={formErrors.length ? [formErrors] : [] }\n              />\n            </div>\n\n            <label>Owner:</label>\n            <div className=\"form-group\">\n              <Select\n                name=\"owner\"\n                onBlurResetsInput={false}\n                asyncOptions={this.getOwnersOptions.bind(this)}\n                matchProp=\"label\"\n                onChange={this.handleInput.bind(this, 'owner')}\n                value={read(this.props.data, 'form.owner', '')}\n                disabled={disabled}\n              />\n              <AuxErrorLabel\n                label=\"Owner:\"\n                errors={read(this.props.data, 'errors.owner', [])}\n              />\n            </div>\n\n            <label>Account:</label>\n            <div className=\"form-group\">\n              <Select\n                name=\"account\"\n                value={read(this.props.data, 'form.account', '')}\n                disabled={ownersLoading || disabled}\n                clearable={false}\n                searchable={false}\n                options={read(this.props.data, 'accountsLookup.options', [])}\n                onChange={this.handleInput.bind(this, 'account')} />\n              <AuxErrorLabel\n                label=\"Account:\"\n                errors={read(this.props.data, 'errors.account', [])}\n              />\n            </div>\n\n            <Input type=\"text\"\n                   className=\"account-create-description\"\n                   label=\"Title:\"\n                   placeholder=\"Title\"\n                   name=\"title\"\n                   disabled={disabled}\n                   value={read(this.props.data, 'form.title', '')}\n                   errors={read(this.props.data, 'errors.title', [])}\n                   onChange={this.handleInput.bind(this, 'title')} />\n\n            <Input type=\"textarea\"\n                   className=\"account-create-description\"\n                   label=\"Description:\"\n                   placeholder=\"Description\"\n                   name=\"description\"\n                   disabled={disabled}\n                   value={read(this.props.data, 'form.description', '')}\n                   errors={read(this.props.data, 'errors.description', [])}\n                   onChange={this.handleInput.bind(this, 'description')} />\n          </form>\n        </BS.Modal.Body>\n        <BS.Modal.Footer>\n          <BS.Button onClick={this.onHide.bind(this)}>Cancel</BS.Button>\n          <ButtonLoader loading={read(this.props.data, 'loading', false)}\n                        type=\"submit\"\n                        bsStyle=\"primary\"\n                        icon={<BS.Glyphicon glyph=\"plus\" />}\n                        disabled={disabled}\n                        onClick={this.handleSubmit.bind(this)}>\n            Add\n          </ButtonLoader>\n        </BS.Modal.Footer>\n      </BS.Modal>\n    );\n  }\n}\n\nconst mapStateToProps = ({ app }) => ({\n  ui: app.ui.bookmarkAccount,\n  data: app.data.bookmarkAccount\n});\n\nexport default connect(mapStateToProps)(Add3rdPartyAccountModal);\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/modals/Add3rdPartyAccountModal.js\n **/","/**\n * Created by andrew on 15/02/16.\n */\nimport React, { PropTypes } from \"react\";\nimport { Button, Glyphicon } from \"react-bootstrap\";\nimport Spinner from \"react-loader\";\n\nclass ButtonLoader extends React.Component {\n  static propTypes = {\n    icon: PropTypes.node,\n    loading: PropTypes.bool,\n    spinConfig: PropTypes.object,\n    spinColorDark: PropTypes.string,\n    spinColorLight: PropTypes.string,\n    children: PropTypes.node,\n    onClick: PropTypes.func.isRequired,\n    style: PropTypes.object\n  };\n\n  static defaultProps = {\n    icon: <Glyphicon glyph=\"heart\" />,\n    loading: false,\n    spinConfig: {\n      lines: 10,\n      length: 4,\n      width: 2,\n      radius: 3\n    },\n    spinColorDark: \"#444\",\n    spinColorLight: \"#fff\",\n    children: <span>Submit</span>,\n    style: {}\n  };\n\n  renderIcon () {\n    let icon;\n\n    if (this.props.loading) {\n      let spinColor = (!this.props.bsStyle || this.props.bsStyle === \"default\")\n        ? this.props.spinColorDark\n        : this.props.spinColorLight;\n\n      icon = <Spinner {...this.props.spinConfig} color={spinColor} loaded={false} />;\n    } else {\n      icon = this.props.icon;\n    }\n\n    return (\n      <div style={{\n        position: \"relative\",\n        display: \"inline-block\",\n        marginRight: \"6px\",\n        width: \"10px\",\n        height: \"10px\",\n        top: \"1px\"\n      }}>\n        {icon}\n      </div>\n    );\n  }\n\n  render () {\n    return (\n      <Button\n        onClick={this.props.onClick}\n        disabled={this.props.disabled || this.props.loading}\n        bsStyle={this.props.bsStyle}\n        className={this.props.className}\n        type={this.props.type}\n        style={this.props.style}\n        bsSize={this.props.bsSize}>\n        {this.renderIcon()} {this.props.children}\n      </Button>\n    );\n  }\n}\n\nexport default ButtonLoader;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controls/bootstrap/ButtonLoader.js\n **/","/**\n * Created by andrew on 15/02/16.\n */\nimport React, { PropTypes } from \"react\";\nimport { Input, Glyphicon } from \"react-bootstrap\";\n\nclass AuthInput extends React.Component {\n  static propTypes = {\n    label: PropTypes.string,\n    value: PropTypes.string,\n    errors: PropTypes.array\n  };\n\n  static defaultProps = {\n    label: '',\n    value: null,\n    errors: []\n  };\n\n  handleInput (ev) {\n    this.props.onChange(ev.target.value);\n  }\n\n  renderErrorList () {\n\n    if (this.props.errors.length) {\n      return (\n        <div className=\"auth-error-message has-error\">\n          {this.props.errors.map((err, i) => {\n            return (\n              <p className=\"control-label inline-error-item\"\n                 style={{paddingLeft: \"20px\", position: \"relative\", marginBottom: \"28px\"}}\n                 key={i}>\n\n                <Glyphicon glyph=\"exclamation-sign\"\n                           style={{\n                             position: \"absolute\",\n                             left: 0,\n                             top: 2\n                           }}\n                /> {this.props.label} {err}\n              </p>\n            );\n          })}\n        </div>\n      );\n    } else {\n      return <span />;\n    }\n  }\n\n  render () {\n    return (\n      <div>\n        <Input {...this.props}\n          bsStyle={(this.props.errors.length) ? \"error\" : null}\n          onChange={this.handleInput.bind(this)} />\n        {this.renderErrorList()}\n      </div>\n    );\n  }\n}\n\nexport default AuthInput;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controls/bootstrap/Input.js\n **/","/**\n * Created by andrew on 15/02/16.\n */\nimport React, { PropTypes } from \"react\";\nimport { Glyphicon } from \"react-bootstrap\";\n\n\nclass AuxErrorLabel extends React.Component {\n\n  static propTypes = {\n    label: PropTypes.string,\n    errors: PropTypes.array\n  };\n\n  static defaultProps = {\n    label: '',\n    errors: []\n  };\n  \n//        <Input {...this.props}\n//   bsStyle={(this.props.errors.length) ? \"error\" : null}\n// onChange={this.handleInput.bind(this)} />\n  render () {\n    const { errors } = this.props;\n\n    if (errors.length) {\n      return (\n        <div className='has-error'>\n          { errors.map((err, i) => {\n            return (\n              <p className=\"control-label inline-error-item\"\n                 style={{paddingLeft: \"20px\", position: \"relative\", marginBottom: \"28px\"}}\n                 key={i}>\n\n                <Glyphicon glyph=\"exclamation-sign\"\n                           style={{\n                             position: \"absolute\",\n                             left: 0,\n                             top: 2\n                           }}\n                /> {this.props.label} {err}\n              </p>\n            );\n          })}\n        </div>\n      );\n    } else {\n      return <span />;\n    }\n  }\n}\n\nexport default AuxErrorLabel;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controls/bootstrap/AuxErrorLabel.js\n **/","/**\n * Created by andrew on 20/02/16.\n */\nimport React, { PropTypes } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport * as BS from \"react-bootstrap\";\nimport Input from \"../../controls/bootstrap/Input\";\nimport ButtonLoader from \"../../controls/bootstrap/ButtonLoader\";\n//import { PageHeader, OverlayTrigger, Modal, Tooltip, Grid, Col, Row, Nav, NavItem, ButtonGroup, Button, Table } from \"react-bootstrap\";\n\nimport { Link, IndexLink} from \"react-router\";\nimport read from '../../utils/readProp';\n\nimport { accountCreateFormUpdate, accountCreateError } from '../../actions/entities';\n\nconst formValidation = (payload) => ['title', 'balance', 'description'].reduce((memo, prop) => {\n  let result = [];\n  const value = (payload[prop] || '').replace(/(^\\s+)|(\\s+$)/g, '');\n\n  switch (prop) {\n    case 'title':\n    case 'balance':\n      if (/^$/.test(value)) {\n        result.push('required');\n      }\n  }\n\n  switch (prop) {\n    case 'balance':\n      if (!/\\d+/.test(value)) {\n        result.push('need to be a number');\n      }\n  }\n\n  switch (prop) {\n    case 'description':\n      if (value.length > 400) {\n        result.push('need to less than 400 symbols long');\n      }\n\n  }\n  if (result.length) {\n    memo[prop] = result;\n    memo.hasErrors = true;\n  }\n  return memo;\n}, {});\n\nexport class NewAccountModal extends React.Component {\n\n  static propTypes = {\n    action: PropTypes.func,\n    account: PropTypes.object.isRequired\n  };\n  \n  handleSubmit(event) {\n    event.preventDefault();\n\n    const payload = { ...this.props.account.form };\n\n    const validationErrors = formValidation(payload);\n    if (validationErrors.hasErrors) {\n      this.props.dispatch(accountCreateError(validationErrors));\n      return;\n    }\n\n    const { action } = this.props;\n\n    if (action) {\n      action(payload);\n    }\n  }\n\n  handleInput(key, val) {\n      this.props.dispatch(accountCreateFormUpdate(key, val));\n  }\n\n  render() {\n\n    const disabled = (\n      this.props.account.loading\n    );\n\n    const actionLabel = 'Create';\n\n    return (<BS.Modal show={this.props.show} onHide={this.props.onHide} key={0}>\n      <BS.Modal.Header closeButton>\n        <BS.Modal.Title>New Account</BS.Modal.Title>\n      </BS.Modal.Header>\n      <BS.Modal.Body>\n        <form className='account-create-form clearfix'\n              onSubmit={this.handleSubmit.bind(this)}>\n\n          <Input type=\"text\"\n                 className=\"account-create-title\"\n                 label=\"Title\"\n                 placeholder=\"Title\"\n                 name=\"title\"\n                 disabled={disabled}\n                 value={read(this.props.account, 'form.title', '')}\n                 errors={read(this.props.account, 'errors.title', [])}\n                 onChange={this.handleInput.bind(this, \"title\")}\n          />\n\n          <Input type=\"text\"\n                 className=\"account-create-balance\"\n                 label=\"Balance\"\n                 placeholder=\"Balance\"\n                 name=\"balance\"\n                 addonBefore={\n                 (<BS.Glyphicon glyph=\"usd\" />)\n                 }\n                 addonAfter=\".00\"\n                 disabled={disabled}\n                 value={read(this.props.account, 'form.balance', '')}\n                 errors={read(this.props.account, 'errors.balance', [])}\n                 onChange={this.handleInput.bind(this, 'balance')}\n          />\n\n          <Input type=\"textarea\"\n                 className=\"account-create-description\"\n                 label=\"Description\"\n                 placeholder=\"Description\"\n                 name=\"description\"\n                 disabled={disabled}\n                 value={read(this.props.account, 'form.description', '') || ''}\n                 errors={read(this.props.account, 'errors.description', [])}\n                 onChange={this.handleInput.bind(this, 'description')}\n           />\n\n\n        </form>\n\n      </BS.Modal.Body>\n      <BS.Modal.Footer>\n        <BS.Button onClick={this.props.onHide}>Cancel</BS.Button>\n        <ButtonLoader loading={read(this.props.account, 'loading', false)}\n                      type=\"submit\"\n                      bsStyle=\"primary\"\n                      icon={<BS.Glyphicon glyph=\"plus\" />}\n                      disabled={disabled}\n                      onClick={this.handleSubmit.bind(this)}\n          >\n          {actionLabel}\n        </ButtonLoader>\n      </BS.Modal.Footer>\n    </BS.Modal>);\n  }\n}\n\nexport default connect()(NewAccountModal);\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/modals/NewAccountModal.js\n **/","/**\n * Created by andrew on 20/02/16.\n */\nimport React, { PropTypes } from \"react\";\nimport * as BS from 'react-bootstrap';\nimport { PageHeader, OverlayTrigger, Modal, Tooltip, Grid, Col, Row, Nav, NavItem, ButtonGroup, Button, Table } from \"react-bootstrap\";\nimport { Link, IndexLink} from \"react-router\";\nimport { connect } from \"react-redux\";\nimport Select from \"react-select\";\n\nexport class RemoveAccountBookmarkModal extends React.Component {\n\n  static propTypes = {\n    action: PropTypes.func,\n    account: PropTypes.object\n  };\n\n  handleAction(evt) {\n    evt.preventDefault();\n    const { action } = this.props;\n    const { account } = this.props;\n    const {\n      id,\n      accountId\n      } = account || {};\n\n    if (action) {\n      action(id || accountId);\n    }\n  }\n\n  render() {\n    const { account } = this.props;\n\n    const { title: titleRaw,\n      description: descriptionRaw,\n      balance: balanceRaw,\n      id,\n      accountId } = account || {};\n\n    const entityId = id || accountId;\n\n    const title = titleRaw || '—';\n    const balance = isNaN(balanceRaw) ? '—' : ((balanceRaw > 0 && balanceRaw < 1) ? '$0' : '$') + Number(balanceRaw).toFixed(2);\n    const description = descriptionRaw || '—';\n\n    return (<Modal show={this.props.show} onHide={this.props.onHide} key={0}>\n      <Modal.Header closeButton>\n        <Modal.Title>Remove Account Bookmark</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n\n        <form className=\"form-horizontal\">\n          <BS.FormControls.Static label=\"Title\" labelClassName=\"col-xs-2\" wrapperClassName=\"col-xs-10\">{ title }</BS.FormControls.Static>\n          <BS.FormControls.Static label=\"Balance\" labelClassName=\"col-xs-2\" wrapperClassName=\"col-xs-10\">{ balance }</BS.FormControls.Static>\n          <BS.FormControls.Static label=\"Description\" labelClassName=\"col-xs-2\" wrapperClassName=\"col-xs-10\">{ description }</BS.FormControls.Static>\n        </form>\n\n      </Modal.Body>\n      <Modal.Footer>\n        <Button onClick={this.props.onHide}>Cancel</Button>\n        <Button bsStyle=\"danger\" eventKey={ entityId } onClick={this.handleAction.bind(this)}>Remove</Button>\n      </Modal.Footer>\n    </Modal>);\n  }\n}\n\nexport default RemoveAccountBookmarkModal;\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/modals/RemoveAccountModal.js\n **/","/**\n * Created by andrew on 17/02/16.\n */\nimport React, { PropTypes } from \"react\";\nimport { Panel, Col } from \"react-bootstrap\";\n\nclass IndexPanel extends React.Component {\n  static propTypes = {\n    bsStyle: PropTypes.string,\n    header: PropTypes.string,\n    children: PropTypes.node\n  };\n\n  static defaultProps = {\n    bsStyle: \"info\",\n    children: <span />\n  };\n\n  render () {\n    return (\n      <Col sm={6}>\n        <Panel {...this.props} />\n      </Col>\n    );\n  }\n}\n\nexport default IndexPanel;\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/partials/IndexPanel.js\n **/","/**\n * Created by andrew on 3/22/16.\n */\nimport React from 'react';\n\nexport const moneyText = (amount) => {\n\n  if (Number.isNaN(Number(amount))) {\n    return '';\n  }\n  const absNum = Math.abs(Number(amount) / 100);\n  if (absNum < 0) {\n    return `$(${absNum.toFixed(2)})`;\n  }\n  return `$${absNum.toFixed(2)}`;\n};\n\nexport const Money = ({ amount }) => {\n\n  if (Number.isNaN(Number(amount))) {\n    return (<span />);\n  }\n  const absNum = Math.abs(Number(amount) / 100);\n  if (absNum < 0) {\n    return (<span className=\"text-danger\">($${ absNum.toFixed(2) })</span>)\n  }\n  return (<span>${ absNum.toFixed(2) }</span>);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Money.js\n **/","/**\n * Created by andrew on 12/02/16.\n */\nimport React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { PageHeader, OverlayTrigger, Tooltip, Grid, Col, Row, Nav, NavItem, ButtonGroup, Button, Table } from \"react-bootstrap\";\nimport * as BS  from \"react-bootstrap\";\n// import Spinner from \"react-loader\";\nimport Select from \"react-select\";\nimport Input from \"../controls/bootstrap/Input\";\nimport { Money, moneyText } from '../components/Money';\nimport { TransfersTable } from '../components/TransfersTable';\n\nimport { Link, IndexLink } from \"react-router\";\n\nimport IndexPanel from \"./../components/partials/IndexPanel\";\nimport * as Modals from './modals';\nimport * as A from '../actions/entities';\nimport read from '../utils/readProp';\nimport { blocked } from '../utils/blockedExecution';\n\nconst resetModals = {\n  showAccountModal: false,\n  unsaved: false\n};\n\nexport class Account extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = { ...resetModals };\n\n    const ensureTransfers = this.ensureTransfers.bind(this);\n    const ensureAccounts = this.ensureAccounts.bind(this);\n\n    this.ensureTransfers = blocked(ensureTransfers, true);\n    this.ensureAccounts = blocked(ensureAccounts, true);\n  }\n\n  ensureTransfers(props, cb) {\n    const forceFetch = !cb;\n    if (forceFetch) {\n      cb = props;\n      props = this.props;\n    }\n\n    const { dispatch, params, transfers } = props;\n\n    if (!forceFetch && !params) {\n      return cb();\n    }\n\n    const { accountId } = params;\n    if (!forceFetch && (!accountId || transfers[accountId])) {\n      return cb();\n    }\n\n    dispatch(A.getTransfers(accountId)).then(cb, cb);\n  }\n\n  ensureAccounts(props, cb) {\n    const forceFetch = !cb;\n    if (forceFetch) {\n      cb = props;\n      props = this.props;\n    }\n\n    const { dispatch, params, data } = props;\n\n    if (!forceFetch && (!params || !data || !data.accounts)) {\n      return cb();\n    }\n\n    const { accountId } = params;\n\n    if (!forceFetch && data.accounts.own && data.accounts.own.length && data.entities[accountId]) {\n      return cb();\n    }\n\n    if (!forceFetch && (!props.auth || !props.auth.user || !props.auth.user.attributes)) {\n      return cb();\n    }\n\n    const {\n      id: customerId\n    } = props.auth.user.attributes;\n\n    Promise.all([\n      dispatch(A.fetchOwnAccounts(customerId)),\n      dispatch(A.fetchAccount(accountId)),\n    ]).then(cb, cb);\n  }\n\n  // shouldComponentUpdate(nextProps) {\n  //   return (nextProps.params.accountId !== this.props.params.accountId) || (nextProps.app !== this.props.app);\n  // }\n\n  componentWillMount() {\n    this.ensureAccounts(this.props);\n    this.ensureTransfers(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.ensureAccounts(nextProps);\n    this.ensureTransfers(nextProps);\n  }\n\n  createAccountModal() {\n    this.setState({\n      showAccountModal: true\n    });\n  }\n\n  createAccountModalConfirmed() {\n    // debugger;\n  }\n\n\n  close() {\n    this.setState({\n      ...resetModals\n    });\n  }\n\n  handleInput(key, value) {\n    this.props.dispatch(A.makeTransferFormUpdate(key, value));\n  }\n\n  initiateTransfer(){\n    const { dispatch, params, transfer } = this.props;\n    const { accountId } = params;\n    dispatch(A.makeTransfer(accountId, transfer.form ))\n      .then(() => new Promise((rs) => {\n          setTimeout(() => {\n            this.ensureAccounts();\n            this.ensureTransfers();\n            rs();\n          }, 1500);\n        })\n      );\n  }\n\n  render () {\n\n    const { showAccountModal } = this.state;\n    const { params } = this.props;\n    const { loading, errors } = this.props.ui;\n    const { entities, accounts } = this.props.data;\n    const { accountId } = params;\n\n    const  account = entities[accountId];\n\n    const spinnerResult = (<h2 key=\"0\">Loading..</h2>);\n\n    if (loading) {\n      return spinnerResult;\n    }\n\n    if (!account) {\n      if (errors.length) {\n        return (<div>\n          <h2>Error loading specified account</h2>\n          <div>Return <Link to=\"/\">Home</Link> to pick another</div>\n        </div>);\n      } else {\n        return spinnerResult;\n      }\n    }\n\n    const transferTo = [].concat(accounts.own.reduce((memo, item, idx) => {\n      const { balance, title, accountId: itemAccountId } = item;\n\n      if (itemAccountId != accountId) {\n        memo.push({\n          value: itemAccountId ,\n          label: `${title}: ${ moneyText(balance) }`\n        });\n      }\n      return memo;\n    }, []),\n      accounts.other.reduce((memo, item, idx) => {\n      if (!((item.id == accountId) || (item.accountId == accountId))) {\n        memo.push({\n          value: item.accountId || item.id,\n          label: `${item.title}${ item.description ? ': ' + item.description.substr(0, 10): '' }`\n        });\n      }\n      return memo;\n    }, []));\n\n    const { title: titleRaw, description: descriptionRaw, balance } = account;\n\n    const title = titleRaw || '—';\n    const description = descriptionRaw || '—';\n\n    const transferDisabled = this.props.transfer.loading;\n\n    return (\n      <div key={accountId}>\n        <PageHeader>\n          Account\n          <Nav pullRight={true}>\n            <ButtonGroup>\n              <Button bsStyle={\"link\"} onClick={this.createAccountModal.bind(this)}>Edit</Button>\n            </ButtonGroup>\n          </Nav>\n        </PageHeader>\n\n        <Row>\n          <IndexPanel header=\"Account Info:\">\n\n            <Row>\n              <Col xs={4}>Title:</Col>\n              <Col xs={8}><strong>{ title }</strong></Col>\n            </Row>\n\n            <Row>\n              <Col xs={4}>Balance:</Col>\n              <Col xs={8}><strong><Money amount={balance} /></strong></Col>\n            </Row>\n\n            <Row>\n              <Col xs={4}>Description:</Col>\n              <Col xs={8}><strong>{ description }</strong></Col>\n            </Row>\n\n          </IndexPanel>\n\n        </Row>\n        <Row>\n          <Col xs={12}>\n            <h3>You can transfer money to accounts:</h3>\n          </Col>\n        </Row>\n        <Row>\n          <Col sm={4}>\n            <label>Transfer To:</label>\n            <Select\n              value={read(this.props.transfer, 'form.account', '')}\n              clearable={true}\n              options={transferTo}\n              disabled={transferDisabled}\n              onChange={this.handleInput.bind(this, 'account')}\n            />\n          </Col>\n          <Col sm={3}>\n            <Input type=\"text\"\n                   className=\"\"\n                   label=\"Amount:\"\n                   placeholder=\"Amount\"\n                   name=\"amount\"\n                   addonBefore={\n                 (<BS.Glyphicon glyph=\"usd\" />)\n                 }\n                   addonAfter=\".00\"\n                   disabled={transferDisabled}\n                   value={read(this.props.transfer, 'form.amount', '')}\n                   errors={read(this.props.transfer, 'errors.amount', []) || []}\n                   onChange={this.handleInput.bind(this, 'amount')}\n            />\n            </Col>\n          <Col sm={3}>\n            <Input type=\"textarea\"\n                   className=\"\"\n                   label=\"Description:\"\n                   placeholder=\"Description\"\n                   name=\"description\"\n                   disabled={transferDisabled}\n                   value={read(this.props.transfer, 'form.description', '') || ''}\n                   errors={read(this.props.transfer, 'errors.description', []) || []}\n                   onChange={this.handleInput.bind(this, 'description')}\n            />\n          </Col>\n          <Col sm={2}>\n            <br/>\n            <Button bsStyle=\"primary\"\n                    disabled={transferDisabled}\n                    onClick={!transferDisabled && this.initiateTransfer.bind(this)}>Transfer</Button>\n          </Col>\n        </Row>\n\n        <Row>\n          <Col xs={12}>\n            <h3>Transfer History:</h3>\n          </Col>\n        </Row>\n\n        <TransfersTable forAccount={accountId} transfers={ this.props.transfers[accountId] } />\n\n        <Modals.NewAccountModal show={showAccountModal}\n                                action={this.createAccountModalConfirmed.bind(this)}\n                                account={{ loading: true }}\n                                onHide={this.close.bind(this)}\n                                key={0} />\n\n\n      </div>\n\n    );\n  }\n}\n\nexport default connect(({\n  app,\n  router\n  }) => ({\n    app,\n  auth: app.auth,\n  data: app.data,\n  transfers: app.data.transfers,\n  ui: app.ui.account,\n  transfer: app.ui.transfersMake,\n  router\n}))(Account);\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/Account.js\n **/","/**\n * Created by andrew on 3/22/16.\n */\nimport React from \"react\";\nimport Spinner from \"react-loader\";\nimport * as BS  from \"react-bootstrap\";\nimport TimeAgo from 'react-timeago';\n\nimport { Money } from './Money';\nimport AccountInfo from './AccountInfo';\n\nexport class TransfersTable extends React.Component {\n\n  preprocessItems(input, currentAccountId) {\n    return input\n      .sort((a, b) => ((a.date - b.date)))\n      .filter(({ entryType, toAccountId, fromAccountId}) => ((entryType !=='transaction') || (fromAccountId === currentAccountId) || (toAccountId === currentAccountId)))\n      .reduce(({\n        items, balance\n      }, v) => {\n        if (v.entryType == 'account') {\n          balance = v.initialBalance;\n        } else if (v.entryType == 'transaction' && (v.status !== 'FAILED_DUE_TO_INSUFFICIENT_FUNDS')) {\n          const isOriginating = v.fromAccountId == currentAccountId;\n          balance += (isOriginating ? -1 : 1) * v.amount;\n        }\n        v.balance = balance;\n        items.push(v);\n        return { items, balance };\n      }, {\n        items: [],\n        balance: 0\n      }).items\n      .sort((a, b) => (-(a.date - b.date)))\n  }\n\n  render() {\n    const { transfers, forAccount } = this.props;\n    const { loading, data, errors } = transfers || {};\n    \n    if (!transfers || loading) {\n      return (<h2><Spinner loaded={false} /> Loading..</h2>);\n    }\n\n    if (Object.keys(errors).length) {\n      return (<div className=\"text-danger\">Errors..</div>);\n    }\n\n    const currentAccountId = forAccount;\n\n    const transfersMarkup = data.length ?\n      this.preprocessItems(data, currentAccountId)\n        .map(({\n          entryType,\n          amount,\n          fromAccountId,\n          toAccountId,\n          transactionId,\n          description = '—',\n          date = null,\n          status = '—',\n          balance,\n          initialBalance = null\n        }) => {\n\n          const transferTimestamp = new Date(date);\n          const timeAgoTitle = transferTimestamp.toLocaleDateString() + ' ' + transferTimestamp.toLocaleTimeString();\n\n          if (entryType == 'account') {\n            return (<tr>\n              <td><TimeAgo date={date} title={ timeAgoTitle } /></td>\n              <td colSpan=\"3\">Account created</td>\n              <td><Money amount={ initialBalance } /></td>\n              <td>{ description }</td>\n              <td>{ status || '—' }</td>\n            </tr>);\n          }\n\n          const isOriginating = fromAccountId == currentAccountId;\n          const directionMarkup = isOriginating ? 'Debit' : 'Credit';\n          const counterAccountMarkup = isOriginating ?\n            <AccountInfo accountId={ toAccountId } /> :\n            <AccountInfo accountId={ fromAccountId } />;\n\n          return (<tr key={ transactionId }>\n            <td><TimeAgo date={date} title={ timeAgoTitle } /></td>\n            <td>{ directionMarkup }</td>\n            <td>{ counterAccountMarkup }</td>\n            <td><Money amount={ amount } /></td>\n            <td><Money amount={ balance } /></td>\n            <td>{ description || '—' }</td>\n            <td>{ status || '—' }</td>\n          </tr>);\n        }) : (<tr>\n        <td colSpan={6}>No transfers for this account just yet.</td>\n      </tr>);\n\n    return (\n      <BS.Table striped bordered condensed hover>\n        <thead>\n        <tr>\n          <th>Date</th>\n          <th>Type</th>\n          <th>Other Account</th>\n          <th>Amount</th>\n          <th>Balance</th>\n          <th>Description</th>\n          <th>Status</th>\n        </tr>\n        </thead>\n        <tbody>\n        { transfersMarkup }\n        </tbody>\n      </BS.Table>\n    );\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/TransfersTable.js\n **/","/**\n * Created by andrew on 8/17/16.\n */\n\nexport const blocked = (fn, useCb) => {\n  let isBlocked = false;\n  return (...args) => {\n    if (isBlocked) {\n      return;\n    }\n    //noinspection JSUnusedAssignment\n    isBlocked = true;\n    const cb = () => {\n      isBlocked = false;\n    };\n    const result = useCb ? fn(...(args.concat([cb]))) : fn(...args);\n    if (!useCb) {\n      cb();\n    }\n    return result;\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/blockedExecution.js\n **/","/**\n * Created by andrew on 12/02/16.\n */\nimport React from \"react\";\nimport { PageHeader } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport * as BS from \"react-bootstrap\";\nimport { pushState } from \"redux-router\";\nimport { EmailSignInForm } from \"../controls/bootstrap/EmailSignInForm\";\nimport read from '../utils/readProp';\n\nexport class SignIn extends React.Component {\n\n  checkRedirect(props) {\n\n    const isSignedIn = read(props.auth, 'user.isSignedIn');\n    if (isSignedIn) {\n\n      const nextLocation = read(props.location, 'query.next');\n      props.dispatch(pushState(null, nextLocation));\n\n      //// redirect to login and add next param so we can redirect again after login\n      //const redirectAfterLogin = this.props.location.pathname;\n      //this.props.dispatch(pushState(null, `/signin?next=${redirectAfterLogin}`));\n    }\n  }\n  componentWillMount() {\n    this.checkRedirect(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.checkRedirect(nextProps);\n\n  }\n\n  render () {\n\n    return (\n      <BS.Well>\n        <PageHeader>Sign In</PageHeader>\n        <EmailSignInForm {...this.props} />\n      </BS.Well>\n    );\n  }\n}\nexport default connect(({\n  //dispatch,\n    routes,\n    app\n  }) => ({\n  //dispatch,\n    routes,\n    auth: app.auth\n}))(SignIn);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/SignIn.js\n **/","/**\n * Created by andrew on 15/02/16.\n */\nimport React, {PropTypes} from \"react\";\nimport { connect } from \"react-redux\";\nimport read from '../../utils/readProp';\n\nimport * as BS from \"react-bootstrap\";\nimport Input from \"./Input\";\nimport ButtonLoader from \"./ButtonLoader\";\nimport AuxErrorLabel from './AuxErrorLabel';\n\nimport * as AS from \"../../actions/signIn\";\n\nconst formValidation = (payload) => [\n  'email',\n  'password'\n].reduce((memo, prop) => {\n  let result = [];\n  const value = (payload[prop] || '').replace(/(^\\s+)|(\\s+$)/g, '');\n\n  switch (prop) {\n    case 'email':\n    case 'password':\n      if (/^$/.test(value)) {\n        result.push('required');\n      }\n  }\n\n  if (result.length) {\n    memo[prop] = result;\n    memo.hasErrors = true;\n  }\n  return memo;\n}, {});\n\nexport class EmailSignInForm extends React.Component {\n\n  handleInput (key, val) {\n    this.props.dispatch(AS.emailSignInFormUpdate(key, val));\n  }\n\n  handleSubmit (event) {\n    event.preventDefault();\n\n    const formData = read(this.props.auth, 'signIn.form');\n\n    const validationErrors = formValidation(formData);\n    if (validationErrors.hasErrors) {\n      this.props.dispatch(AS.emailSignInError(validationErrors));\n      return;\n    }\n\n    this.props.dispatch(AS.emailSignIn(formData));\n  }\n\n  render () {\n\n    try {\n    const disabled = (\n      this.props.auth.user.isSignedIn ||\n      this.props.auth.signIn.loading\n    );\n\n      //const error = read(this.props.auth, 'signIn.errors.email', null);\n      const formErrors = read(this.props.auth, 'signIn.errors.errors', '');\n\n      return (\n      <form className='redux-auth email-sign-in-form clearfix'\n            onSubmit={this.handleSubmit.bind(this)}>\n\n        <div className=\"form-group\" style={{\n            display: formErrors ? 'block' : 'none'\n            }}>\n          <AuxErrorLabel\n            label=\"Form:\"\n            errors={ formErrors.length ? [ formErrors ] : [] }\n          />\n        </div>\n\n        <Input type=\"text\"\n               className=\"email-sign-in-email\"\n               label=\"Email\"\n               placeholder=\"Email\"\n               name=\"email\"\n               disabled={disabled}\n               value={read(this.props.auth, 'signIn.form.email', '')}\n               errors={read(this.props.auth, 'signIn.errors.email', [])}\n               onChange={this.handleInput.bind(this, \"email\")}\n          {...this.props.inputProps.email} />\n\n        <Input type=\"password\"\n               className=\"password-sign-in-email\"\n               label=\"Password\"\n               placeholder=\"Password\"\n               name=\"password\"\n               disabled={disabled}\n               value={read(this.props.auth, 'signIn.form.password', '')}\n               errors={read(this.props.auth, 'signIn.errors.password', [])}\n               onChange={this.handleInput.bind(this, \"password\")}\n          {...this.props.inputProps.password} />\n\n        <ButtonLoader loading={read(this.props.auth, 'signIn.loading', false)}\n                      type=\"submit\"\n                      icon={<BS.Glyphicon glyph=\"log-in\" />}\n                      className='email-sign-in-submit pull-right'\n                      disabled={disabled}\n                      onClick={this.handleSubmit.bind(this)}\n          {...this.props.inputProps.submit}>\n          Sign In\n        </ButtonLoader>\n      </form>\n    );\n    } catch (ex){\n      console.error('Render exception: ', ex);\n      return [' ERROR '];\n    }\n  }\n}\n\nEmailSignInForm.propTypes = {\n  endpoint: PropTypes.string,\n  inputProps: PropTypes.shape({\n    email: PropTypes.object,\n    password: PropTypes.object,\n    submit: PropTypes.object\n  })\n};\n\nEmailSignInForm.defaultProps = {\n  inputProps: {\n    email: {},\n    password: {},\n    submit: {}\n  }\n};\n\n// export default connect(({app}) => ({auth: app.auth}))(EmailSignInForm);\n\n\n/** WEBPACK FOOTER **\n ** ./src/controls/bootstrap/EmailSignInForm.js\n **/","/**\n * Created by andrew on 26/02/16.\n */\nimport T from '../constants/ACTION_TYPES';\nimport { makeActionCreator } from '../utils/actions';\nimport { persistUserData } from \"../utils/sessionStorage\";\nimport { entityReceived } from './entities';\nimport { apiSignIn } from '../utils/api';\n\nexport const emailSignInFormUpdate = makeActionCreator(T.AUTH.SIGN_IN_FORM_UPDATE, 'key', 'value');\nexport const emailSignInStart = makeActionCreator(T.AUTH.SIGN_IN_START);\nexport const emailSignInComplete = makeActionCreator(T.AUTH.SIGN_IN_COMPLETE, 'user');\nexport const emailSignInError = makeActionCreator(T.AUTH.SIGN_IN_ERROR, 'error');\n\nexport function emailSignIn(body) {\n  return dispatch => {\n\n    dispatch(emailSignInStart());\n\n    return apiSignIn(body)\n      .then(function(data = {}) {\n        const { id } = data;\n        if (id ) {\n          dispatch(entityReceived(id, data));\n        }\n        return data;\n      })\n      .then((user) => {\n        persistUserData(user);\n        dispatch(emailSignInComplete(user));\n      })\n      .catch((errors) => {\n        // revert endpoint key to what it was before failed request\n        //setCurrentEndpointKey(prevEndpointKey);\n        //dispatch(storeCurrentEndpointKey(prevEndpointKey));\n        return dispatch(emailSignInError(errors));\n      });\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/actions/signIn.js\n **/","/**\n * Created by andrew on 12/02/16.\n */\nimport React from \"react\";\n//import { PageHeader } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { pushState } from 'redux-router';\nimport read from '../utils/readProp';\n\nimport { PageHeader, OverlayTrigger, Tooltip, Row, ButtonGroup, Table } from \"react-bootstrap\";\nimport * as BS from \"react-bootstrap\";\nimport { Link, IndexLink} from \"react-router\";\n\n//import { EmailSignUpForm } from \"redux-auth/bootstrap-theme\"\nimport EmailSignUpForm from \"../controls/bootstrap/EmailSignUpForm\";\n\nexport class SignUp extends React.Component {\n\n  checkRedirect(props) {\n    if (props.isAuthenticated) {\n      // redirect to login and add next param so we can redirect again after login\n      // const redirectAfterLogin = props.location.pathname;\n      props.dispatch(pushState(null, `/`));\n    }\n  }\n\n  componentWillMount() {\n    this.checkRedirect(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.checkRedirect(nextProps);\n  }\n\n  render () {\n    return (\n      <BS.Well>\n        <BS.PageHeader>Register</BS.PageHeader>\n        <EmailSignUpForm />\n      </BS.Well>\n    );\n\n  }\n}\nexport default connect(({\n  routes,\n  app\n}) => ({routes,\n  isAuthenticated: read(app, 'auth.user.isSignedIn', false)\n}))(SignUp);\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/SignUp.js\n **/","/**\n * Created by andrew on 15/02/16.\n */\nimport React, {PropTypes} from \"react\";\nimport { connect } from \"react-redux\";\nimport { Glyphicon } from \"react-bootstrap\";\nimport Input from \"./Input\";\nimport ButtonLoader from \"./ButtonLoader\";\nimport IndexPanel from \"./../../components/partials/IndexPanel\";\nimport AuxErrorLabel from './AuxErrorLabel';\nimport { customerInfoMap } from '../../entities/formToPayloadMappers';\nimport read from '../../utils/readProp';\nimport * as AS from '../../actions/signUp';\n\nconst formValidation = (payload) => [\n  'fname',\n  'lname',\n  'email',\n  'password',\n  'passwordConfirm',\n  'ssn',\n  'phoneNumber',\n  'address1',\n  'address2',\n  'city',\n  'state',\n  'zip'\n].reduce((memo, prop) => {\n  let result = [];\n  const value = (payload[prop] || '').replace(/(^\\s+)|(\\s+$)/g, '');\n\n  switch (prop) {\n    case 'fname':\n    case 'lname':\n    case 'email':\n    case 'ssn':\n    case 'password':\n    case 'passwordConfirm':\n      if (/^$/.test(value)) {\n        result.push('required');\n      }\n  }\n\n  switch (prop) {\n    case 'passwordConfirm':\n      if (value != payload['password']) {\n        result.push('need to be equal to password');\n      }\n  }\n\n  if (result.length) {\n    memo[prop] = result;\n    memo.hasErrors = true;\n  }\n  return memo;\n}, {});\n\n\nclass EmailSignUpForm extends React.Component {\n\n  handleInput (key, val) {\n    this.props.dispatch(AS.emailSignUpFormUpdate(key, val));\n  }\n\n  handleSubmit (event) {\n    event.preventDefault();\n\n    const formData = read(this.props.auth, 'signUp.form');\n    const validationErrors = formValidation(formData);\n    if (validationErrors.hasErrors) {\n      this.props.dispatch(AS.emailSignUpError(validationErrors));\n      return;\n    }\n\n    this.props.dispatch(AS.emailSignUp(customerInfoMap(formData)));\n  }\n\n  render () {\n\n    const disabled = (\n      this.props.auth.user.isSignedIn ||\n      this.props.auth.signUp.loading\n    );\n\n    const formErrors = read(this.props.auth, 'signUp.errors.errors', '');\n\n    return (\n      <form className='redux-auth email-sign-up-form clearfix'\n            onSubmit={this.handleSubmit.bind(this)}>\n\n        <div className=\"form-group\" style={{\n          display: formErrors ? 'block' : 'none'\n        }}>\n          <AuxErrorLabel\n            label=\"Form:\"\n            errors={ formErrors.length ? [ formErrors ] : [] }\n          />\n        </div>\n\n        <IndexPanel header=\"basic\">\n\n          <Input type=\"text\"\n                 label=\"First name\"\n                 placeholder=\"First name\"\n                 className=\"email-sign-up-email\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.fname', '')}\n                 errors={read(this.props.auth, 'signUp.errors.fname', [])}\n                 onChange={this.handleInput.bind(this, \"fname\")}\n          />\n\n          <Input type=\"text\"\n                 label=\"Last name\"\n                 placeholder=\"Last name\"\n                 className=\"email-sign-up-email\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.lname', '')}\n                 errors={read(this.props.auth, 'signUp.errors.lname', [])}\n                 onChange={this.handleInput.bind(this, \"lname\")}\n          />\n\n          <Input type=\"text\"\n                 label=\"Email\"\n                 placeholder=\"Email\"\n                 className=\"email-sign-up-email\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.email', '')}\n                 errors={read(this.props.auth, 'signUp.errors.email', [])}\n                 onChange={this.handleInput.bind(this, \"email\")}\n          />\n\n          <Input type=\"password\"\n                 className=\"password-sign-in-email\"\n                 label=\"Password\"\n                 placeholder=\"Password\"\n                 name=\"password\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.password', '')}\n                 errors={read(this.props.auth, 'signUp.errors.password', [])}\n                 onChange={this.handleInput.bind(this, \"password\")}\n                 />\n\n          <Input type=\"password\"\n                 className=\"password-sign-in-email\"\n                 label=\"Confirm password\"\n                 placeholder=\"Confirm password\"\n                 name=\"password-confirm\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.passwordConfirm', '')}\n                 errors={read(this.props.auth, 'signUp.errors.passwordConfirm', [])}\n                 onChange={this.handleInput.bind(this, \"passwordConfirm\")}\n                 />\n\n\n        </IndexPanel>\n\n        <IndexPanel header=\"advanced\">\n          <Input type=\"text\"\n                 label=\"SSN\"\n                 placeholder=\"SSN\"\n                 className=\"email-sign-up-email\"\n                 bsSize=\"small\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.ssn', '')}\n                 errors={read(this.props.auth, 'signUp.errors.ssn', [])}\n                 onChange={this.handleInput.bind(this, \"ssn\")}\n          />\n\n          <Input type=\"text\"\n                 label=\"Phone\"\n                 placeholder=\"Phone\"\n                 className=\"email-sign-up-email\"\n                 bsSize=\"small\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.phoneNumber', '')}\n                 errors={read(this.props.auth, 'signUp.errors.phoneNumber', [])}\n                 onChange={this.handleInput.bind(this, \"phoneNumber\")}\n          />\n\n          <Input type=\"text\"\n                 label=\"Address 1\"\n                 placeholder=\"Address 1\"\n                 className=\"email-sign-up-email\"\n                 bsSize=\"small\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.address1', '')}\n                 errors={read(this.props.auth, 'signUp.errors.address1', [])}\n                 onChange={this.handleInput.bind(this, \"address1\")}\n          />\n\n          <Input type=\"text\"\n                 label=\"Address 2\"\n                 placeholder=\"Address 2\"\n                 className=\"email-sign-up-email\"\n                 bsSize=\"small\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.address2', '')}\n                 errors={read(this.props.auth, 'signUp.errors.address2', [])}\n                 onChange={this.handleInput.bind(this, \"address2\")}\n          />\n\n          <Input type=\"text\"\n                 label=\"City\"\n                 placeholder=\"City\"\n                 className=\"email-sign-up-email\"\n                 bsSize=\"small\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.city', '')}\n                 errors={read(this.props.auth, 'signUp.errors.city', {})}\n                 onChange={this.handleInput.bind(this, \"city\")}\n          />\n\n          <Input type=\"text\"\n                 label=\"State\"\n                 placeholder=\"State\"\n                 className=\"email-sign-up-email\"\n                 bsSize=\"small\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.state', '')}\n                 errors={read(this.props.auth, 'signUp.errors.state', [])}\n                 onChange={this.handleInput.bind(this, \"state\")}\n          />\n\n          <Input type=\"text\"\n                 label=\"ZIP\"\n                 placeholder=\"ZIP\"\n                 className=\"email-sign-up-email\"\n                 bsSize=\"small\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.zip', '')}\n                 errors={read(this.props.auth, 'signUp.errors.zip', [])}\n                 onChange={this.handleInput.bind(this, \"zip\")}\n          />\n\n        </IndexPanel>\n\n\n\n        <ButtonLoader loading={read(this.props.auth, 'signUp.loading', false)}\n                      type=\"submit\"\n                      className=\"email-sign-up-submit pull-right\"\n                      icon={<Glyphicon glyph=\"send\" />}\n                      disabled={disabled}\n                      onClick={this.handleSubmit.bind(this)}\n        >\n          Sign Up\n        </ButtonLoader>\n      </form>\n    );\n\n  }\n}\n\nexport default connect(({app}) => ({auth: app.auth}))(EmailSignUpForm);\n\n\n/** WEBPACK FOOTER **\n ** ./src/controls/bootstrap/EmailSignUpForm.js\n **/","/**\n * Created by andrew on 21/02/16.\n */\nexport const customerInfoMap = ({\n  ssn,\n  password,\n  address1,\n  address2,\n  city, //: \"Moscow\"\n  email, //: \"arevinsky@gmail.com\"\n  fname, //: \"Andrew\"\n  lname, //: \"Revinsky\"\n  phoneNumber, //: \"+79031570864\"\n  state, //: \"Kentucky\"\n  zip //: \"125315\"\n  }) => ({\n  \"name\": {\n    \"firstName\": fname,\n    \"lastName\": lname\n  },\n  password,\n  email,\n  ssn,\n  \"phoneNumber\": phoneNumber,\n  \"address\": {\n    \"street1\": address1,\n    \"street2\": address2,\n    city,\n    state,\n    \"zipCode\": zip\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./src/entities/formToPayloadMappers.js\n **/","/**\n * Created by andrew on 11/03/16.\n */\nimport { push } from 'redux-router';\nimport T from '../constants/ACTION_TYPES';\nimport { makeActionCreator } from '../utils/actions';\nimport { apiSignUp } from \"../utils/api\";\nimport { emailSignInFormUpdate } from './signIn';\n\nexport const emailSignUpFormUpdate = makeActionCreator(T.AUTH.SIGN_UP_FORM_UPDATE, 'key', 'value');\nexport const emailSignUpStart = makeActionCreator(T.AUTH.SIGN_UP_START);\nexport const emailSignUpComplete = makeActionCreator(T.AUTH.SIGN_UP_COMPLETE, 'user');\nexport const emailSignUpError = makeActionCreator(T.AUTH.SIGN_UP_ERROR, 'error');\n\n\nexport function emailSignUp(body) {\n  return dispatch => {\n    dispatch(emailSignUpStart());\n\n    return apiSignUp(body)\n      .then(({ data }) => {\n        dispatch(emailSignUpComplete(data));\n        const { email } = body;\n        dispatch(emailSignInFormUpdate('email', email));\n        dispatch(push('/signin'));\n      })\n      .catch(({ errors }) => {\n        dispatch(emailSignUpError({\n          errors\n        }))\n      });\n\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/actions/signUp.js\n **/"],"sourceRoot":""}